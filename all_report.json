{"stats":{"suites":176,"tests":696,"passes":588,"pending":8,"failures":92,"start":"2020-04-14T07:11:59.295Z","end":"2020-04-14T07:11:59.295Z","duration":4890764,"testsRegistered":696,"passPercent":84.48275862068965,"pendingPercent":1.1494252873563218,"other":0,"hasOther":false,"skipped":8,"hasSkipped":true},"results":[{"uuid":"b370db5e-dcbf-4e2c-b386-edfe27d57432","title":"","fullFile":"cypress/integration/accessibility/accessibility_account_settings_spec.js","file":"cypress/integration/accessibility/accessibility_account_settings_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"63ddbe88-2bcd-4db2-9146-d33e35f3d131","title":"Verify Accessibility Support in different sections in Account Settings Dialog","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-22628 Verify Label & Tab behavior in section links","fullTitle":"Verify Accessibility Support in different sections in Account Settings Dialog MM-22628 Verify Label & Tab behavior in section links","timedOut":null,"duration":2674,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify the aria-label and Tab support in different sections\ncy.get('body').tab();\ncy.get('#generalButton').should('have.attr', 'aria-label', 'general').focus().tab();\ncy.get('#securityButton').should('have.attr', 'aria-label', 'security').should('have.class', 'a11y--active a11y--focused').tab();\ncy.get('#notificationsButton').should('have.attr', 'aria-label', 'notifications').should('have.class', 'a11y--active a11y--focused').tab();\ncy.get('#displayButton').should('have.attr', 'aria-label', 'display').should('have.class', 'a11y--active a11y--focused').tab();\ncy.get('#sidebarButton').should('have.attr', 'aria-label', 'sidebar').should('have.class', 'a11y--active a11y--focused').tab();\ncy.get('#advancedButton').should('have.attr', 'aria-label', 'advanced').should('have.class', 'a11y--active a11y--focused').tab();","err":{},"uuid":"725bace7-20ee-45ab-94db-17727e1669e1","parentUUID":"63ddbe88-2bcd-4db2-9146-d33e35f3d131","isHook":false,"skipped":false},{"title":"MM-22628 Verify Accessibility Support in each section in Account Settings Dialog","fullTitle":"Verify Accessibility Support in different sections in Account Settings Dialog MM-22628 Verify Accessibility Support in each section in Account Settings Dialog","timedOut":null,"duration":2410,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Tab from Advanced section\ncy.get('body').tab();\ncy.get('#generalButton').click();\ncy.get('#advancedButton').tab(); // * Verify if the focus goes to the individual fields in General section\nverifySections(_account_setting_sections[\"default\"].general); // * Verify if the focus goes to the individual fields in Security section\ncy.get('#securityButton').click();\ncy.get('#advancedButton').tab();\nverifySections(_account_setting_sections[\"default\"].security); // * Verify if the focus goes to the individual fields in Notifications section\ncy.get('#notificationsButton').click();\ncy.get('#advancedButton').tab();\nverifySections(_account_setting_sections[\"default\"].notifications); // * Verify if the focus goes to the individual fields in Display section\ncy.get('#displayButton').click();\ncy.get('#advancedButton').tab();\nverifySections(_account_setting_sections[\"default\"].display); // * Verify if the focus goes to the individual fields in Sidebar section\ncy.get('#sidebarButton').click();\ncy.get('#advancedButton').tab();\nverifySections(_account_setting_sections[\"default\"].sidebar); // * Verify if the focus goes to the individual fields in Advanced section\ncy.get('#advancedButton').click().tab();\nverifySections(_account_setting_sections[\"default\"].advanced);","err":{},"uuid":"d301fcf3-6634-49e6-aea5-3be4395945f5","parentUUID":"63ddbe88-2bcd-4db2-9146-d33e35f3d131","isHook":false,"skipped":false},{"title":"MM-22628 Verify Correct Radio button behavior in Account Settings","fullTitle":"Verify Accessibility Support in different sections in Account Settings Dialog MM-22628 Verify Correct Radio button behavior in Account Settings","timedOut":null,"duration":1127,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#notificationsButton').click();\ncy.get('#desktopEdit').click();\ncy.get('#desktopNotificationAllActivity').check().should('be.checked').tab().check();\ncy.get('#desktopNotificationMentions').should('be.checked').tab().check();\ncy.get('#desktopNotificationNever').should('be.checked');","err":{},"uuid":"2dfb2112-7717-404f-a6fd-bca4c35d0331","parentUUID":"63ddbe88-2bcd-4db2-9146-d33e35f3d131","isHook":false,"skipped":false},{"title":"MM-22628 Input fields in Account Settings should read labels","fullTitle":"Verify Accessibility Support in different sections in Account Settings Dialog MM-22628 Input fields in Account Settings should read labels","timedOut":null,"duration":1244,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"_account_setting_sections[\"default\"].general.forEach(function (section) {\n  if (section.type === 'text') {\n    cy.get(\"#\".concat(section.key, \"Edit\")).click();\n    cy.get('.setting-list-item .form-group').each(function ($el) {\n      if ($el.find('input').length) {\n        cy.wrap($el).find('.control-label').invoke('text').then(function (label) {\n          cy.wrap($el).find('input').should('have.attr', 'aria-label', label);\n        });\n      }\n    });\n  }\n});","err":{},"uuid":"8be05b92-b370-4319-b2a8-cc597e33519a","parentUUID":"63ddbe88-2bcd-4db2-9146-d33e35f3d131","isHook":false,"skipped":false},{"title":"MM-22628 Language dropdown should read labels","fullTitle":"Verify Accessibility Support in different sections in Account Settings Dialog MM-22628 Language dropdown should read labels","timedOut":null,"duration":1518,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#displayButton').click();\ncy.get('#languagesEdit').click();\ncy.get('#displayLanguage').within(function () {\n  cy.get('input').should('have.attr', 'aria-autocomplete', 'list').and('have.attr', 'aria-labelledby', 'changeInterfaceLanguageLabel').as('inputEl');\n});\ncy.get('#changeInterfaceLanguageLabel').should('be.visible').and('have.text', 'Change interface language'); // # When enter key is pressed on dropdown, it should expand and collapse\ncy.get('@inputEl').type('{enter}');\ncy.get('#displayLanguage>div').should('have.class', 'react-select__control--menu-is-open');\ncy.get('@inputEl').type('{enter}');\ncy.get('#displayLanguage>div').should('not.have.class', 'react-select__control--menu-is-open'); // # Press down arrow twice and check aria label\ncy.get('@inputEl').type('{enter}');\ncy.get('@inputEl').type('{downarrow}{downarrow}');\ncy.get('#displayLanguage>span').as('ariaEl').within(function ($el) {\n  cy.wrap($el).should('have.attr', 'aria-live', 'assertive');\n  cy.get('#aria-context').should('contain', 'option Español focused').and('contain', 'Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu, press Tab to select the option and exit the menu.');\n}); // # Check if language setting gets changed after user presses enter\ncy.get('@inputEl').type('{enter}');\ncy.get('#displayLanguage').should('contain', 'Español');\ncy.get('@ariaEl').get('#aria-selection-event').should('contain', 'option Español, selected'); // # Press down arrow, then up arrow and press enter\ncy.get('@inputEl').type('{downarrow}{downarrow}{downarrow}{uparrow}');\ncy.get('@ariaEl').get('#aria-context').should('contain', 'option English focused');\ncy.get('@inputEl').type('{enter}');\ncy.get('#displayLanguage').should('contain', 'English');\ncy.get('@ariaEl').get('#aria-selection-event').should('contain', 'option English, selected');","err":{},"uuid":"2626b105-43a3-4b10-b08f-2df935dc9a89","parentUUID":"63ddbe88-2bcd-4db2-9146-d33e35f3d131","isHook":false,"skipped":false},{"title":"MM-22628 Profile Picture should read labels","fullTitle":"Verify Accessibility Support in different sections in Account Settings Dialog MM-22628 Profile Picture should read labels","timedOut":null,"duration":1970,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to Edit Profile picture\ncy.get('#generalButton').click();\ncy.get('#pictureEdit').click();\ncy.get('#generalSettings').then(function (el) {\n  if (el.find('.profile-img__remove').length > 0) {\n    cy.findByTestId('removeSettingPicture').click();\n    cy.findByTestId('saveSettingPicture').click();\n    cy.get('#pictureEdit').click();\n  }\n}); // * Check Labels in different buttons\ncy.findByTestId('inputSettingPictureButton').should('have.attr', 'aria-label', 'Select');\ncy.findByTestId('saveSettingPicture').should('have.attr', 'aria-label', 'Save').and('have.attr', 'disabled');\ncy.findByTestId('cancelSettingPicture').should('have.attr', 'aria-label', 'Cancel'); // # Upload a pic and save\ncy.fileUpload('[data-testid=\"uploadPicture\"]', 'mattermost-icon.png');\ncy.findByTestId('saveSettingPicture').should('not.be.disabled').click(); // # Click on Edit Profile Picture\ncy.get('#pictureEdit').click(); // # Option to Remove Profile picture should be present\ncy.findByTestId('removeSettingPicture').within(function () {\n  cy.get('.sr-only').should('have.text', 'Remove Profile Picture');\n}); // # Check tab behavior\ncy.findByTestId('removeSettingPicture').focus().tab({\n  shift: true\n}).tab();\ncy.findByTestId('removeSettingPicture').should('have.class', 'a11y--active a11y--focused').tab();\ncy.findByTestId('inputSettingPictureButton').should('have.class', 'a11y--active a11y--focused').tab();\ncy.findByTestId('cancelSettingPicture').should('have.class', 'a11y--active a11y--focused'); // # Remove the profile picture and check the tab behavior\ncy.findByTestId('removeSettingPicture').click().wait(TIMEOUTS.TINY);\ncy.findByTestId('inputSettingPictureButton').focus().tab({\n  shift: true\n}).tab();\ncy.findByTestId('inputSettingPictureButton').should('have.class', 'a11y--active a11y--focused').tab();\ncy.findByTestId('saveSettingPicture').should('have.class', 'a11y--active a11y--focused').tab();\ncy.findByTestId('cancelSettingPicture').should('have.class', 'a11y--active a11y--focused');\ncy.findByTestId('saveSettingPicture').click();","err":{},"uuid":"051eb3e4-c3d4-4aa8-974d-ae21efdf3472","parentUUID":"63ddbe88-2bcd-4db2-9146-d33e35f3d131","isHook":false,"skipped":false},{"title":"MM-22628 Security Settings screen should read labels","fullTitle":"Verify Accessibility Support in different sections in Account Settings Dialog MM-22628 Security Settings screen should read labels","timedOut":null,"duration":948,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to Security Settings\ncy.get('#securityButton').click(); // * Check Tab behavior in MFA section\ncy.get('#mfaEdit').click();\ncy.get('#passwordEdit').focus().tab({\n  shift: true\n}).tab().tab();\ncy.get('.setting-list a.btn').should('have.class', 'a11y--active a11y--focused').tab();\ncy.get('#cancelSetting').should('have.class', 'a11y--active a11y--focused'); // * Check Tab behavior in Sign-In Method if its available\ncy.get('.user-settings').then(function (el) {\n  if (el.find('#signinEdit').length) {\n    cy.get('#signinEdit').click();\n    cy.get('#appsEdit').focus().tab({\n      shift: true\n    }).tab().tab();\n    cy.get('.setting-list a.btn').should('have.class', 'a11y--active a11y--focused').tab();\n    cy.get('#cancelSetting').should('have.class', 'a11y--active a11y--focused');\n  }\n});","err":{},"uuid":"cf36122c-8fee-4ba8-aacc-c26e141bf2ab","parentUUID":"63ddbe88-2bcd-4db2-9146-d33e35f3d131","isHook":false,"skipped":false}],"suites":[],"passes":["725bace7-20ee-45ab-94db-17727e1669e1","d301fcf3-6634-49e6-aea5-3be4395945f5","2dfb2112-7717-404f-a6fd-bca4c35d0331","8be05b92-b370-4319-b2a8-cc597e33519a","2626b105-43a3-4b10-b08f-2df935dc9a89","051eb3e4-c3d4-4aa8-974d-ae21efdf3472","cf36122c-8fee-4ba8-aacc-c26e141bf2ab"],"failures":[],"pending":[],"skipped":[],"duration":11891,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"76805126-e28f-4486-934f-11308bc12c87","title":"","fullFile":"cypress/integration/accessibility/accessibility_dropdowns_spec.js","file":"cypress/integration/accessibility/accessibility_dropdowns_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"288a39cf-0513-48b3-a55e-80f4d27d5ff7","title":"Verify Accessibility Support in Dropdown Menus","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-22627 Accessibility Support in Channel Menu Dropdown","fullTitle":"Verify Accessibility Support in Dropdown Menus MM-22627 Accessibility Support in Channel Menu Dropdown","timedOut":null,"duration":5527,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Press tab from the Channel Favorite button\ncy.get('#toggleFavorite').focus().tab({\n  shift: true\n}).tab().tab(); // * Verify the aria-label in channel menu button\ncy.get('#channelHeaderDropdownButton button').should('have.attr', 'aria-label', 'channel menu').and('have.class', 'a11y--active a11y--focused').click(); // * Verify the accessibility support in the Channel Dropdown menu\ncy.get('#channelHeaderDropdownMenu').should('have.attr', 'aria-label', 'channel menu').and('have.class', 'a11y__popup').and('have.attr', 'role', 'menu'); // * Verify the first option is not selected by default\ncy.get('#channelHeaderDropdownMenu .MenuItem').children().eq(0).should('not.have.class', 'a11y--active a11y--focused'); // # Press tab\ncy.focused().tab(); // * Verify the accessibility support in the Channel Dropdown menu items\nvar labels = ['View Info dialog', 'Notification Preferences dialog', '', 'Add Members dialog', 'Manage Members dialog', 'Edit Channel Header dialog', 'Edit Channel Purpose dialog', 'Rename Channel dialog', 'Convert to Private Channel dialog', 'Archive Channel dialog', ''];\nverifyMenuItems('#channelHeaderDropdownMenu', labels); // * Verify if menu is closed when we press Escape\ncy.get('body').type('{esc}', {\n  force: true\n});\ncy.get('#channelHeaderDropdownMenu').should('not.exist');","err":{},"uuid":"4df3cccd-6bf1-48c2-b85b-1145df7dd592","parentUUID":"288a39cf-0513-48b3-a55e-80f4d27d5ff7","isHook":false,"skipped":false},{"title":"MM-22627 Accessibility Support in Main Menu Dropdown","fullTitle":"Verify Accessibility Support in Dropdown Menus MM-22627 Accessibility Support in Main Menu Dropdown","timedOut":null,"duration":1890,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Press tab from the Set Status button\ncy.get('.status-wrapper button.status').focus().tab({\n  shift: true\n}).tab().tab(); // * Verify the aria-label in main menu button\ncy.get('#headerInfo button').should('have.attr', 'aria-label', 'main menu').and('have.class', 'a11y--active a11y--focused').click(); // * Verify the accessibility support in the Main Menu Dropdown\ncy.get('#sidebarDropdownMenu').should('have.attr', 'aria-label', 'main menu').and('have.class', 'a11y__popup').and('have.attr', 'role', 'menu'); // * Verify the first option is not selected by default\ncy.get('#sidebarDropdownMenu .MenuItem').children().eq(0).should('not.have.class', 'a11y--active a11y--focused'); // # Press tab\ncy.focused().tab(); // * Verify the accessibility support in the Main Menu Dropdown items\ncy.apiGetConfig().then(function (response) {\n  var siteName = response.body.TeamSettings.SiteName;\n  var labels = ['Account Settings dialog', 'Invite People dialog', 'Team Settings dialog', 'Manage Members dialog', '', '', 'Leave Team dialog', '', 'Plugin Marketplace dialog', '', '', '', '', '', \"About \".concat(siteName, \" dialog\"), ''];\n  verifyMenuItems('#sidebarDropdownMenu', labels);\n});\ncy.get('#sidebarDropdownMenu .MenuItem').each(function (el) {\n  cy.wrap(el).should('have.attr', 'role', 'menuitem');\n}); // * Verify if menu is closed when we press Escape\ncy.get('body').type('{esc}', {\n  force: true\n});\ncy.get('#sidebarDropdownMenu').should('not.exist');","err":{},"uuid":"f9f5b619-0dd2-48dd-b30e-61e2d1fa8d81","parentUUID":"288a39cf-0513-48b3-a55e-80f4d27d5ff7","isHook":false,"skipped":false},{"title":"MM-22627 Accessibility Support in Status Dropdown","fullTitle":"Verify Accessibility Support in Dropdown Menus MM-22627 Accessibility Support in Status Dropdown","timedOut":null,"duration":1055,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Press tab from Add Team button\ncy.get('#select_teamTeamButton').focus().tab({\n  shift: true\n}).tab().tab(); // * Verify the aria-label in status menu button\ncy.get('.status-wrapper button.status').should('have.attr', 'aria-label', 'set status').and('have.class', 'a11y--active a11y--focused').click(); // * Verify the accessibility support in the Status Dropdown\ncy.get('#statusDropdownMenu').should('have.attr', 'aria-label', 'set status').and('have.class', 'a11y__popup').and('have.attr', 'role', 'menu'); // * Verify the first option is not selected by default\ncy.get('#statusDropdownMenu .MenuItem').children().eq(0).should('not.have.class', 'a11y--active a11y--focused'); // # Press tab\ncy.focused().tab(); // * Verify the accessibility support in the Status Dropdown menu items\nvar labels = ['online', 'away', 'do not disturb. disables desktop, email and push notifications', 'offline'];\nverifyMenuItems('#statusDropdownMenu', labels); // * Verify if menu is closed when we press Escape\ncy.get('body').type('{esc}', {\n  force: true\n});\ncy.get('#statusDropdownMenu').should('not.exist');","err":{},"uuid":"54a2f45b-00e0-4394-8009-6d8f2bda294b","parentUUID":"288a39cf-0513-48b3-a55e-80f4d27d5ff7","isHook":false,"skipped":false}],"suites":[],"passes":["4df3cccd-6bf1-48c2-b85b-1145df7dd592","f9f5b619-0dd2-48dd-b30e-61e2d1fa8d81","54a2f45b-00e0-4394-8009-6d8f2bda294b"],"failures":[],"pending":[],"skipped":[],"duration":8472,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b1a72ca0-eda4-4be3-b1a5-f7fda89cac5e","title":"","fullFile":"cypress/integration/accessibility/accessibility_input_fields_spec.js","file":"cypress/integration/accessibility/accessibility_input_fields_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"3551e4f2-3f4a-4381-94fa-16ad362a935d","title":"Verify Accessibility Support in different input fields","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-22625 Verify Accessibility Support in Input fields in Invite People Flow","fullTitle":"Verify Accessibility Support in different input fields MM-22625 Verify Accessibility Support in Input fields in Invite People Flow","timedOut":null,"duration":2869,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open Invite People\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\ncy.get('#invitePeople').should('be.visible').click(); // # Click on Invite Members link\ncy.findByTestId('inviteMembersLink').should('be.visible').within(function () {\n  cy.get('.arrow').click();\n}); // * Verify Accessibility support in Share this link input field\ncy.findByTestId('shareLinkInput').should('have.attr', 'aria-label', 'team invite link'); // * Verify Accessibility Support in Add or Invite People input field\ncy.findByTestId('inputPlaceholder').should('be.visible').within(function () {\n  cy.get('input').should('have.attr', 'aria-label', 'Add or Invite People').and('have.attr', 'aria-autocomplete', 'list');\n  cy.get('.users-emails-input__placeholder').should('have.text', 'Add members or email addresses');\n});\ncy.get('#backIcon').click(); // # Click on Invite Guests link\ncy.findByTestId('inviteGuestLink').should('be.visible').within(function () {\n  cy.get('.arrow').click();\n}); // * Verify Accessibility Support in Invite People input field\ncy.findByTestId('emailPlaceholder').should('be.visible').within(function () {\n  cy.get('input').as('inputEl').should('have.attr', 'aria-label', 'Invite People').and('have.attr', 'aria-autocomplete', 'list');\n  cy.get('.users-emails-input__placeholder').should('have.text', 'Add guests or email addresses');\n}); // * Verify Accessibility Support in Search and Add Channels input field\ncy.findByTestId('channelPlaceholder').should('be.visible').within(function () {\n  cy.get('input').should('have.attr', 'aria-label', 'Search and Add Channels').and('have.attr', 'aria-autocomplete', 'list');\n  cy.get('.channels-input__placeholder').should('have.text', 'Search and add channels');\n});","err":{},"uuid":"1baef24a-1f17-41f5-bddb-364efffee601","parentUUID":"3551e4f2-3f4a-4381-94fa-16ad362a935d","isHook":false,"skipped":false},{"title":"MM-22625 Verify Accessibility Support in Search Autocomplete","fullTitle":"Verify Accessibility Support in different input fields MM-22625 Verify Accessibility Support in Search Autocomplete","timedOut":null,"duration":33451,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/accessibility/accessibility_input_fields_spec.js/Verify Accessibility Support in different input fields -- MM-22625 Verify Accessibility Support in Search Autocomplete (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/accessibility/accessibility_input_fields_spec.js/Verify Accessibility Support in different input fields -- MM-22625 Verify Accessibility Support in Search Autocomplete (failed).png\"\n}","code":"// # Adding at least five other users in the channel\nvar channelId = testChannel.id;\ncy.apiGetTeamByName('ad-1').then(function (res) {\n  for (var i = 0; i < 5; i++) {\n    cy.apiCreateNewUser({}, [res.body.id]).then(function (user) {\n      cy.apiAddUserToChannel(channelId, user.id);\n    });\n  }\n}); // * Verify Accessibility support in search input\ncy.get('#searchBox').should('have.attr', 'aria-describedby', 'searchbar-help-popup').and('have.attr', 'aria-label', 'Search').focus();\ncy.get('#searchbar-help-popup').should('be.visible').and('have.attr', 'role', 'tooltip'); // # Ensure User list is cached once in UI\ncy.get('#searchBox').type('from:').wait(TIMEOUTS.SMALL); // # Trigger the user autocomplete again\ncy.get('#searchBox').clear().type('from:').wait(TIMEOUTS.SMALL).type('{downarrow}{downarrow}'); // * Verify Accessibility Support in search autocomplete\nverifySearchAutocomplete(2); // # Press Down arrow twice and verify if focus changes\ncy.focused().type('{downarrow}{downarrow}');\nverifySearchAutocomplete(4); // # Press Up arrow and verify if focus changes\ncy.focused().type('{uparrow}');\nverifySearchAutocomplete(3); // # Type the in: filter and ensure channel list is cached once\ncy.get('#searchBox').clear().type('in:').wait(TIMEOUTS.SMALL); // # Trigger the channel autocomplete again\ncy.get('#searchBox').clear().type('in:').wait(TIMEOUTS.SMALL).type('{downarrow}{downarrow}'); // * Verify Accessibility Support in search autocomplete\nverifySearchAutocomplete(2, 'channel'); // # Press Up arrow and verify if focus changes\ncy.focused().type('{uparrow}{uparrow}');\nverifySearchAutocomplete(0, 'channel');","err":{"message":"CypressError: Timed out retrying: expected '<div.sr-only>' to have text '@ashley.berryashley berry', but the text was 'ashley.berry ashley berry'","estack":"CypressError: Timed out retrying: expected '<div.sr-only>' to have text '@ashley.berryashley berry', but the text was 'ashley.berry ashley berry'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"b736f9ee-305a-4228-b51f-4191e8786ea9","parentUUID":"3551e4f2-3f4a-4381-94fa-16ad362a935d","isHook":false,"skipped":false},{"title":"MM-22625 Verify Accessibility Support in Message Autocomplete","fullTitle":"Verify Accessibility Support in different input fields MM-22625 Verify Accessibility Support in Message Autocomplete","timedOut":null,"duration":33465,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/accessibility/accessibility_input_fields_spec.js/Verify Accessibility Support in different input fields -- MM-22625 Verify Accessibility Support in Message Autocomplete (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/accessibility/accessibility_input_fields_spec.js/Verify Accessibility Support in different input fields -- MM-22625 Verify Accessibility Support in Message Autocomplete (failed).png\"\n}","code":"// # Adding at least one other user in the channel\ncy.getCurrentChannelId().then(function (channelId) {\n  cy.apiGetUserByEmail(user1.email).then(function (res) {\n    var user = res.body;\n    cy.apiAddUserToChannel(channelId, user.id);\n  });\n}); // * Verify Accessibility support in post input field\ncy.get('#post_textbox').should('have.attr', 'aria-label', \"write to \".concat(testChannel.display_name)).clear().focus(); // # Ensure User list is cached once in UI\ncy.get('#post_textbox').type('@').wait(TIMEOUTS.SMALL); // # Select the first user in the list\ncy.get('#suggestionList').find('.mentions__name').eq(0).within(function (el) {\n  cy.get('.mention--align').invoke('text').then(function (text) {\n    cy.wrap(el).parents('body').find('#post_textbox').clear().type(text);\n  });\n}); // # Trigger the user autocomplete again\ncy.get('#post_textbox').clear().type('@').wait(TIMEOUTS.SMALL).type('{downarrow}'); // * Verify Accessibility Support in message autocomplete\nverifyMessageAutocomplete(1); // # Press Up arrow and verify if focus changes\ncy.focused().type('{downarrow}{uparrow}{uparrow}'); // * Verify Accessibility Support in message autocomplete\nverifyMessageAutocomplete(0); // # Trigger the channel autocomplete filter and ensure channel list is cached once\ncy.get('#post_textbox').clear().type('~').wait(TIMEOUTS.SMALL); // # Trigger the channel autocomplete again\ncy.get('#post_textbox').clear().type('~').wait(TIMEOUTS.SMALL).type('{downarrow}{downarrow}'); // * Verify Accessibility Support in message autocomplete\nverifyMessageAutocomplete(2, 'channel'); // # Press Up arrow and verify if focus changes\ncy.focused().type('{downarrow}{uparrow}{uparrow}'); // * Verify Accessibility Support in message autocomplete\nverifyMessageAutocomplete(1, 'channel');","err":{"message":"CypressError: Timed out retrying: expected '<div.sr-only>' to have text 'user-1victor welch', but the text was 'user-1 victor welch'","estack":"CypressError: Timed out retrying: expected '<div.sr-only>' to have text 'user-1victor welch', but the text was 'user-1 victor welch'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"1cc20cb6-70cf-4216-8797-d13f3d0ee734","parentUUID":"3551e4f2-3f4a-4381-94fa-16ad362a935d","isHook":false,"skipped":false},{"title":"MM-22625 Verify Accessibility Support in Main Post Input","fullTitle":"Verify Accessibility Support in different input fields MM-22625 Verify Accessibility Support in Main Post Input","timedOut":null,"duration":1923,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#centerChannelFooter').within(function () {\n  // * Verify Accessibility Support in Main Post input\n  cy.get('#post_textbox').should('have.attr', 'aria-label', \"write to \".concat(testChannel.display_name)).and('have.attr', 'role', 'textbox').clear().focus().type('test').tab({\n    shift: true\n  }).tab().tab(); // * Verify if the focus is on the attachment icon\n  cy.get('#fileUploadButton').should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'attachment').tab(); // * Verify if the focus is on the emoji picker\n  cy.get('.emoji-picker__container').should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'emoji picker').tab();\n}); // * Verify if the focus is on the help link\ncy.get('#postCreateFooter .textbox-help-link').should('have.class', 'a11y--active a11y--focused');","err":{},"uuid":"35a89899-2d4e-4189-b5af-3c94a5fed4f9","parentUUID":"3551e4f2-3f4a-4381-94fa-16ad362a935d","isHook":false,"skipped":false},{"title":"MM-22625 Verify Accessibility Support in RHS Input","fullTitle":"Verify Accessibility Support in different input fields MM-22625 Verify Accessibility Support in RHS Input","timedOut":null,"duration":2919,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Wait till page is loaded\ncy.get('#post_textbox').should('be.visible').clear(); // # Post a message and open RHS\nvar message = \"hello\".concat(Date.now());\ncy.postMessage(message);\ncy.getLastPostId().then(function (postId) {\n  // # Mouseover the post and click post comment icon.\n  cy.clickPostCommentIcon(postId);\n});\ncy.get('#rhsContainer').within(function () {\n  // * Verify Accessibility Support in RHS input\n  cy.get('#reply_textbox').should('have.attr', 'aria-label', 'add a comment...').and('have.attr', 'role', 'textbox').focus().type('test').tab({\n    shift: true\n  }).tab().tab(); // * Verify if the focus is on the attachment icon\n  cy.get('#fileUploadButton').should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'attachment').tab(); // * Verify if the focus is on the emoji picker\n  cy.get('.emoji-picker__container').should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'emoji picker').tab(); // * Verify if the focus is on the help link\n  cy.get('.textbox-help-link').should('have.class', 'a11y--active a11y--focused').tab(); // * Verify if the focus is on the Add Comment button\n  cy.get('#addCommentButton').should('have.class', 'a11y--active a11y--focused');\n});","err":{},"uuid":"5e4e26f3-17e7-4121-b630-fce54580b5c0","parentUUID":"3551e4f2-3f4a-4381-94fa-16ad362a935d","isHook":false,"skipped":false}],"suites":[],"passes":["1baef24a-1f17-41f5-bddb-364efffee601","35a89899-2d4e-4189-b5af-3c94a5fed4f9","5e4e26f3-17e7-4121-b630-fce54580b5c0"],"failures":["b736f9ee-305a-4228-b51f-4191e8786ea9","1cc20cb6-70cf-4216-8797-d13f3d0ee734"],"pending":[],"skipped":[],"duration":74627,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"28426646-3315-4963-9b47-bf16b1ee059b","title":"","fullFile":"cypress/integration/accessibility/accessibility_modals_dialogs_spec.js","file":"cypress/integration/accessibility/accessibility_modals_dialogs_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"077eeb98-987b-4eb4-9a70-98da17727e86","title":"Verify Accessibility Support in Modals & Dialogs","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-22623 Accessibility Support in Different Modals and Dialog screen","fullTitle":"Verify Accessibility Support in Modals & Dialogs MM-22623 Accessibility Support in Different Modals and Dialog screen","timedOut":null,"duration":8559,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify the aria-label in main menu button\ncy.get('#headerInfo button').should('have.attr', 'aria-label', 'main menu'); // * Verify the accessibility support in Account Settings Dialog\nverifyMainMenuModal('Account Settings', 'accountSettingsModal', 'accountSettingsModalLabel', 'Account Settings'); // * Verify the accessibility support in Team Settings Dialog\nverifyMainMenuModal('Team Settings', 'teamSettingsModal', 'teamSettingsModalLabel', 'Team Settings'); // * Verify the accessibility support in Manage Members Dialog\nverifyMainMenuModal('Manage Members', 'teamMembersModal', 'teamMemberModalLabel', 'eligendi Members');\ncy.visit('/ad-1/channels/off-topic'); // * Verify the accessibility support in Channel Edit Header Dialog\nverifyChannelMenuModal('Edit Channel Header', 'Edit Header for Off-Topic', 'editChannelHeaderModalLabel'); // * Verify the accessibility support in Channel Edit Purpose Dialog\nverifyChannelMenuModal('Edit Channel Purpose', 'Edit Purpose for Off-Topic', 'editChannelPurposeModalLabel'); // * Verify the accessibility support in Rename Channel Dialog\nverifyChannelMenuModal('Rename Channel', 'Rename Channel', 'renameChannelModalLabel');","err":{},"uuid":"13766caf-2be7-43d3-bac8-8371561006ba","parentUUID":"077eeb98-987b-4eb4-9a70-98da17727e86","isHook":false,"skipped":false},{"title":"MM-22623 Accessibility Support in Direct Messages Dialog screen","fullTitle":"Verify Accessibility Support in Modals & Dialogs MM-22623 Accessibility Support in Direct Messages Dialog screen","timedOut":null,"duration":3437,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify the aria-label in create direct message button\ncy.get('#addDirectChannel').should('have.attr', 'aria-label', 'write a direct message').click(); // * Verify the accessibility support in Direct Messages Dialog`\ncy.get('#moreDmModal').should('have.attr', 'role', 'dialog').and('have.attr', 'aria-labelledby', 'moreDmModalLabel').within(function () {\n  cy.get('#moreDmModalLabel').should('be.visible').and('contain', 'Direct Messages');\n  cy.get('.modal-header button.close').should('have.attr', 'aria-label', 'Close'); // * Verify the accessibility support in search input\n  cy.get('#selectItems input').should('have.attr', 'aria-label', 'Search and add members').and('have.attr', 'aria-autocomplete', 'list'); // # Search for a text and then check up and down arrow\n  cy.get('#selectItems input').type('s', {\n    force: true\n  }).wait(500).type('{downarrow}{downarrow}{downarrow}{uparrow}', {\n    force: true\n  });\n  cy.get('#multiSelectList').children().eq(2).should('have.class', 'more-modal__row--selected').within(function () {\n    cy.get('.more-modal__name').invoke('text').then(function (user) {\n      selectedRowText = user.split(' - ')[0].replace('@', '');\n    });\n  }); // * Verify if the reader is able to read out the selected row\n  cy.get('.filtered-user-list .sr-only').should('have.attr', 'aria-live', 'polite').and('have.attr', 'aria-atomic', 'true').invoke('text').then(function (text) {\n    expect(text).equal(selectedRowText);\n  }); // # Search for an invalid text\n  cy.get('#selectItems input').type('somethingwhichdoesnotexist', {\n    force: true\n  }).wait(500); // * Check if reader can read no results\n  cy.get('.multi-select__wrapper').should('have.attr', 'aria-live', 'polite').and('have.text', 'No items found');\n});","err":{},"uuid":"8b34361c-31c4-451c-a57f-c37e9e485878","parentUUID":"077eeb98-987b-4eb4-9a70-98da17727e86","isHook":false,"skipped":false},{"title":"MM-22623 Accessibility Support in More Channels Dialog screen","fullTitle":"Verify Accessibility Support in Modals & Dialogs MM-22623 Accessibility Support in More Channels Dialog screen","timedOut":null,"duration":1191,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify the aria-label in more public channels button\ncy.get('#sidebarPublicChannelsMore').should('have.attr', 'aria-label', 'See more public channels').click(); // * Verify the accessibility support in More Channels Dialog`\ncy.get('#moreChannelsModal').should('have.attr', 'role', 'dialog').and('have.attr', 'aria-labelledby', 'moreChannelsModalLabel').within(function () {\n  cy.get('#moreChannelsModalLabel').should('be.visible').and('contain', 'More Channels');\n  cy.get('.modal-header button.close').should('have.attr', 'aria-label', 'Close'); // * Verify the accessibility support in search input\n  cy.get('#searchChannelsTextbox').should('have.attr', 'placeholder', 'Search channels'); // # Focus on the Create Channel button and TAB twice\n  cy.get('#createNewChannel').focus().tab().tab(); // * Verify channel name is highlighted and reader reads the channel name and channel description\n  cy.get('#moreChannelsList').children().eq(0).as('selectedRow');\n  cy.get('@selectedRow').within(function () {\n    cy.get('.more-modal__description').invoke('text').then(function (description) {\n      cy.get('.more-modal__details button').should('have.class', 'a11y--active a11y--focused').invoke('text').then(function (channel) {\n        selectedRowText = channel.toLowerCase() + ', ' + description.toLowerCase();\n        cy.get('.more-modal__details button').should('have.attr', 'aria-label', selectedRowText);\n      });\n    }); // * Press Tab and verify if focus changes to Join button\n    cy.focused().tab();\n    cy.get('.more-modal__actions button').should('have.class', 'a11y--active a11y--focused'); // * Verify previous button should no longer be focused\n    cy.get('.more-modal__details button').should('not.have.class', 'a11y--active a11y--focused');\n  }); // * Press Tab again and verify if focus changes to next row\n  cy.focused().tab();\n  cy.get('#moreChannelsList').children().eq(1).as('selectedRow').get('.more-modal__details button').should('have.class', 'a11y--active a11y--focused');\n});","err":{},"uuid":"787fcf13-dccc-4f16-81c0-60df5b1d895f","parentUUID":"077eeb98-987b-4eb4-9a70-98da17727e86","isHook":false,"skipped":false},{"title":"MM-22623 Accessibility Support in Add New Members to Channel Dialog screen","fullTitle":"Verify Accessibility Support in Modals & Dialogs MM-22623 Accessibility Support in Add New Members to Channel Dialog screen","timedOut":null,"duration":3338,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.visit('/ad-1/channels/off-topic'); // # Open Add Members Dialog\ncy.get('#channelHeaderDropdownIcon').click();\ncy.findByText('Add Members').click(); // * Verify the accessibility support in Add New Members Dialog`\ncy.get('#addUsersToChannelModal').should('have.attr', 'role', 'dialog').and('have.attr', 'aria-labelledby', 'channelInviteModalLabel').within(function () {\n  cy.get('#channelInviteModalLabel').should('be.visible').and('contain', 'Add New Members to Off-Topic');\n  cy.get('.modal-header button.close').should('have.attr', 'aria-label', 'Close'); // * Verify the accessibility support in search input\n  cy.get('#selectItems input').should('have.attr', 'aria-label', 'Search and add members').and('have.attr', 'aria-autocomplete', 'list'); // # Search for a text and then check up and down arrow\n  cy.get('#selectItems input').type('s', {\n    force: true\n  }).wait(TIMEOUTS.TINY).type('{downarrow}{downarrow}{downarrow}{uparrow}', {\n    force: true\n  });\n  cy.get('#multiSelectList').children().eq(2).should('have.class', 'more-modal__row--selected').within(function () {\n    cy.get('.more-modal__name').invoke('text').then(function (user) {\n      selectedRowText = user.split(' - ')[0].replace('@', '');\n    });\n  }); // * Verify if the reader is able to read out the selected row\n  cy.get('.filtered-user-list .sr-only').should('have.attr', 'aria-live', 'polite').and('have.attr', 'aria-atomic', 'true').invoke('text').then(function (text) {\n    expect(text).equal(selectedRowText);\n  }); // # Search for an invalid text and check if reader can read no results\n  cy.get('#selectItems input').type('somethingwhichdoesnotexist', {\n    force: true\n  }).wait(500); // * Check if reader can read no results\n  cy.get('.multi-select__wrapper').should('have.attr', 'aria-live', 'polite').and('have.text', 'No items found');\n});","err":{},"uuid":"44fdd045-bc26-49e3-aa44-79e0cfe18e0c","parentUUID":"077eeb98-987b-4eb4-9a70-98da17727e86","isHook":false,"skipped":false},{"title":"MM-22623 Accessibility Support in Manage Channel Members Dialog screen","fullTitle":"Verify Accessibility Support in Modals & Dialogs MM-22623 Accessibility Support in Manage Channel Members Dialog screen","timedOut":null,"duration":2537,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.visit('/ad-1/channels/off-topic'); // # Adding at least two other users in the channel\ncy.getCurrentChannelId().then(function (channelId) {\n  cy.apiGetUserByEmail(user1.email).then(function (res) {\n    var user = res.body;\n    cy.apiAddUserToChannel(channelId, user.id);\n  });\n  cy.apiGetUserByEmail(user2.email).then(function (res) {\n    var user = res.body;\n    cy.apiAddUserToChannel(channelId, user.id);\n  });\n}); // # Open Channel Members Dialog\ncy.get('#channelHeaderDropdownIcon').click();\ncy.findByText('Manage Members').click(); // * Verify the accessibility support in Manage Members Dialog`\ncy.get('#channelMembersModal').should('have.attr', 'role', 'dialog').and('have.attr', 'aria-labelledby', 'channelMembersModalLabel').within(function () {\n  cy.get('#channelMembersModalLabel').should('be.visible').and('contain', 'Off-Topic Members');\n  cy.get('.modal-header button.close').should('have.attr', 'aria-label', 'Close'); // * Verify the accessibility support in search input\n  cy.get('#searchUsersInput').should('have.attr', 'placeholder', 'Search users').focus().type(' {backspace}').wait(TIMEOUTS.TINY).tab({\n    shift: true\n  }).tab().tab(); // * Verify channel name is highlighted and reader reads the channel name\n  cy.get('.more-modal__list>div').children().eq(0).as('selectedRow');\n  cy.get('@selectedRow').within(function () {\n    cy.get('.more-modal__actions button').should('have.class', 'a11y--active a11y--focused');\n    cy.get('.more-modal__name').invoke('text').then(function (user) {\n      selectedRowText = user.split(' - ')[0].replace('@', '');\n      cy.get('.more-modal__actions button .sr-only').should('have.text', selectedRowText);\n    });\n  }); // * Press Tab again and verify if focus changes to next row\n  cy.focused().tab();\n  cy.get('.more-modal__list>div').children().eq(1).as('selectedRow').get('.more-modal__actions button').should('have.class', 'a11y--active a11y--focused'); // * Verify accessibility support in search total results\n  cy.get('#searchableUserListTotal').should('have.attr', 'aria-live', 'polite');\n});","err":{},"uuid":"80941adb-8429-4ac9-8cdb-105d8055dc89","parentUUID":"077eeb98-987b-4eb4-9a70-98da17727e86","isHook":false,"skipped":false}],"suites":[],"passes":["13766caf-2be7-43d3-bac8-8371561006ba","8b34361c-31c4-451c-a57f-c37e9e485878","787fcf13-dccc-4f16-81c0-60df5b1d895f","44fdd045-bc26-49e3-aa44-79e0cfe18e0c","80941adb-8429-4ac9-8cdb-105d8055dc89"],"failures":[],"pending":[],"skipped":[],"duration":19062,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"9977e1db-b7ae-4143-83c0-c0ca15de23bf","title":"","fullFile":"cypress/integration/accessibility/accessibility_nav_diff_regions_spec.js","file":"cypress/integration/accessibility/accessibility_nav_diff_regions_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"cc48f8e0-4831-4a4a-90c5-37ebb9467591","title":"Verify Quick Navigation support across different regions in the app","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-22626 Verify Navigation Support in Post List & Post Input","fullTitle":"Verify Quick Navigation support across different regions in the app MM-22626 Verify Navigation Support in Post List & Post Input","timedOut":null,"duration":5933,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Shift focus to the last post\ncy.get('#fileUploadButton').focus().tab({\n  shift: true\n}).tab({\n  shift: true\n});\ncy.get('body').type('{uparrow}{downarrow}'); // * Verify post region reads out correctly\nverifyNavSupport('#virtualizedPostListContent > div', 'message list main region', '1'); // # Shift focus to the post input\ncy.get('#fileUploadButton').focus().tab({\n  shift: true\n}); // * Verify post input region reads out correctly\nverifyNavSupport('#centerChannelFooter', 'message input complimentary region', '2');","err":{},"uuid":"00af48c6-ced9-40e8-878d-b1bc8211d011","parentUUID":"cc48f8e0-4831-4a4a-90c5-37ebb9467591","isHook":false,"skipped":false},{"title":"MM-22626 Verify Navigation Support in RHS Post List & RHS Post Input","fullTitle":"Verify Quick Navigation support across different regions in the app MM-22626 Verify Navigation Support in RHS Post List & RHS Post Input","timedOut":null,"duration":2334,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open RHS and reply\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostCommentIcon(postId);\n  var replyMessage = 'A reply to an older post';\n  cy.postMessageReplyInRHS(replyMessage);\n}); // * Verify post message in RHS\ncy.get('#rhsContainer').within(function () {\n  // # Shift the focus to the last post\n  cy.get('#fileUploadButton').focus().tab({\n    shift: true\n  }).tab({\n    shift: true\n  }).type('{uparrow}'); // * Verify post region on RHS reads out correctly\n  verifyNavSupport('#rhsContent', 'message details complimentary region', '3'); // # Shift the focus to the RHS input\n  cy.get('#fileUploadButton').focus().tab({\n    shift: true\n  }); // * Verify post input on RHS reads out correctly\n  verifyNavSupport('#rhsFooter', 'reply input region', '4');\n});","err":{},"uuid":"42406a75-1eeb-4682-85d6-4b6b06d2cd21","parentUUID":"cc48f8e0-4831-4a4a-90c5-37ebb9467591","isHook":false,"skipped":false},{"title":"MM-22626 Verify Navigation Support in LHS Sidebar","fullTitle":"Verify Quick Navigation support across different regions in the app MM-22626 Verify Navigation Support in LHS Sidebar","timedOut":null,"duration":138,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change the focus to Main Menu button\ncy.get('#headerInfo button').focus().tab({\n  shift: true\n}).tab(); // * Verify nav support in LHS sidebar header\nverifyNavSupport('#lhsHeader', 'team menu region', '5'); // # Change the focus to the LHS sidebar\ncy.get('#headerInfo button').focus().tab({\n  shift: true\n}).tab().tab(); // * Verify nav support in LHS sidebar\nverifyNavSupport('#lhsList', 'channel sidebar region', '6');","err":{},"uuid":"7bb6f324-3cc0-415c-9fa8-a05fa5eb2fcc","parentUUID":"cc48f8e0-4831-4a4a-90c5-37ebb9467591","isHook":false,"skipped":false},{"title":"MM-22626 Verify Navigation Support in Channel Header","fullTitle":"Verify Quick Navigation support across different regions in the app MM-22626 Verify Navigation Support in Channel Header","timedOut":null,"duration":71,"state":"passed","speed":"medium","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change the focus to Main Menu button\ncy.get('#toggleFavorite').focus().tab({\n  shift: true\n}).tab(); // * Verify nav support in LHS sidebar header\nverifyNavSupport('#channel-header', 'channel header region', '8');","err":{},"uuid":"fac18da6-8d36-4177-a2ab-ad2eccc5575c","parentUUID":"cc48f8e0-4831-4a4a-90c5-37ebb9467591","isHook":false,"skipped":false},{"title":"MM-22626 Verify Navigation Support in Search Results","fullTitle":"Verify Quick Navigation support across different regions in the app MM-22626 Verify Navigation Support in Search Results","timedOut":null,"duration":615,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Search for some text\ncy.get('#searchBox').should('be.visible').type('hello {enter}'); // # Change the focus to search results\ncy.get('#searchContainer').within(function () {\n  cy.get('button.sidebar--right__expand').focus().tab({\n    shift: true\n  }).tab();\n  cy.focused().tab().tab();\n});\ncy.get('body').type('{downarrow}{uparrow}'); // * Verify nav support in Search Results Container\nverifyNavSupport('#search-items-container', 'Search Results complimentary region', '3');","err":{},"uuid":"359477fc-8bb9-4cd8-9796-a8824b6ae385","parentUUID":"cc48f8e0-4831-4a4a-90c5-37ebb9467591","isHook":false,"skipped":false}],"suites":[],"passes":["00af48c6-ced9-40e8-878d-b1bc8211d011","42406a75-1eeb-4682-85d6-4b6b06d2cd21","7bb6f324-3cc0-415c-9fa8-a05fa5eb2fcc","fac18da6-8d36-4177-a2ab-ad2eccc5575c","359477fc-8bb9-4cd8-9796-a8824b6ae385"],"failures":[],"pending":[],"skipped":[],"duration":9091,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"98fd7523-98d2-4133-ad4f-d9ce244dadc0","title":"","fullFile":"cypress/integration/accessibility/accessibility_post_spec.js","file":"cypress/integration/accessibility/accessibility_post_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"a5e0465d-85be-4f95-83e1-15e1e7195e3b","title":"Verify Accessibility Support in Post","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-22631 Verify Reader reads out the post correctly on Center Channel","fullTitle":"Verify Accessibility Support in Post MM-22631 Verify Reader reads out the post correctly on Center Channel","timedOut":null,"duration":10847,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"postAndPerformActions(); // # Shift focus to the last post\ncy.get('#fileUploadButton').focus().tab({\n  shift: true\n}).tab({\n  shift: true\n});\ncy.get('body').type('{uparrow}{downarrow}'); // * Verify post message in Center Channel\ncy.getLastPostId().then(function (postId) {\n  // * Verify reader reads out the post correctly\n  verifyPostLabel(\"#post_\".concat(postId), otherUser.username, \"wrote, \".concat(message, \", 2 reactions, message is flagged and pinned\"));\n});","err":{},"uuid":"7be079f0-0706-40df-8488-1d357784ae12","parentUUID":"a5e0465d-85be-4f95-83e1-15e1e7195e3b","isHook":false,"skipped":false},{"title":"MM-22631 Verify Reader reads out the post correctly on RHS","fullTitle":"Verify Accessibility Support in Post MM-22631 Verify Reader reads out the post correctly on RHS","timedOut":null,"duration":12672,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"postAndPerformActions(); // # Post a reply on RHS\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostCommentIcon(postId);\n  cy.get('#rhsContainer').should('be.visible');\n  var replyMessage = 'A reply to an older post';\n  cy.postMessageReplyInRHS(replyMessage); // * Verify post message in RHS\n  cy.get('#rhsContainer').within(function () {\n    // # Shift the focus to the last post\n    cy.get('#fileUploadButton').focus().tab({\n      shift: true\n    }).tab({\n      shift: true\n    }).type('{uparrow}'); // * Verify reader reads out the post correctly\n    verifyPostLabel(\"#rhsPost_\".concat(postId), otherUser.username, \"wrote, \".concat(message, \", 2 reactions, message is flagged and pinned\"));\n  }); // * Verify reply message in RHS\n  cy.getLastPostId().then(function (replyId) {\n    cy.get('#rhsContainer').within(function () {\n      // # Shift the focus to the last reply message\n      cy.get('#fileUploadButton').focus().tab({\n        shift: true\n      }).tab({\n        shift: true\n      }).type('{uparrow}{downarrow}'); // * Verify reader reads out the post correctly\n      verifyPostLabel(\"#rhsPost_\".concat(replyId), currentUser.username, \"replied, \".concat(replyMessage));\n    });\n  });\n});","err":{},"uuid":"43f09eb9-e8f6-4fae-8612-f66cfceaae15","parentUUID":"a5e0465d-85be-4f95-83e1-15e1e7195e3b","isHook":false,"skipped":false},{"title":"MM-22631 Verify different Post Focus on Center Channel","fullTitle":"Verify Accessibility Support in Post MM-22631 Verify different Post Focus on Center Channel","timedOut":null,"duration":13843,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"postMessages(5); // # Shift focus to the last post\ncy.get('#fileUploadButton').focus().tab({\n  shift: true\n}).tab({\n  shift: true\n}).type('{uparrow}'); // * Verify if focus changes to different posts when we use up arrows\nfor (var index = 1; index < 5; index++) {\n  cy.getNthPostId(-index - 1).then(function (postId) {\n    cy.get(\"#post_\".concat(postId)).should('have.class', 'a11y--active a11y--focused');\n    cy.get('body').type('{uparrow}');\n  });\n} // * Verify if focus changes to different posts when we use down arrows\n\nfor (var _index = 5; _index > 0; _index--) {\n  cy.getNthPostId(-_index - 1).then(function (postId) {\n    cy.get(\"#post_\".concat(postId)).should('have.class', 'a11y--active a11y--focused');\n    cy.get('body').type('{downarrow}');\n  });\n}","err":{},"uuid":"1bd2eb41-79b9-478a-930c-4b9b70f60053","parentUUID":"a5e0465d-85be-4f95-83e1-15e1e7195e3b","isHook":false,"skipped":false},{"title":"MM-22631 Verify different Post Focus on RHS","fullTitle":"Verify Accessibility Support in Post MM-22631 Verify different Post Focus on RHS","timedOut":null,"duration":10160,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post Message as Current user\nmessage = \"hello from sysadmin: \".concat(Date.now());\ncy.postMessage(message); // # Post few replies on RHS\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostCommentIcon(postId);\n  cy.get('#rhsContainer').should('be.visible');\n  cy.getCurrentChannelId().then(function (channelId) {\n    for (var index = 0; index < 3; index++) {\n      var replyMessage = \"A reply \".concat(Date.now());\n      cy.postMessageReplyInRHS(replyMessage);\n      message = \"reply from \".concat(otherUser.username, \": \").concat(Date.now());\n      cy.postMessageAs({\n        sender: otherUser,\n        message: message,\n        channelId: channelId,\n        rootId: postId\n      });\n    }\n  });\n});\ncy.get('#rhsContainer').within(function () {\n  // # Shift focus to the last post\n  cy.get('#fileUploadButton').focus().tab({\n    shift: true\n  }).tab({\n    shift: true\n  }).type('{uparrow}');\n}); // * Verify if focus changes to different posts when we use up arrows\nfor (var index = 1; index < 5; index++) {\n  cy.getNthPostId(-index - 1).then(function (postId) {\n    cy.get(\"#rhsPost_\".concat(postId)).should('have.class', 'a11y--active a11y--focused');\n    cy.get('body').type('{uparrow}');\n  });\n} // * Verify if focus changes to different posts when we use down arrows\n\nfor (var _index2 = 5; _index2 > 1; _index2--) {\n  cy.getNthPostId(-_index2 - 1).then(function (postId) {\n    cy.get(\"#rhsPost_\".concat(postId)).should('have.class', 'a11y--active a11y--focused');\n    cy.get('body').type('{downarrow}');\n  });\n}","err":{},"uuid":"776ad5e4-53fb-406f-975b-d1aa52d6a698","parentUUID":"a5e0465d-85be-4f95-83e1-15e1e7195e3b","isHook":false,"skipped":false},{"title":"MM-22631 Verify Tab support on Post on Center Channel","fullTitle":"Verify Accessibility Support in Post MM-22631 Verify Tab support on Post on Center Channel","timedOut":null,"duration":5623,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"postMessages(); // # Shift focus to the last post\ncy.get('#fileUploadButton').focus().tab({\n  shift: true\n}).tab({\n  shift: true\n});\ncy.get('body').type('{uparrow}{downarrow}');\ncy.focused().tab();\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).within(function () {\n    // * Verify focus is on the username\n    cy.get('button.user-popover').should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', otherUser.username);\n    cy.focused().tab(); // * Verify focus is on the time\n    cy.get(\"#CENTER_time_\".concat(postId)).should('have.class', 'a11y--active a11y--focused');\n    cy.focused().tab(); // * Verify focus is on the flag icon\n    cy.get(\"#CENTER_flagIcon_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'flag for follow up');\n    cy.focused().tab(); // * Verify focus is on the actions button\n    cy.get(\"#CENTER_button_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'more actions');\n    cy.focused().tab(); // * Verify focus is on the reactions button\n    cy.get(\"#CENTER_reaction_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'add reaction');\n    cy.focused().tab(); // * Verify focus is on the comment button\n    cy.get(\"#CENTER_commentIcon_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'reply');\n    cy.focused().tab(); // * Verify focus is on the post text\n    cy.get(\"#postMessageText_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-readonly', 'true');\n  });\n});","err":{},"uuid":"7d3dea5f-94e5-474a-9b43-90b03d57498c","parentUUID":"a5e0465d-85be-4f95-83e1-15e1e7195e3b","isHook":false,"skipped":false},{"title":"MM-22631 Verify Tab support on Post on RHS","fullTitle":"Verify Accessibility Support in Post MM-22631 Verify Tab support on Post on RHS","timedOut":null,"duration":6840,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post Message as Current user\nmessage = \"hello from sysadmin: \".concat(Date.now());\ncy.postMessage(message); // # Post few replies on RHS\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostCommentIcon(postId);\n  cy.get('#rhsContainer').should('be.visible');\n  cy.getCurrentChannelId().then(function (channelId) {\n    var replyMessage = \"A reply \".concat(Date.now());\n    cy.postMessageReplyInRHS(replyMessage);\n    message = \"reply from \".concat(otherUser.username, \": \").concat(Date.now());\n    cy.postMessageAs({\n      sender: otherUser,\n      message: message,\n      channelId: channelId,\n      rootId: postId\n    });\n  });\n});\ncy.get('#rhsContainer').within(function () {\n  // # Shift focus to the last post\n  cy.get('#fileUploadButton').focus().tab({\n    shift: true\n  }).tab({\n    shift: true\n  });\n}); // * Verify reverse tab on RHS\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#rhsPost_\".concat(postId)).within(function () {\n    // * Verify focus is on the post text\n    cy.get(\"#rhsPostMessageText_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-readonly', 'true');\n    cy.focused().tab({\n      shift: true\n    }); // * Verify focus is on the reactions button\n    cy.get(\"#RHS_COMMENT_reaction_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'add reaction');\n    cy.focused().tab({\n      shift: true\n    }); // * Verify focus is on the actions button\n    cy.get(\"#RHS_COMMENT_button_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'more actions');\n    cy.focused().tab({\n      shift: true\n    }); // * Verify focus is on the flag icon\n    cy.get(\"#RHS_COMMENT_flagIcon_\".concat(postId)).should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'flag for follow up');\n    cy.focused().tab({\n      shift: true\n    }); // * Verify focus is on the time\n    cy.get(\"#RHS_COMMENT_time_\".concat(postId)).should('have.class', 'a11y--active a11y--focused');\n    cy.focused().tab({\n      shift: true\n    }); // * Verify focus is on the username\n    cy.get('button.user-popover').should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', otherUser.username);\n    cy.focused().tab({\n      shift: true\n    });\n  });\n});","err":{},"uuid":"2ff79dda-9c0b-4ff7-8fe9-e1c9654ec65b","parentUUID":"a5e0465d-85be-4f95-83e1-15e1e7195e3b","isHook":false,"skipped":false}],"suites":[],"passes":["7be079f0-0706-40df-8488-1d357784ae12","43f09eb9-e8f6-4fae-8612-f66cfceaae15","1bd2eb41-79b9-478a-930c-4b9b70f60053","776ad5e4-53fb-406f-975b-d1aa52d6a698","7d3dea5f-94e5-474a-9b43-90b03d57498c","2ff79dda-9c0b-4ff7-8fe9-e1c9654ec65b"],"failures":[],"pending":[],"skipped":[],"duration":59985,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"91906944-51c2-4311-81bc-659cc487cd32","title":"","fullFile":"cypress/integration/accessibility/accessibility_sidebar_spec.js","file":"cypress/integration/accessibility/accessibility_sidebar_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"d6abad1a-f5c7-48b6-bf26-ebb21a4306c6","title":"Verify Accessibility Support in Channel Sidebar Navigation","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-22630 Verify Up & Down Arrow support in Channel Sidebar","fullTitle":"Verify Accessibility Support in Channel Sidebar Navigation MM-22630 Verify Up & Down Arrow support in Channel Sidebar","timedOut":null,"duration":12686,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Mark few channels as Favorites\nmarkAsFavorite('off-topic');\nmarkAsFavorite('town-square'); // # Press tab from the Main Menu button\ncy.get('#headerInfo button').focus().tab({\n  shift: true\n}).tab().tab(); // # Press Down Arrow and then Up Arrow\ncy.get('body').type('{downarrow}{uparrow}'); // * Verify if Unread Channels section has focus\ncy.get('#unreadsChannelList').should('have.attr', 'aria-label', 'unreads').and('have.class', 'a11y__section a11y--active a11y--focused'); // # Press Down Arrow and check the focus\ncy.get('body').type('{downarrow}'); // * Verify if Favorite Channels section has focus\ncy.get('#favoriteChannelList').should('have.attr', 'aria-label', 'favorite channels').and('have.class', 'a11y__section a11y--active a11y--focused'); // # Press Down Arrow and check the focus\ncy.get('body').type('{downarrow}'); // * Verify if Public Channels section has focus\ncy.get('#publicChannelList').should('have.attr', 'aria-label', 'public channels').and('have.class', 'a11y__section a11y--active a11y--focused'); // # Press Down Arrow and check the focus\ncy.get('body').type('{downarrow}'); // * Verify if Public Channels section has focus\ncy.get('#privateChannelList').should('have.attr', 'aria-label', 'private channels').and('have.class', 'a11y__section a11y--active a11y--focused'); // # Press Down Arrow and check the focus\ncy.get('body').type('{downarrow}'); // * Verify if Public Channels section has focus\ncy.get('#directChannelList').should('have.attr', 'aria-label', 'direct messages').and('have.class', 'a11y__section a11y--active a11y--focused');","err":{},"uuid":"f40e60af-ff1b-43c6-8c22-21ff508915ec","parentUUID":"d6abad1a-f5c7-48b6-bf26-ebb21a4306c6","isHook":false,"skipped":false},{"title":"MM-22630 Verify Tab Support in Unreads section","fullTitle":"Verify Accessibility Support in Channel Sidebar Navigation MM-22630 Verify Tab Support in Unreads section","timedOut":null,"duration":2719,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Press tab from the Main Menu button\ncy.get('#headerInfo button').focus().tab({\n  shift: true\n}).tab().tab(); // * Verify if focus changes to different channels in Unread section\ncy.get('#unreadsChannelList .sidebar-item').each(function (el) {\n  cy.wrap(el).should('have.class', 'a11y--active a11y--focused').invoke('attr', 'aria-label').should('not.be.empty');\n  cy.focused().tab();\n});","err":{},"uuid":"4ae00582-606e-4cb4-b524-d386b3ab626d","parentUUID":"d6abad1a-f5c7-48b6-bf26-ebb21a4306c6","isHook":false,"skipped":false},{"title":"MM-22630 Verify Tab Support in Favorites section","fullTitle":"Verify Accessibility Support in Channel Sidebar Navigation MM-22630 Verify Tab Support in Favorites section","timedOut":null,"duration":1469,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Press tab from the Main Menu button\ncy.get('#headerInfo button').focus().tab({\n  shift: true\n}).tab().tab();\ncy.get('#unreadsChannelList .sidebar-item').each(function () {\n  cy.focused().tab();\n}); // * Verify if focus changes to different channels in Favorite Channels section\ncy.get('#favoriteChannelList .sidebar-item').each(function (el) {\n  cy.wrap(el).should('have.class', 'a11y--active a11y--focused').invoke('attr', 'aria-label').should('not.be.empty');\n  cy.focused().tab();\n});","err":{},"uuid":"45875ccd-573a-4efd-938c-89991233287f","parentUUID":"d6abad1a-f5c7-48b6-bf26-ebb21a4306c6","isHook":false,"skipped":false},{"title":"MM-22630 Verify Tab Support in Public Channels section","fullTitle":"Verify Accessibility Support in Channel Sidebar Navigation MM-22630 Verify Tab Support in Public Channels section","timedOut":null,"duration":7238,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create some Public Channels\ncy.getCurrentTeamId().then(function (teamId) {\n  cy.apiCreateChannel(teamId, 'public', 'public').then(function () {\n    cy.apiCreateChannel(teamId, 'public2', 'public2').then(function () {\n      // # Wait for few seconds\n      cy.wait(TIMEOUTS.SMALL); // # Press tab to the Add Public Channel button\n      cy.get('#createPublicChannel').focus().tab({\n        shift: true\n      }).tab().should('have.attr', 'aria-label', 'create a public channel'); // * Verify if the Plus button is round when it has focus\n      cy.get('#createPublicChannel').should('have.class', 'a11y--active a11y--focused').and('have.css', 'border-radius', '50%').tab(); // * Verify if focus changes to different channels in Public Channels section\n      cy.get('#publicChannelList .sidebar-item').each(function (el) {\n        cy.wrap(el).should('have.class', 'a11y--active a11y--focused').invoke('attr', 'aria-label').should('contain', 'public channel');\n        cy.focused().tab();\n      }); // * Verify if focus is on the more public channels\n      cy.get('#sidebarPublicChannelsMore').should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'See more public channels');\n    });\n  });\n});","err":{},"uuid":"323bf6c0-3b25-461d-8855-4793ea5a068d","parentUUID":"d6abad1a-f5c7-48b6-bf26-ebb21a4306c6","isHook":false,"skipped":false},{"title":"MM-22630 Verify Tab Support in Private Channels section","fullTitle":"Verify Accessibility Support in Channel Sidebar Navigation MM-22630 Verify Tab Support in Private Channels section","timedOut":null,"duration":6977,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create some Private Channels\ncy.getCurrentTeamId().then(function (teamId) {\n  cy.apiCreateChannel(teamId, 'private', 'private', 'P').then(function () {\n    cy.apiCreateChannel(teamId, 'private2', 'private2', 'P').then(function () {\n      // # Wait for few seconds\n      cy.wait(TIMEOUTS.SMALL); // # Press tab to the Add Private Channel button\n      cy.get('#createPrivateChannel').focus().tab({\n        shift: true\n      }).tab().should('have.attr', 'aria-label', 'create a private channel'); // * Verify if the Plus button is round when it has focus\n      cy.get('#createPrivateChannel').should('have.class', 'a11y--active a11y--focused').and('have.css', 'border-radius', '50%').tab(); // * Verify if focus changes to different channels in Favorite Channels section\n      cy.get('#privateChannelList .sidebar-item').each(function (el) {\n        cy.wrap(el).should('have.class', 'a11y--active a11y--focused').invoke('attr', 'aria-label').should('contain', 'private channel');\n        cy.focused().tab();\n      });\n    });\n  });\n});","err":{},"uuid":"adb740e9-efca-45a9-8238-53bafe171044","parentUUID":"d6abad1a-f5c7-48b6-bf26-ebb21a4306c6","isHook":false,"skipped":false},{"title":"MM-22630 Verify Tab Support in Direct Messages section","fullTitle":"Verify Accessibility Support in Channel Sidebar Navigation MM-22630 Verify Tab Support in Direct Messages section","timedOut":null,"duration":8888,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Trigger DM with a user\ncy.get('#addDirectChannel').click();\ncy.get('.more-modal__row.clickable').first().click();\ncy.get('#saveItems').click(); // # Trigger DM with couple of users\ncy.get('#addDirectChannel').click();\ncy.get('.more-modal__row.clickable').first().click();\ncy.get('.more-modal__row.clickable').eq(1).click();\ncy.get('#saveItems').click();\ncy.wait(TIMEOUTS.SMALL); // # Press tab to the Create DM button\ncy.get('#addDirectChannel').focus().tab({\n  shift: true\n}).tab().should('have.attr', 'aria-label', 'write a direct message'); // * Verify if the Plus button is round when it has focus\ncy.get('#addDirectChannel').should('have.class', 'a11y--active a11y--focused').and('have.css', 'border-radius', '50%').tab(); // * Verify if focus changes to different channels in Direct Messages section\ncy.get('#directChannelList .sidebar-item').each(function (el) {\n  cy.wrap(el).should('have.class', 'a11y--active a11y--focused').invoke('attr', 'aria-label').should('not.be.empty');\n  cy.focused().tab();\n}); // * Verify if focus is on the more direct messages\ncy.get('#moreDirectMessage').should('have.class', 'a11y--active a11y--focused').and('have.attr', 'aria-label', 'See more direct messages');","err":{},"uuid":"f4829e88-1359-461f-9f24-6ff8ac360fac","parentUUID":"d6abad1a-f5c7-48b6-bf26-ebb21a4306c6","isHook":false,"skipped":false}],"suites":[],"passes":["f40e60af-ff1b-43c6-8c22-21ff508915ec","4ae00582-606e-4cb4-b524-d386b3ab626d","45875ccd-573a-4efd-938c-89991233287f","323bf6c0-3b25-461d-8855-4793ea5a068d","adb740e9-efca-45a9-8238-53bafe171044","f4829e88-1359-461f-9f24-6ff8ac360fac"],"failures":[],"pending":[],"skipped":[],"duration":39977,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"4dd5414a-30af-41ad-9539-1142e13fdeeb","title":"","fullFile":"cypress/integration/account_settings/display/channel_display_mode_spec.js","file":"cypress/integration/account_settings/display/channel_display_mode_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"22e61bec-ed18-4b71-973e-d00773574e09","title":"Account Settings > Display > Channel Display Mode","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should render in min setting view","fullTitle":"Account Settings > Display > Channel Display Mode should render in min setting view","timedOut":null,"duration":3960,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to Account Settings\ncy.toAccountSettingsModal(); // * Check that the Display tab is loaded\ncy.get('#displayButton').should('be.visible'); // # Click the Display tab\ncy.get('#displayButton').click(); // * Check that it changed into the Display section\ncy.get('#displaySettingsTitle').should('be.visible').should('contain', 'Display Settings'); // # Scroll up to bring Channel Display setting in viewable area.\ncy.get('#channel_display_modeTitle').scrollIntoView(); // * Check the min setting view if each element is present and contains expected text values\ncy.get('#channel_display_modeTitle').should('be.visible').should('contain', 'Channel Display');\ncy.get('#channel_display_modeDesc').should('be.visible').should('contain', 'Fixed width');\ncy.get('#channel_display_modeEdit').should('be.visible').should('contain', 'Edit');\ncy.get('#accountSettingsHeader > .close').should('be.visible');","err":{},"uuid":"3ce0c385-c846-47e8-a5b3-be064777c2a1","parentUUID":"22e61bec-ed18-4b71-973e-d00773574e09","isHook":false,"skipped":false},{"title":"should render in max setting view","fullTitle":"Account Settings > Display > Channel Display Mode should render in max setting view","timedOut":null,"duration":348,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click \"Edit\" to the right of \"Channel Display\"\ncy.get('#channel_display_modeEdit').click(); // # Scroll a bit to show the \"Save\" button\ncy.get('.section-max').scrollIntoView(); // * Check that it changed into the Channel Display section\n// * Check the max setting view if each element is present and contains expected text values\ncy.get('#channel_display_modeFormatA').should('be.visible');\ncy.get('#channel_display_modeFormatB').should('be.visible');\ncy.get('#saveSetting').should('be.visible').should('contain', 'Save');\ncy.get('#cancelSetting').should('be.visible').should('contain', 'Cancel');\ncy.get('#accountSettingsHeader > .close').should('be.visible');","err":{},"uuid":"dffb993f-d04c-4d76-b4e3-08456595a2b6","parentUUID":"22e61bec-ed18-4b71-973e-d00773574e09","isHook":false,"skipped":false},{"title":"change channel display mode setting to \"Full width\"","fullTitle":"Account Settings > Display > Channel Display Mode change channel display mode setting to \"Full width\"","timedOut":null,"duration":623,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click the radio button for \"Full width\"\ncy.get('#channel_display_modeFormatA').click(); // # Click \"Save\"\ncy.get('#saveSetting').click(); // * Check that it changed into min setting view\n// * Check if element is present and contains expected text values\ncy.get('#channel_display_modeDesc').should('be.visible').should('contain', 'Full width'); // # Click \"x\" button to close Account Settings modal\ncy.get('#accountSettingsHeader > .close').click(); // # Go to channel which has any posts\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // * Validate if the post content in center channel is full width\n// by checking the exact class name.\ncy.get('#postListContent').should('be.visible');\ncy.get(\"div[data-testid='postContent']\").first().invoke('attr', 'class').should('contain', 'post__content').should('not.contain', 'center');","err":{},"uuid":"0b1b6089-af83-4ae1-91ce-fc7fe2785c27","parentUUID":"22e61bec-ed18-4b71-973e-d00773574e09","isHook":false,"skipped":false},{"title":"AS13225 Channel display mode setting to \"Fixed width, centered\"","fullTitle":"Account Settings > Display > Channel Display Mode AS13225 Channel display mode setting to \"Fixed width, centered\"","timedOut":null,"duration":1098,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.toAccountSettingsModal(); // * Check that the Sidebar tab is loaded\ncy.get('#displayButton').should('be.visible'); // # Click the display tab\ncy.get('#displayButton').click(); // # Click \"Edit\" to the right of \"Channel Display\"\ncy.get('#channel_display_modeEdit').click(); // # Scroll a bit to show the \"Save\" button\ncy.get('.section-max').scrollIntoView(); // # Click the radio button for \"Fixed width, centered\"\ncy.get('#channel_display_modeFormatB').click(); // # Click \"Save\"\ncy.get('#saveSetting').click(); // * Check that it changed into min setting view\n// * Check if element is present and contains expected text values\ncy.get('#channel_display_modeDesc').should('be.visible').should('contain', 'Fixed width'); // # Click \"x\" button to close Account Settings modal\ncy.get('#accountSettingsHeader > .close').click(); // # Go to channel which has any posts\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // * Validate if the post content in center channel is fixed and centered\n// by checking the exact class name.\ncy.get('#postListContent').should('be.visible');\ncy.get(\"div[data-testid='postContent']\").first().invoke('attr', 'class').should('contain', 'post__content center');","err":{},"uuid":"2c5e787e-9acf-4cc2-9ad2-52410cdb1498","parentUUID":"22e61bec-ed18-4b71-973e-d00773574e09","isHook":false,"skipped":false}],"suites":[],"passes":["3ce0c385-c846-47e8-a5b3-be064777c2a1","dffb993f-d04c-4d76-b4e3-08456595a2b6","0b1b6089-af83-4ae1-91ce-fc7fe2785c27","2c5e787e-9acf-4cc2-9ad2-52410cdb1498"],"failures":[],"pending":[],"skipped":[],"duration":6029,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"597a4e14-d755-4400-92e6-103e94945a40","title":"","fullFile":"cypress/integration/account_settings/display/code_theme_colors_spec.js","file":"cypress/integration/account_settings/display/code_theme_colors_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5b0f1ef3-fce6-4cc5-859e-a4b386a14d85","title":"AS14319 Theme Colors - Code","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"github theme renders correctly","fullTitle":"AS14319 Theme Colors - Code github theme renders correctly","timedOut":null,"duration":6281,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Navigate to the theme settings\nnavigateToThemeSettings(); // # Check Custom Themes\ncy.get('#customThemes').check().should('be.checked'); // # Open Center Channel Styles section\ncy.get('#centerChannelStyles').click({\n  force: true\n}); // # Select custom code theme\ncy.get('#codeThemeSelect').scrollIntoView().should('be.visible').select(THEME.name); // * Verify that the setting changes in the background?\nverifyLastPostStyle(THEME); // # Save and close settings modal\ncy.get('#saveSetting').click();\ncy.get('#accountSettingsHeader > .close').click();\ncy.get('#accountSettingsHeader').should('be.hidden'); // * Verify that the styles remain after saving and closing modal\nverifyLastPostStyle(THEME); // # Reload the browser\ncy.reload(); // * Verify the styles are still intact\nverifyLastPostStyle(THEME);","err":{},"uuid":"0a6c2acc-8a50-451b-8787-fd34bb7f26fe","parentUUID":"5b0f1ef3-fce6-4cc5-859e-a4b386a14d85","isHook":false,"skipped":false},{"title":"monokai theme renders correctly","fullTitle":"AS14319 Theme Colors - Code monokai theme renders correctly","timedOut":null,"duration":2867,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Navigate to the theme settings\nnavigateToThemeSettings(); // # Check Custom Themes\ncy.get('#customThemes').check().should('be.checked'); // # Open Center Channel Styles section\ncy.get('#centerChannelStyles').click({\n  force: true\n}); // # Select custom code theme\ncy.get('#codeThemeSelect').scrollIntoView().should('be.visible').select(THEME.name); // * Verify that the setting changes in the background?\nverifyLastPostStyle(THEME); // # Save and close settings modal\ncy.get('#saveSetting').click();\ncy.get('#accountSettingsHeader > .close').click();\ncy.get('#accountSettingsHeader').should('be.hidden'); // * Verify that the styles remain after saving and closing modal\nverifyLastPostStyle(THEME); // # Reload the browser\ncy.reload(); // * Verify the styles are still intact\nverifyLastPostStyle(THEME);","err":{},"uuid":"a9dafa16-f5a4-4d1e-8322-fdee1259e780","parentUUID":"5b0f1ef3-fce6-4cc5-859e-a4b386a14d85","isHook":false,"skipped":false},{"title":"solarized-light theme renders correctly","fullTitle":"AS14319 Theme Colors - Code solarized-light theme renders correctly","timedOut":null,"duration":2886,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Navigate to the theme settings\nnavigateToThemeSettings(); // # Check Custom Themes\ncy.get('#customThemes').check().should('be.checked'); // # Open Center Channel Styles section\ncy.get('#centerChannelStyles').click({\n  force: true\n}); // # Select custom code theme\ncy.get('#codeThemeSelect').scrollIntoView().should('be.visible').select(THEME.name); // * Verify that the setting changes in the background?\nverifyLastPostStyle(THEME); // # Save and close settings modal\ncy.get('#saveSetting').click();\ncy.get('#accountSettingsHeader > .close').click();\ncy.get('#accountSettingsHeader').should('be.hidden'); // * Verify that the styles remain after saving and closing modal\nverifyLastPostStyle(THEME); // # Reload the browser\ncy.reload(); // * Verify the styles are still intact\nverifyLastPostStyle(THEME);","err":{},"uuid":"a9b9d7d7-bc3c-4cc6-865d-25c372f19ca1","parentUUID":"5b0f1ef3-fce6-4cc5-859e-a4b386a14d85","isHook":false,"skipped":false},{"title":"solarized-dark theme renders correctly","fullTitle":"AS14319 Theme Colors - Code solarized-dark theme renders correctly","timedOut":null,"duration":3785,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Navigate to the theme settings\nnavigateToThemeSettings(); // # Check Custom Themes\ncy.get('#customThemes').check().should('be.checked'); // # Open Center Channel Styles section\ncy.get('#centerChannelStyles').click({\n  force: true\n}); // # Select custom code theme\ncy.get('#codeThemeSelect').scrollIntoView().should('be.visible').select(THEME.name); // * Verify that the setting changes in the background?\nverifyLastPostStyle(THEME); // # Save and close settings modal\ncy.get('#saveSetting').click();\ncy.get('#accountSettingsHeader > .close').click();\ncy.get('#accountSettingsHeader').should('be.hidden'); // * Verify that the styles remain after saving and closing modal\nverifyLastPostStyle(THEME); // # Reload the browser\ncy.reload(); // * Verify the styles are still intact\nverifyLastPostStyle(THEME);","err":{},"uuid":"2e5df638-976f-47e0-9a0b-845c7999369e","parentUUID":"5b0f1ef3-fce6-4cc5-859e-a4b386a14d85","isHook":false,"skipped":false}],"suites":[],"passes":["0a6c2acc-8a50-451b-8787-fd34bb7f26fe","a9dafa16-f5a4-4d1e-8322-fdee1259e780","a9b9d7d7-bc3c-4cc6-865d-25c372f19ca1","2e5df638-976f-47e0-9a0b-845c7999369e"],"failures":[],"pending":[],"skipped":[],"duration":15819,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"dbf7e013-5833-49d5-ae17-ec04be202e20","title":"","fullFile":"cypress/integration/account_settings/display/message_display_mode_spec.js","file":"cypress/integration/account_settings/display/message_display_mode_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"359ade16-3b3a-4044-8519-a76825dc81cc","title":"Account Settings > Display > Message Display","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M14283 Compact view: Line breaks remain intact after editing","fullTitle":"Account Settings > Display > Message Display M14283 Compact view: Line breaks remain intact after editing","timedOut":null,"duration":6240,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Enter in text\ncy.get('#post_textbox').clear().type('First line').type('{shift}{enter}{enter}').type('Text after{enter}'); // # Get last postId\ncy.getLastPostId().then(function (postId) {\n  var postMessageTextId = \"#postMessageText_\".concat(postId); // * Verify HTML still includes new line\n  cy.get(postMessageTextId).should('have.html', '<p>First line</p>\\n<p>Text after</p>'); // # click dot menu button\n  cy.clickPostDotMenu(postId); // # click edit post\n  cy.get(\"#edit_post_\".concat(postId)).should('be.visible').click(); // # Add \",edited\" to the text\n  cy.get('#edit_textbox').type(',edited'); // # Save\n  cy.get('#editButton').click(); // * Verify HTML includes newline and the edit\n  cy.get(postMessageTextId).should('have.html', '<p>First line</p>\\n<p>Text after,edited</p>'); // * Post should have (edited)\n  cy.get(\"#postEdited_\".concat(postId)).should('be.visible').should('contain', '(edited)');\n});","err":{},"uuid":"4243fb65-97a1-4c94-ab0b-d8f86ad19d6b","parentUUID":"359ade16-3b3a-4044-8519-a76825dc81cc","isHook":false,"skipped":false}],"suites":[],"passes":["4243fb65-97a1-4c94-ab0b-d8f86ad19d6b"],"failures":[],"pending":[],"skipped":[],"duration":6240,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"530894e3-774d-49af-b9af-efd62ac6804a","title":"","fullFile":"cypress/integration/account_settings/display/theme/custom_theme_color_picker_spec.js","file":"cypress/integration/account_settings/display/theme/custom_theme_color_picker_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"063fd2ca-39f0-4393-9434-3155447ac33f","title":"AS14318 Theme Colors - Color Picker","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Should be able to use color picker input and change Sidebar theme color","fullTitle":"AS14318 Theme Colors - Color Picker Should be able to use color picker input and change Sidebar theme color","timedOut":null,"duration":4384,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change \"Sidebar BG\" and verify color change\nverifyColorPickerChange('Sidebar Styles', '#sidebarBg-squareColorIcon', '#sidebarBg-ChromePickerModal', '#sidebarBg-squareColorIconValue', '#bb123e', 'rgb(187, 18, 62)');","err":{},"uuid":"96d74522-f2cb-4278-a179-7a4254af43e5","parentUUID":"063fd2ca-39f0-4393-9434-3155447ac33f","isHook":false,"skipped":false},{"title":"Should be able to use color picker input and change Center Channel Styles","fullTitle":"AS14318 Theme Colors - Color Picker Should be able to use color picker input and change Center Channel Styles","timedOut":null,"duration":2309,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change \"Center Channel BG\" and verify color change\nverifyColorPickerChange('Center Channel Styles', '#centerChannelBg-squareColorIcon', '#centerChannelBg-ChromePickerModal', '#centerChannelBg-squareColorIconValue', '#ff8800', 'rgb(255, 136, 0)');","err":{},"uuid":"94b39c40-9f75-422d-8a19-0a32948cdfbd","parentUUID":"063fd2ca-39f0-4393-9434-3155447ac33f","isHook":false,"skipped":false},{"title":"Should be able to use color picker input and change Link and Button Styles","fullTitle":"AS14318 Theme Colors - Color Picker Should be able to use color picker input and change Link and Button Styles","timedOut":null,"duration":2287,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change \"Link Color\" and verify color change\nverifyColorPickerChange('Link and Button Styles', '#linkColor-squareColorIcon', '#linkColor-ChromePickerModal', '#linkColor-squareColorIconValue', '#ffe577', 'rgb(255, 229, 119)');","err":{},"uuid":"03745a4d-61fb-4c21-a16a-6aeaff4af126","parentUUID":"063fd2ca-39f0-4393-9434-3155447ac33f","isHook":false,"skipped":false}],"suites":[],"passes":["96d74522-f2cb-4278-a179-7a4254af43e5","94b39c40-9f75-422d-8a19-0a32948cdfbd","03745a4d-61fb-4c21-a16a-6aeaff4af126"],"failures":[],"pending":[],"skipped":[],"duration":8980,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"05707bd0-cca6-4b01-96d1-9447b2adcba5","title":"","fullFile":"cypress/integration/account_settings/display/theme/custom_theme_sidebar_styles_spec.js","file":"cypress/integration/account_settings/display/theme/custom_theme_sidebar_styles_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"a9a60350-3fa3-469f-9135-3f17b79e3437","title":"AS14318 Theme Colors - Custom Sidebar Styles input change","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should change Sidebar BG custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Sidebar BG custom color","timedOut":null,"duration":4299,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"3ddb3532-433e-4356-8d3e-406da1b5e666","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Sidebar Text custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Sidebar Text custom color","timedOut":null,"duration":1065,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"64926c85-abbf-4d3c-b98b-3b4cf8106711","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Sidebar Header BG custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Sidebar Header BG custom color","timedOut":null,"duration":1059,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"6ce6d210-b903-4ead-9a9f-dbf36f942055","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Sidebar Header Text custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Sidebar Header Text custom color","timedOut":null,"duration":1045,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"9018e43d-8c37-47f5-94a0-35ffa0827bfa","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Sidebar Unread Text custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Sidebar Unread Text custom color","timedOut":null,"duration":1058,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"228213ba-c3e2-4f3b-a111-5ba1926a8d9f","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Sidebar Text Hover BG custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Sidebar Text Hover BG custom color","timedOut":null,"duration":1041,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"aaaa81e0-5c17-41ee-a033-94e2bbcdd910","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Sidebar Text Active Border custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Sidebar Text Active Border custom color","timedOut":null,"duration":1035,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"1dc565dc-e5f9-4fcd-9b1f-b584711b2c2d","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Sidebar Text Active Color custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Sidebar Text Active Color custom color","timedOut":null,"duration":1027,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"6fa2b3f9-a529-4b77-b838-5d63e4072e96","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Online Indicator custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Online Indicator custom color","timedOut":null,"duration":1029,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"634995f1-6551-4ced-9b56-8417a4f273b4","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Away Indicator custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Away Indicator custom color","timedOut":null,"duration":1029,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"115bbbab-b100-40d9-8cf2-cf9d606630a7","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Do Not Disturb Indicator custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Do Not Disturb Indicator custom color","timedOut":null,"duration":1027,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"9c83f13e-ab08-46e9-b52c-e36dab13ef2d","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Mention Jewel BG custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Mention Jewel BG custom color","timedOut":null,"duration":1024,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"9f954962-dc04-4930-9fb2-7968c19068a3","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should change Mention Jewel Text custom color","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should change Mention Jewel Text custom color","timedOut":null,"duration":1029,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click input color button\ncy.get('.input-group-addon').eq(testCase.key).scrollIntoView().click({\n  force: true\n}); // # Enter hex value\ncy.get('.color-popover').scrollIntoView().within(function () {\n  cy.get('input').clear({\n    force: true\n  }).invoke('val', testCase.value).wait(TIMEOUTS.TINY).type(' {backspace}{enter}', {\n    force: true\n  });\n}); // * Check that icon color change\ncy.get('.color-icon').eq(testCase.key).should('have.css', 'background-color', testCase.backgroundColor); // * Check that theme colors for text sharing is updated\ncy.get('#pasteBox').scrollIntoView().should('contain', \"\\\"\".concat(testCase.themeId, \"\\\":\\\"\").concat(testCase.value, \"\\\"\"));","err":{},"uuid":"4c466704-69e1-4a49-aa0f-08d49ca0c97b","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should observe color change in Account Settings modal before saving","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should observe color change in Account Settings modal before saving","timedOut":null,"duration":270,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check Sidebar BG color change\ncy.get('.settings-links').should('have.css', 'background-color', 'rgb(20, 191, 188)'); // * Check Sidebar Text color change\ncy.get('#generalButton').should('have.css', 'color', 'rgba(129, 65, 65, 0.6)'); // * Check Sidebar Header BG color change\ncy.get('#accountSettingsHeader').should('have.css', 'background', 'rgb(17, 171, 168) none repeat scroll 0% 0% / auto padding-box border-box'); // * Check Sidebar Header Text color change\ncy.get('#accountSettingsModalLabel').should('have.css', 'color', 'rgb(129, 65, 65)');\ncy.get('#saveSetting').click({\n  force: true\n});\ncy.get('#accountSettingsHeader > .close').click();","err":{},"uuid":"c1384ec7-744b-49c5-aabf-5e4653c046b0","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false},{"title":"should take effect each custom color in Channel View","fullTitle":"AS14318 Theme Colors - Custom Sidebar Styles input change should take effect each custom color in Channel View","timedOut":null,"duration":1061,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check Mention Jewel BG color\ncy.get('#unreadIndicatorBottom').should('have.css', 'background-color', 'rgb(129, 65, 65)'); // * Check Mention Jewel Text color\ncy.get('#unreadIndicatorBottom').should('have.css', 'color', 'rgb(65, 92, 129)'); // # Set user status to online\ncy.userStatus(0); // * Check Online Indicator color\ncy.get('.online--icon').should('have.css', 'fill', 'rgb(65, 129, 113)'); // # Set user status to away\ncy.userStatus(1); // * Check Away Indicator color\ncy.get('.away--icon').should('have.css', 'fill', 'rgb(129, 106, 65)'); // # Set user status to do not disturb\ncy.userStatus(2); // * Check Do Not Disturb Indicator color\ncy.get('.dnd--icon').should('have.css', 'fill', 'rgb(129, 65, 65)'); // # Revert user status to online\ncy.userStatus(0);","err":{},"uuid":"22d75b82-1b1e-4264-b791-fed3dc182e9e","parentUUID":"a9a60350-3fa3-469f-9135-3f17b79e3437","isHook":false,"skipped":false}],"suites":[],"passes":["3ddb3532-433e-4356-8d3e-406da1b5e666","64926c85-abbf-4d3c-b98b-3b4cf8106711","6ce6d210-b903-4ead-9a9f-dbf36f942055","9018e43d-8c37-47f5-94a0-35ffa0827bfa","228213ba-c3e2-4f3b-a111-5ba1926a8d9f","aaaa81e0-5c17-41ee-a033-94e2bbcdd910","1dc565dc-e5f9-4fcd-9b1f-b584711b2c2d","6fa2b3f9-a529-4b77-b838-5d63e4072e96","634995f1-6551-4ced-9b56-8417a4f273b4","115bbbab-b100-40d9-8cf2-cf9d606630a7","9c83f13e-ab08-46e9-b52c-e36dab13ef2d","9f954962-dc04-4930-9fb2-7968c19068a3","4c466704-69e1-4a49-aa0f-08d49ca0c97b","c1384ec7-744b-49c5-aabf-5e4653c046b0","22d75b82-1b1e-4264-b791-fed3dc182e9e"],"failures":[],"pending":[],"skipped":[],"duration":18098,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"619a9fd9-3178-4664-b4c1-0730af05a6ee","title":"","fullFile":"cypress/integration/account_settings/display/theme/settings_view_spec.js","file":"cypress/integration/account_settings/display/theme/settings_view_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"3664933e-dbbe-4c91-8e75-4ec0d73ed023","title":"AS14318 Theme Colors - Settings View","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Theme Display should render in min setting view","fullTitle":"AS14318 Theme Colors - Settings View Theme Display should render in min setting view","timedOut":null,"duration":3655,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to Account Settings\ncy.toAccountSettingsModal(); // * Check that the Display tab is loaded\ncy.get('#displayButton').should('be.visible'); // # Click the Display tab\ncy.get('#displayButton').click(); // * Check that it changed into the Display section\ncy.get('#displaySettingsTitle').should('be.visible').should('contain', 'Display Settings'); // * Check the min setting view for each element that is present and contains the expected values\nverifyMinDisplayView();\ncy.get('#accountSettingsHeader > .close').click();","err":{},"uuid":"df479156-706e-4b3d-93c2-224528879943","parentUUID":"3664933e-dbbe-4c91-8e75-4ec0d73ed023","isHook":false,"skipped":false}],"suites":[],"passes":["df479156-706e-4b3d-93c2-224528879943"],"failures":[],"pending":[],"skipped":[],"duration":3655,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"5cf1aa28-4318-4b96-b645-61e2fbcd2818","title":"","fullFile":"cypress/integration/account_settings/general/fullname_spec.js","file":"cypress/integration/account_settings/general/fullname_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"fed30315-261f-4b5c-ba4a-8f48ec1f6975","title":"Account Settings > Sidebar > General","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M17459 - Filtering by first name with Korean characters","fullTitle":"Account Settings > Sidebar > General M17459 - Filtering by first name with Korean characters","timedOut":null,"duration":27615,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/account_settings/general/fullname_spec.js/Account Settings  Sidebar  General -- M17459 - Filtering by first name with Korean characters (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/account_settings/general/fullname_spec.js/Account Settings  Sidebar  General -- M17459 - Filtering by first name with Korean characters (failed).png\"\n}","code":"cy.apiLogin('user-1');\ncy.get('@newuser').then(function (user) {\n  cy.visit('/ad-1/channels/town-square'); // # type in user`s firstName substring\n  cy.get('#post_textbox').clear().type(\"@\\uC815\\uD2B8\\uB9AC\\uB098\".concat(uniqueNumber));\n  cy.findByTestId(user.username, {\n    exact: false\n  }).within(function (name) {\n    cy.wrap(name).prev('.suggestion-list__divider').should('have.text', 'Channel Members');\n    cy.wrap(name).find('.mention--align').should('have.text', \"@\".concat(user.username));\n    cy.wrap(name).find('.mention__fullname').should('have.text', \" - \\uC815\\uD2B8\\uB9AC\\uB098\".concat(uniqueNumber, \"/trina.jung/\\uC9D1\\uB2E8\\uC0AC\\uBB34\\uAD6D(CO) \").concat(user.lastName, \" (\").concat(user.nickname, \")\"));\n  }); // # Press tab on text input\n  cy.get('#post_textbox').tab(); // # verify that after enter user`s username match\n  cy.get('#post_textbox').should('have.value', \"@\".concat(user.username, \" \")); // # click enter in post textbox\n  cy.get('#post_textbox').type('{enter}'); // # verify that message has been post in chat\n  cy.get(\"[data-mention=\\\"\".concat(user.username, \"\\\"]\")).last().scrollIntoView().should('be.visible');\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"4ff5640c-d7fa-4b60-9ff0-0c27fdc1c045","parentUUID":"fed30315-261f-4b5c-ba4a-8f48ec1f6975","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["4ff5640c-d7fa-4b60-9ff0-0c27fdc1c045"],"pending":[],"skipped":[],"duration":27615,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"4bd3f3c1-23f4-48a5-b9a0-7d865fac1558","title":"","fullFile":"cypress/integration/account_settings/general/main_menu_stays_open_spec.js","file":"cypress/integration/account_settings/general/main_menu_stays_open_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"2484f3a6-4d56-49b1-a4c2-dbd5145af49f","title":"Account Settings > General","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"AS15009 - Main Menu stays open","fullTitle":"Account Settings > General AS15009 - Main Menu stays open","timedOut":null,"duration":7903,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click the hamburger button\ncy.get('#headerInfo').find('button').click({\n  force: true\n}); // * Menu should be visible\ncy.get('#sidebarDropdownMenu').find('.dropdown-menu').should('be.visible'); // # Post a message as other user and wait for it to reach\ncy.postMessageAs({\n  sender: _users[\"default\"]['user-1'],\n  message: 'abc',\n  channelId: townsquareChannelId\n}).wait(TIMEOUTS.SMALL); // * Menu should still be visible\ncy.get('#sidebarDropdownMenu').find('.dropdown-menu').should('be.visible');","err":{},"uuid":"839ba71c-f6d9-48f9-bef9-db848ab21d99","parentUUID":"2484f3a6-4d56-49b1-a4c2-dbd5145af49f","isHook":false,"skipped":false}],"suites":[],"passes":["839ba71c-f6d9-48f9-bef9-db848ab21d99"],"failures":[],"pending":[],"skipped":[],"duration":7903,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"887b5a09-0379-42bb-b383-212eab3d288f","title":"","fullFile":"cypress/integration/account_settings/general/nickname_spec.js","file":"cypress/integration/account_settings/general/nickname_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"c6399b15-fed0-493d-aa9e-0295814812dc","title":"Account Settings > Sidebar > General","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Nickname should render in before clicking edit","fullTitle":"Account Settings > Sidebar > General Nickname should render in before clicking edit","timedOut":null,"duration":2987,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Check that the General tab is loaded and click it\ncy.get('#generalButton').should('be.visible').click(); // * Check if element is present before nickname is set and contains expected text values\ncy.get('#generalSettingsTitle').should('be.visible').should('contain', 'General Settings');\ncy.get('#nicknameTitle').should('be.visible').should('contain', 'Nickname');\ncy.get('#nicknameDesc').should('be.visible').should('contain', \"Click 'Edit' to add a nickname\");\ncy.get('#nicknameEdit').should('be.visible').should('contain', 'Edit');\ncy.get('#accountSettingsHeader > .close').should('be.visible').click();","err":{},"uuid":"4db5a6b0-40aa-4943-b93c-31b48a96375f","parentUUID":"c6399b15-fed0-493d-aa9e-0295814812dc","isHook":false,"skipped":false},{"title":"Nickname should render after clicking edit","fullTitle":"Account Settings > Sidebar > General Nickname should render after clicking edit","timedOut":null,"duration":932,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click \"Edit\" to the right of \"Nickname\"\ncy.get('#nicknameEdit').should('be.visible').click(); // * Check elements after clicking 'Edit'\ncy.get('#generalSettingsTitle').should('be.visible').should('contain', 'General Settings');\ncy.get('#settingTitle').should('be.visible').should('contain', 'Nickname');\ncy.get('#nickname').should('be.visible');\ncy.get('#saveSetting').should('be.visible').should('contain', 'Save');\ncy.get('#cancelSetting').should('be.visible').should('contain', 'Cancel');\ncy.get('#accountSettingsHeader > .close').should('be.visible').click();","err":{},"uuid":"b2538dba-a1c9-4152-8a17-20974c9964c5","parentUUID":"c6399b15-fed0-493d-aa9e-0295814812dc","isHook":false,"skipped":false},{"title":"No nickname is present","fullTitle":"Account Settings > Sidebar > General No nickname is present","timedOut":null,"duration":2270,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click \"Edit\" to the right of \"Nickname\"\ncy.get('#nicknameEdit').should('be.visible').click(); // # Clear the nickname text field contents\ncy.get('#nickname').clear();\ncy.get('#saveSetting').click();\ncy.get('#nicknameDesc').should('be.visible').should('contain', \"Click 'Edit' to add a nickname\"); // # Close Account settings and open channel dropdown menu\ncy.get('#accountSettingsHeader > .close').should('be.visible').click();\ncy.get('#sidebarHeaderDropdownButton').click(); // # Click view members\ncy.get('#viewMembers').should('be.visible').click(); // # Search for username and check that no nickname is present\ncy.get('.modal-title').should('be.visible');\ncy.get('#searchUsersInput').should('be.visible').type('Victor Welch');\ncy.get('.more-modal__details > .more-modal__name').should('be.visible').should('contain', '@user-1 - Victor Welch'); // # Close Team Members modal\ncy.get('#teamMembersModal').should('be.visible').within(function () {\n  return cy.get('.close').click();\n});","err":{},"uuid":"d49b4552-5c9a-4fbe-850e-0c95bb9d35e5","parentUUID":"c6399b15-fed0-493d-aa9e-0295814812dc","isHook":false,"skipped":false},{"title":"AS13279 Account Settings > Add Nickname","fullTitle":"Account Settings > Sidebar > General AS13279 Account Settings > Add Nickname","timedOut":null,"duration":2392,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click the General tab\ncy.get('#generalButton').should('be.visible').click(); // # Add the nickname to textfield contents\ncy.get('#nicknameEdit').click();\ncy.get('#nickname').clear().type('victor_nick');\ncy.get('#saveSetting').click(); // * Check if element is present and contains expected text values\ncy.get('#nicknameDesc').should('be.visible').should('contain', 'victor_nick'); // # Close Account settings and open channel dropdown menu\ncy.get('#accountSettingsHeader > .close').should('be.visible').click();\ncy.get('#sidebarHeaderDropdownButton').click(); // # Click view members\ncy.get('#viewMembers').should('be.visible').click(); // # Search for username and check that expected nickname is present\ncy.get('.modal-title').should('be.visible');\ncy.get('#searchUsersInput').should('be.visible').type('Victor Welch');\ncy.get('.more-modal__details > .more-modal__name').should('be.visible').should('contain', '@user-1 - Victor Welch (victor_nick)'); // # Close Channel Members modal\ncy.get('#teamMembersModal').should('be.visible').within(function () {\n  return cy.get('.close').click();\n});","err":{},"uuid":"c36c17e0-4eb8-44d4-9c53-6e198cd08346","parentUUID":"c6399b15-fed0-493d-aa9e-0295814812dc","isHook":false,"skipped":false},{"title":"Clear the nickname","fullTitle":"Account Settings > Sidebar > General Clear the nickname","timedOut":null,"duration":1121,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#generalButton').should('be.visible').click();\ncy.get('#nicknameEdit').click();\ncy.get('#nickname').clear();\ncy.get('#saveSetting').click();\ncy.get('#nicknameDesc').should('be.visible').should('contain', \"Click 'Edit' to add a nickname\");\ncy.get('#accountSettingsHeader > .close').should('be.visible').click();","err":{},"uuid":"0da3c582-59cd-4432-b4ce-989a54c1e749","parentUUID":"c6399b15-fed0-493d-aa9e-0295814812dc","isHook":false,"skipped":false}],"suites":[],"passes":["4db5a6b0-40aa-4943-b93c-31b48a96375f","b2538dba-a1c9-4152-8a17-20974c9964c5","d49b4552-5c9a-4fbe-850e-0c95bb9d35e5","c36c17e0-4eb8-44d4-9c53-6e198cd08346","0da3c582-59cd-4432-b4ce-989a54c1e749"],"failures":[],"pending":[],"skipped":[],"duration":9702,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"8d90b28f-1ea3-4573-885b-57250d04ab4a","title":"","fullFile":"cypress/integration/account_settings/sidebar/channel_switcher_spec.js","file":"cypress/integration/account_settings/sidebar/channel_switcher_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5effb803-1780-46e6-b5df-292d59979c2a","title":"Account Settings > Sidebar > Channel Switcher","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"set channel switcher setting to On and test on click of sidebar switcher button","fullTitle":"Account Settings > Sidebar > Channel Switcher set channel switcher setting to On and test on click of sidebar switcher button","timedOut":null,"duration":24200,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- set channel switcher setting to On and test on click of sidebar switcher button (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- set channel switcher setting to On and test on click of sidebar switcher button (failed).png\"\n}","code":"// # Go to a known team and channel\ncy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square'); // # Go to Account Settings modal > Sidebar > Channel Switcher and set setting to On\nenableChannelSwitcher(true); // # Click the sidebar switcher button\ncy.get('#sidebarSwitcherButton').click();\nverifyChannelSwitch(testTeam, testChannel);","err":{"message":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'","estack":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"1086303e-3241-4ae9-bd9c-da5c8ef47ec9","parentUUID":"5effb803-1780-46e6-b5df-292d59979c2a","isHook":false,"skipped":false},{"title":"set channel switcher setting to On and test on press of Ctrl/Cmd+K","fullTitle":"Account Settings > Sidebar > Channel Switcher set channel switcher setting to On and test on press of Ctrl/Cmd+K","timedOut":null,"duration":23081,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- set channel switcher setting to On and test on press of CtrlCmd+K (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- set channel switcher setting to On and test on press of CtrlCmd+K (failed).png\"\n}","code":"// # Go to a known team and channel\ncy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square'); // # Go to Account Settings modal > Sidebar > Channel Switcher and set setting to On\nenableChannelSwitcher(true); // # Type CTRL/CMD+K\ncy.typeCmdOrCtrl().type('K', {\n  release: true\n});\nverifyChannelSwitch(testTeam, testChannel);","err":{"message":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'","estack":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"4e08f412-dc69-4cbe-9058-b60e421d5769","parentUUID":"5effb803-1780-46e6-b5df-292d59979c2a","isHook":false,"skipped":false},{"title":"AS13216 Using CTRL/CMD+K if Channel Switcher is hidden in the LHS","fullTitle":"Account Settings > Sidebar > Channel Switcher AS13216 Using CTRL/CMD+K if Channel Switcher is hidden in the LHS","timedOut":null,"duration":22843,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- AS13216 Using CTRLCMD+K if Channel Switcher is hidden in the LHS (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- AS13216 Using CTRLCMD+K if Channel Switcher is hidden in the LHS (failed).png\"\n}","code":"// # Go to a known team and channel\ncy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square'); // # Go to Account Settings modal > Sidebar > Channel Switcher and set setting to Off\nenableChannelSwitcher(false); // # Type CTRL/CMD+K\ncy.typeCmdOrCtrl().type('K', {\n  release: true\n});\nverifyChannelSwitch(testTeam, testChannel);","err":{"message":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'","estack":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"61b93e35-4c0e-4afd-8cb8-3885ad929fff","parentUUID":"5effb803-1780-46e6-b5df-292d59979c2a","isHook":false,"skipped":false},{"title":"Cmd/Ctrl+Shift+L closes Channel Switch modal and sets focus to post textbox","fullTitle":"Account Settings > Sidebar > Channel Switcher Cmd/Ctrl+Shift+L closes Channel Switch modal and sets focus to post textbox","timedOut":null,"duration":21515,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- CmdCtrl+Shift+L closes Channel Switch modal and sets focus to post textbox (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- CmdCtrl+Shift+L closes Channel Switch modal and sets focus to post textbox (failed).png\"\n}","code":"// # Go to a known team and channel\ncy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square'); // # Type CTRL/CMD+K\ncy.get('#post_textbox').cmdOrCtrlShortcut('K'); // * Channel switcher hint should be visible\ncy.get('#quickSwitchHint').should('be.visible').should('contain', 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'); // # Type CTRL/CMD+shift+L\ncy.get('#quickSwitchInput').cmdOrCtrlShortcut('{shift}L'); // * Suggestion list should be visible\ncy.get('#suggestionList').should('not.be.visible'); // * focus should be on the input box\ncy.get('#post_textbox').should('be.focused');","err":{"message":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'","estack":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"1887dc81-d0e0-4fb0-a2af-5ef296ebf39a","parentUUID":"5effb803-1780-46e6-b5df-292d59979c2a","isHook":false,"skipped":false},{"title":"Cmd/Ctrl+Shift+M closes Channel Switch modal and sets focus to mentions","fullTitle":"Account Settings > Sidebar > Channel Switcher Cmd/Ctrl+Shift+M closes Channel Switch modal and sets focus to mentions","timedOut":null,"duration":21275,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- CmdCtrl+Shift+M closes Channel Switch modal and sets focus to mentions (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/account_settings/sidebar/channel_switcher_spec.js/Account Settings  Sidebar  Channel Switcher -- CmdCtrl+Shift+M closes Channel Switch modal and sets focus to mentions (failed).png\"\n}","code":"// # patch user info\ncy.apiPatchMe({\n  notify_props: {\n    first_name: 'false',\n    mention_keys: 'user-1'\n  }\n}); // # Go to a known team and channel\ncy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square'); // # Type CTRL/CMD+K\ncy.get('#post_textbox').cmdOrCtrlShortcut('K'); // * Channel switcher hint should be visible\ncy.get('#quickSwitchHint').should('be.visible').should('contain', 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'); // # Type CTRL/CMD+shift+m\ncy.get('#quickSwitchInput').cmdOrCtrlShortcut('{shift}M'); // * Suggestion list should be visible\ncy.get('#suggestionList').should('not.be.visible'); // * searchbox should appear\ncy.get('#searchBox').should('have.attr', 'value', 'user-1 @user-1 ');\ncy.get('.sidebar--right__title').should('contain', 'Recent Mentions');","err":{"message":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'","estack":"CypressError: Timed out retrying: expected '<div#quickSwitchHint.channel-switcher__hint>' to contain 'Type to find a channel. Use ↑↓ to browse, ↵ to select, ESC to dismiss.'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"cb260812-a196-4e1d-990b-272d76f97e95","parentUUID":"5effb803-1780-46e6-b5df-292d59979c2a","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["1086303e-3241-4ae9-bd9c-da5c8ef47ec9","4e08f412-dc69-4cbe-9058-b60e421d5769","61b93e35-4c0e-4afd-8cb8-3885ad929fff","1887dc81-d0e0-4fb0-a2af-5ef296ebf39a","cb260812-a196-4e1d-990b-272d76f97e95"],"pending":[],"skipped":[],"duration":112914,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"4d18843b-83df-47b7-b70a-bb15219f279f","title":"","fullFile":"cypress/integration/account_settings/sidebar/channel_switcher_ui_spec.js","file":"cypress/integration/account_settings/sidebar/channel_switcher_ui_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"f35e5fff-8282-40ad-a340-d8f4d7600166","title":"Account Settings > Sidebar > Channel Switcher","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should render in min setting view","fullTitle":"Account Settings > Sidebar > Channel Switcher should render in min setting view","timedOut":null,"duration":3001,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check that the Sidebar tab is loaded, then click\ncy.get('#sidebarButton').should('be.visible').click(); // * Check that it changed into the Sidebar section\n// * Check the min setting view if each element is present and contains expected text values\ncy.get('#sidebarTitle').should('be.visible').should('contain', 'Sidebar Settings');\ncy.get('#channelSwitcherTitle').should('be.visible').should('contain', 'Channel Switcher');\ncy.get('#channelSwitcherDesc').should('be.visible').should('contain', 'On');\ncy.get('#channelSwitcherEdit').should('be.visible').should('contain', 'Edit');\ncy.get('#accountSettingsHeader > .close').should('be.visible').click();","err":{},"uuid":"2d3f24d3-0525-457d-9409-eaf4a139bbc8","parentUUID":"f35e5fff-8282-40ad-a340-d8f4d7600166","isHook":false,"skipped":false},{"title":"should render in max setting view","fullTitle":"Account Settings > Sidebar > Channel Switcher should render in max setting view","timedOut":null,"duration":1042,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check that the Sidebar tab is loaded, then click\ncy.get('#sidebarButton').should('be.visible').click(); // # Click \"Edit\" to the right of \"Channel Switcher\"\ncy.get('#channelSwitcherEdit').should('be.visible').click(); // * Check that it changed into the Sidebar section\n// * Check the max setting view if each element is present and contains expected text values\ncy.get('#sidebarTitle').should('be.visible').should('contain', 'Sidebar Settings');\ncy.get('#settingTitle').should('be.visible').should('contain', 'Channel Switcher');\ncy.get('#channelSwitcherRadioOn').should('be.visible').should('contain', 'On');\ncy.get('#channelSwitcherSectionEnabled').should('be.visible');\ncy.get('#channelSwitcherRadioOff').should('be.visible').should('contain', 'Off');\ncy.get('#channelSwitcherSectionOff').should('be.visible');\ncy.get('#channelSwitcherHelpText').should('be.visible').should('contain', 'The channel switcher is shown at the bottom of the sidebar and is used to jump between channels quickly. It can also be accessed using');\ncy.get('#saveSetting').should('be.visible').should('contain', 'Save');\ncy.get('#cancelSetting').should('be.visible').should('contain', 'Cancel');\ncy.get('#accountSettingsHeader > .close').should('be.visible').click();","err":{},"uuid":"93627936-fcaa-434f-b612-1084928e1f81","parentUUID":"f35e5fff-8282-40ad-a340-d8f4d7600166","isHook":false,"skipped":false},{"title":"AS12980 Hide Channel Switcher button in left-hand-side","fullTitle":"Account Settings > Sidebar > Channel Switcher AS12980 Hide Channel Switcher button in left-hand-side","timedOut":null,"duration":1225,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check that the Sidebar tab is loaded, then click\ncy.get('#sidebarButton').should('be.visible').click(); // # Click \"Edit\" to the right of \"Channel Switcher\"\ncy.get('#channelSwitcherEdit').should('be.visible').click(); // # Click the radio button for \"Off\"\ncy.get('#channelSwitcherSectionOff').should('be.visible').click(); // # Click \"Save\"\ncy.get('#saveSetting').should('be.visible').click(); // * Check that it changed into min setting view\n// * Check if element is present and contains expected text values\ncy.get('#channelSwitcherDesc').should('be.visible').should('contain', 'Off'); // # Click \"x\" button to close Account Settings modal\ncy.get('#accountSettingsHeader > .close').should('be.visible').click(); // * Channel Switcher button should disappear from the bottom of the left-hand-side bar\ncy.get('#sidebarSwitcherButton').should('be.not.visible');","err":{},"uuid":"5c309dde-3ab6-457b-9a8a-01fb3eb043af","parentUUID":"f35e5fff-8282-40ad-a340-d8f4d7600166","isHook":false,"skipped":false},{"title":"AS12980 Show Channel Switcher button in left-hand-side","fullTitle":"Account Settings > Sidebar > Channel Switcher AS12980 Show Channel Switcher button in left-hand-side","timedOut":null,"duration":1380,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check that the Sidebar tab is loaded, then click\ncy.get('#sidebarButton').should('be.visible').click(); // # Click \"Edit\" to the right of \"Channel Switcher\"\ncy.get('#channelSwitcherEdit').should('be.visible').click(); // # Click the radio button for \"On\"\ncy.get('#channelSwitcherSectionEnabled').should('be.visible').click(); // # Click \"Save\"\ncy.get('#saveSetting').should('be.visible').click(); // * Check that it changed into min setting view\n// * Check if element is present and contains expected text values\ncy.get('#channelSwitcherDesc').should('be.visible').should('contain', 'On'); // # Click \"x\" button to close Account Settings modal\ncy.get('#accountSettingsHeader > .close').should('be.visible').click(); // * Channel Switcher button should appear at the bottom of the left-hand-side bar\ncy.get('#sidebarSwitcherButton').should('be.visible');","err":{},"uuid":"5efbe0cd-888e-4192-8574-88aedbc643d5","parentUUID":"f35e5fff-8282-40ad-a340-d8f4d7600166","isHook":false,"skipped":false}],"suites":[],"passes":["2d3f24d3-0525-457d-9409-eaf4a139bbc8","93627936-fcaa-434f-b612-1084928e1f81","5c309dde-3ab6-457b-9a8a-01fb3eb043af","5efbe0cd-888e-4192-8574-88aedbc643d5"],"failures":[],"pending":[],"skipped":[],"duration":6648,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"3e6ed2d5-caf9-4386-b7fe-3a7bbbe4e22d","title":"","fullFile":"cypress/integration/channel_sidebar/category_collapsing_unread_filter_spec.js","file":"cypress/integration/channel_sidebar/category_collapsing_unread_filter_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","title":"Channel sidebar","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should display collapsed state when collapsed","fullTitle":"Channel sidebar should display collapsed state when collapsed","timedOut":null,"duration":3890,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('contain', teamName); // * Verify that the category doesn't appear collapsed currently\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90'); // # Click on PUBLIC CHANNELS\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible').click(); // * Verify that the category now appears collapsed\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('have.class', 'icon-rotate-minus-90');","err":{},"uuid":"96ddc050-3c59-4b76-b1ed-91eac2bd3394","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false},{"title":"should collapse channels that are not the currently viewed channel","fullTitle":"Channel sidebar should collapse channels that are not the currently viewed channel","timedOut":null,"duration":1823,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team and are on Town Square\ncy.get('#headerTeamName').should('contain', teamName);\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\")); // * Verify that both channels are visible when not collapsed\ncy.get('.SidebarChannel:contains(Off-Topic)').should('be.visible');\ncy.get('.SidebarChannel:contains(Town Square)').should('be.visible'); // # Click on PUBLIC CHANNELS\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible').click(); // * Verify that Off-Topic is no longer visible but Town Square still is\ncy.get('.SidebarChannel:contains(Off-Topic)').should('not.be.visible');\ncy.get('.SidebarChannel:contains(Town Square)').should('be.visible');","err":{},"uuid":"f6784cc0-b581-49c9-8ada-afcf8a382c6f","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false},{"title":"should collapse channels that are not unread channels","fullTitle":"Channel sidebar should collapse channels that are not unread channels","timedOut":null,"duration":2937,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team and are on Town Square\ncy.get('#headerTeamName').should('contain', teamName);\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\")); // Create a new channel and post a message into it\ncy.getCurrentTeamId().then(function (teamId) {\n  cy.apiCreateChannel(teamId, 'channel-test', 'Channel Test').then(function (res) {\n    cy.postMessageAs({\n      sender: sysadmin,\n      message: 'Test',\n      channelId: res.body.id\n    }); // Force a reload to ensure the unread message displays\n    cy.reload(); // * Verify that all channels are visible\n    cy.get('.SidebarChannel:contains(Off-Topic)').should('be.visible');\n    cy.get('.SidebarChannel:contains(Channel Test)').should('be.visible').should('has.class', 'unread'); // # Click on PUBLIC CHANNELS\n    cy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible').click(); // * Verify that Off-Topic is no longer visible but Channel Test still is\n    cy.get('.SidebarChannel:contains(Off-Topic)').should('not.be.visible');\n    cy.get('.SidebarChannel:contains(Channel Test)').should('be.visible');\n  });\n});","err":{},"uuid":"114adb28-cba1-442a-bfe8-ac014ef326ce","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false},{"title":"should save collapsed state and remember the state on refresh","fullTitle":"Channel sidebar should save collapsed state and remember the state on refresh","timedOut":null,"duration":4906,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('contain', teamName); // * Verify that the category doesn't appear collapsed currently\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90'); // # Click on PUBLIC CHANNELS\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible').click(); // * Verify that the category appears collapsed after refresh\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('have.class', 'icon-rotate-minus-90'); // Wait for state to settle\n// This is necessary since we have no observable way of finding out when the state actually settles so that it persists on reload\n// eslint-disable-next-line cypress/no-unnecessary-waiting\ncy.wait(1000); // # Reload the page\ncy.reload(); // * Verify that the category still appears collapsed after refresh\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('have.class', 'icon-rotate-minus-90'); // # Click on PUBLIC CHANNELS\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible').click(); // * Verify that the category appears not collapsed after refresh\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('not.have.class', 'icon-rotate-minus-90'); // Wait for state to settle\n// eslint-disable-next-line cypress/no-unnecessary-waiting\ncy.wait(1000); // # Reload the page\ncy.reload(); // * Verify that the category still appears not collapsed after refresh\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('not.have.class', 'icon-rotate-minus-90');","err":{},"uuid":"90c12f3f-1c12-48e4-a39b-107958dd3c89","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false},{"title":"should change the text state when the unread filter changes state","fullTitle":"Channel sidebar should change the text state when the unread filter changes state","timedOut":null,"duration":1989,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team and are on Town Square\ncy.get('#headerTeamName').should('contain', teamName);\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\")); // * Verify that the unread filter is in all channels state\ncy.get('.SidebarFilters:contains(VIEWING:)').should('be.visible');\ncy.get('.SidebarFilters:contains(All channels)').should('be.visible'); // # Enable the unread filter\ncy.get('.SidebarFilters_filterButton').should('be.visible').click(); // * Verify that the unread filter is in filter by unread state\ncy.get('.SidebarFilters:contains(FILTERED BY:)').should('be.visible');\ncy.get('.SidebarFilters:contains(Unread)').should('be.visible'); // # Disable the unread filter\ncy.get('.SidebarFilters_filterButton').should('be.visible').click(); // * Verify that the unread filter is back in all channels state\ncy.get('.SidebarFilters:contains(VIEWING:)').should('be.visible');\ncy.get('.SidebarFilters:contains(All channels)').should('be.visible');","err":{},"uuid":"1968a7eb-bed2-48e2-8dc3-bcd12ab38d5d","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false},{"title":"should only show unreads when the unread filter is enabled","fullTitle":"Channel sidebar should only show unreads when the unread filter is enabled","timedOut":null,"duration":2815,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team and are on Town Square\ncy.get('#headerTeamName').should('contain', teamName);\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\")); // # Create a new channel and post a message into it\ncy.getCurrentTeamId().then(function (teamId) {\n  cy.apiCreateChannel(teamId, 'channel-test', 'Channel Test').then(function (res) {\n    cy.postMessageAs({\n      sender: sysadmin,\n      message: 'Test',\n      channelId: res.body.id\n    }); // Force a reload to ensure the unread message displays\n    cy.reload(); // * Verify that all channels are visible\n    cy.get('.SidebarChannel:contains(Off-Topic)').should('be.visible');\n    cy.get('.SidebarChannel:contains(Channel Test)').should('be.visible').should('has.class', 'unread'); // # Enable the unread filter\n    cy.get('.SidebarFilters_filterButton').should('be.visible').click(); // * Verify that Off-Topic is no longer visible but Channel Test still is\n    cy.get('.SidebarChannel:contains(Off-Topic)').should('not.be.visible');\n    cy.get('.SidebarChannel:contains(Channel Test)').should('be.visible');\n  });\n});","err":{},"uuid":"55c34389-eb2c-44bc-8723-e7a37e7f51fa","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false},{"title":"should collapse all categories when the unread filter is enabled","fullTitle":"Channel sidebar should collapse all categories when the unread filter is enabled","timedOut":null,"duration":2357,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team and are on Town Square\ncy.get('#headerTeamName').should('contain', teamName);\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\")); // * Verify that all categories are visible\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible');\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages)').should('be.visible');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90'); // # Enable the unread filter\ncy.get('.SidebarFilters_filterButton').should('be.visible').click(); // * Verify that all categories are collapsed\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('have.class', 'icon-rotate-minus-90'); // # Disable the unread filter\ncy.get('.SidebarFilters_filterButton').should('be.visible').click(); // * Verify that all categories are not collapsed\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('not.have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('not.have.class', 'icon-rotate-minus-90');","err":{},"uuid":"e9a6ff6d-cf28-4aea-8171-cf331a80e497","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false},{"title":"should retain the collapsed state of categories when unread filter is enabled/disabled","fullTitle":"Channel sidebar should retain the collapsed state of categories when unread filter is enabled/disabled","timedOut":null,"duration":2305,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team and are on Town Square\ncy.get('#headerTeamName').should('contain', teamName);\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\")); // * Verify that all categories are visible\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible');\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages)').should('be.visible');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90'); // # Collapse PUBLIC CHANNELS\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible').click(); // * Verify that PUBLIC CHANNELS is collapsed\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('have.class', 'icon-rotate-minus-90'); // # Enable the unread filter\ncy.get('.SidebarFilters_filterButton').should('be.visible').click(); // * Verify that all categories are collapsed\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('have.class', 'icon-rotate-minus-90'); // # Disable the unread filter\ncy.get('.SidebarFilters_filterButton').should('be.visible').click(); // * Verify that Direct Messages is not collapsed but PUBLIC CHANNELS still is\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('be.visible').should('have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90');","err":{},"uuid":"83ab318b-3aeb-4358-9f93-de73c3605497","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false},{"title":"should not persist the state of the unread filter on reload","fullTitle":"Channel sidebar should not persist the state of the unread filter on reload","timedOut":null,"duration":2805,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team and are on Town Square\ncy.get('#headerTeamName').should('contain', teamName);\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\")); // * Verify that all categories are visible\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS)').should('be.visible');\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages)').should('be.visible');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90'); // # Enable the unread filter\ncy.get('.SidebarFilters_filterButton').should('be.visible').click(); // * Verify that all categories are collapsed\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('have.class', 'icon-rotate-minus-90'); // # Reload the page\ncy.reload(); // * Verify that all categories are not collapsed\ncy.get('.SidebarChannelGroupHeader:contains(PUBLIC CHANNELS) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90');\ncy.get('.SidebarChannelGroupHeader:contains(Direct Messages) i').should('be.visible').should('not.have.class', 'icon-rotate-minus-90');","err":{},"uuid":"a85eec03-d715-4c07-8dfb-4215b99e6bfa","parentUUID":"8d0eca10-602f-41fb-a3ef-7acd4e11fb94","isHook":false,"skipped":false}],"suites":[],"passes":["96ddc050-3c59-4b76-b1ed-91eac2bd3394","f6784cc0-b581-49c9-8ada-afcf8a382c6f","114adb28-cba1-442a-bfe8-ac014ef326ce","90c12f3f-1c12-48e4-a39b-107958dd3c89","1968a7eb-bed2-48e2-8dc3-bcd12ab38d5d","55c34389-eb2c-44bc-8723-e7a37e7f51fa","e9a6ff6d-cf28-4aea-8171-cf331a80e497","83ab318b-3aeb-4358-9f93-de73c3605497","a85eec03-d715-4c07-8dfb-4215b99e6bfa"],"failures":[],"pending":[],"skipped":[],"duration":25827,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"f796a799-f7d7-433f-8f83-7be22677d9cd","title":"","fullFile":"cypress/integration/channel_sidebar/channel_sidebar_spec.js","file":"cypress/integration/channel_sidebar/channel_sidebar_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"c6434bed-8d30-4c3c-b62d-26db0248cfea","title":"Channel sidebar","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should switch channels when clicking on a channel in the sidebar","fullTitle":"Channel sidebar should switch channels when clicking on a channel in the sidebar","timedOut":null,"duration":4121,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('be.visible').should('be.visible').should('contain', teamName); // # Click on Off Topic\ncy.get('.SidebarChannel:contains(Off-Topic)').should('be.visible').click(); // * Verify that the channel changed\ncy.url().should('include', \"/\".concat(teamName, \"/channels/off-topic\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Off-Topic'); // # Click on Town Square\ncy.get('.SidebarChannel:contains(Town Square)').should('be.visible').click(); // * Verify that the channel changed\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square');","err":{},"uuid":"186ee5d6-a1ae-4b96-87f9-13aaff60b09a","parentUUID":"c6434bed-8d30-4c3c-b62d-26db0248cfea","isHook":false,"skipped":false},{"title":"should mark channel as read and unread in sidebar","fullTitle":"Channel sidebar should mark channel as read and unread in sidebar","timedOut":null,"duration":2298,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('be.visible').should('contain', teamName); // * Verify that both Off Topic and Town Square are read\ncy.get('.SidebarChannel:not(.unread):contains(Off-Topic)').should('be.visible');\ncy.get('.SidebarChannel:not(.unread):contains(Town Square)').should('be.visible'); // # Have another user post in the Off Topic channel\ncy.apiGetChannelByName(teamName, 'off-topic').then(function (response) {\n  expect(response.status).to.equal(200);\n  var channel = response.body;\n  cy.postMessageAs({\n    sender: sysadmin,\n    message: 'Test',\n    channelId: channel.id\n  });\n}); // * Verify that Off Topic is unread and Town Square is read\ncy.get('.SidebarChannel.unread:contains(Off-Topic)').should('be.visible');\ncy.get('.SidebarChannel:not(.unread):contains(Town Square)').should('be.visible');","err":{},"uuid":"02e5b406-6d43-43d3-87ee-4435a3fcc64a","parentUUID":"c6434bed-8d30-4c3c-b62d-26db0248cfea","isHook":false,"skipped":false},{"title":"should remove channel from sidebar after leaving it","fullTitle":"Channel sidebar should remove channel from sidebar after leaving it","timedOut":null,"duration":2854,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('be.visible').should('contain', teamName); // # Switch to Off Topic\ncy.visit(\"/\".concat(teamName, \"/channels/off-topic\")); // # Wait for the channel to change\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Off-Topic'); // # Click on the channel menu and select Leave Channel\ncy.get('#channelHeaderTitle').click();\ncy.get('#channelLeaveChannel').should('be.visible').click(); // * Verify that we've switched to Town Square\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square'); // * Verify that Off Topic has disappeared from the sidebar\ncy.get('.SidebarChannel:contains(Off-Topic)').should('not.exist');","err":{},"uuid":"f2cc00bf-0205-4d15-8092-d2d9cc31a693","parentUUID":"c6434bed-8d30-4c3c-b62d-26db0248cfea","isHook":false,"skipped":false},{"title":"MM-23239 should remove channel from sidebar after deleting it","fullTitle":"Channel sidebar MM-23239 should remove channel from sidebar after deleting it","timedOut":null,"duration":2669,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('be.visible').should('contain', teamName); // # Switch to Off Topic\ncy.visit(\"/\".concat(teamName, \"/channels/off-topic\")); // # Wait for the channel to change\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Off-Topic'); // # Click on the channel menu and select Leave Channel\ncy.get('#channelHeaderTitle').click();\ncy.get('#channelArchiveChannel').should('be.visible').click();\ncy.get('#deleteChannelModalDeleteButton').should('be.visible').click(); // * Verify that we've switched to Town Square\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square'); // * Verify that Off Topic has disappeared from the sidebar\ncy.get('.SidebarChannel:contains(Off-Topic)').should('not.exist');","err":{},"uuid":"3f0a5e32-f215-4bc7-bb96-ea288c7b88ff","parentUUID":"c6434bed-8d30-4c3c-b62d-26db0248cfea","isHook":false,"skipped":false}],"suites":[],"passes":["186ee5d6-a1ae-4b96-87f9-13aaff60b09a","02e5b406-6d43-43d3-87ee-4435a3fcc64a","f2cc00bf-0205-4d15-8092-d2d9cc31a693","3f0a5e32-f215-4bc7-bb96-ea288c7b88ff"],"failures":[],"pending":[],"skipped":[],"duration":11942,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b9d4a8cf-0a03-422a-a30e-e6276c4aa05e","title":"","fullFile":"cypress/integration/channel_sidebar/history_channel_switcher_spec.js","file":"cypress/integration/channel_sidebar/history_channel_switcher_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"44bd4a3b-5746-4b62-8653-a8f44500409c","title":"Channel sidebar","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should not show history arrows on the regular webapp","fullTitle":"Channel sidebar should not show history arrows on the regular webapp","timedOut":null,"duration":4467,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('contain', teamName); // * Verify both buttons don't exist\ncy.get('.SidebarChannelNavigator_backButton').should('not.exist');\ncy.get('.SidebarChannelNavigator_forwardButton').should('not.exist');","err":{},"uuid":"95e98a33-7cdc-49ec-a3b9-655d72c1d2ff","parentUUID":"44bd4a3b-5746-4b62-8653-a8f44500409c","isHook":false,"skipped":false},{"title":"should switch to channel when using the channel switcher","fullTitle":"Channel sidebar should switch to channel when using the channel switcher","timedOut":null,"duration":22210,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/channel_sidebar/history_channel_switcher_spec.js/Channel sidebar -- should switch to channel when using the channel switcher (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/channel_sidebar/history_channel_switcher_spec.js/Channel sidebar -- should switch to channel when using the channel switcher (failed).png\"\n}","code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('contain', teamName); // # Click the Channel Switcher button\ncy.get('.SidebarChannelNavigator_jumpToButton').should('be.visible').click(); // # Search for Off-Topic and press Enter\ncy.get('.channel-switch__suggestion-box #quickSwitchInput').type('Off-Topic');\ncy.get('.channel-switch__suggestion-box #suggestionList').should('be.visible');\ncy.get('.channel-switch__suggestion-box #quickSwitchInput').type('{enter}'); // * Verify that the channel switcher is closed and the active channel is now Off-Topic\ncy.get('.channel-switch__modal').should('not.be.visible');\ncy.url().should('include', \"/\".concat(teamName, \"/channels/off-topic\"));\ncy.get('#channelHeaderTitle').should('contain', 'Off-Topic');\ncy.get('.SidebarChannel.active:contains(Off-Topic)').should('be.visible');","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.channel-switch__suggestion-box #quickSwitchInput', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '.channel-switch__suggestion-box #quickSwitchInput', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"b49dfbd0-4c20-401f-9de6-cf27904fcf38","parentUUID":"44bd4a3b-5746-4b62-8653-a8f44500409c","isHook":false,"skipped":false}],"suites":[],"passes":["95e98a33-7cdc-49ec-a3b9-655d72c1d2ff"],"failures":["b49dfbd0-4c20-401f-9de6-cf27904fcf38"],"pending":[],"skipped":[],"duration":26677,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"8e49f017-de92-4c46-9bd1-c03eb3374674","title":"","fullFile":"cypress/integration/channel_sidebar/hotkeys_spec.js","file":"cypress/integration/channel_sidebar/hotkeys_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8aa52cba-a7b0-426e-95ba-c4c5dd06eafd","title":"Channel switching","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should switch channels when pressing the alt + arrow hotkeys","fullTitle":"Channel switching should switch channels when pressing the alt + arrow hotkeys","timedOut":null,"duration":4216,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('contain', teamName); // # Press alt + up\ncy.get('body').type('{alt}', {\n  release: false\n}).type('{uparrow}').type('{alt}', {\n  release: true\n}); // * Verify that the channel changed to the Off-Topic channel\ncy.url().should('include', \"/\".concat(teamName, \"/channels/off-topic\"));\ncy.get('#channelHeaderTitle').should('contain', 'Off-Topic'); // # Press alt + down\ncy.get('body').type('{alt}', {\n  release: false\n}).type('{downarrow}').type('{alt}', {\n  release: true\n}); // * Verify that the channel changed to the Town Square\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('contain', 'Town Square');","err":{},"uuid":"8455e7f8-8760-4249-a153-902b80419dbd","parentUUID":"8aa52cba-a7b0-426e-95ba-c4c5dd06eafd","isHook":false,"skipped":false},{"title":"should switch to unread channels when pressing the alt + shift + arrow hotkeys","fullTitle":"Channel switching should switch to unread channels when pressing the alt + shift + arrow hotkeys","timedOut":null,"duration":3000,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('contain', teamName);\ncy.getCurrentChannelId().as('townSquareId'); // # Create a new channel\n// cy.createAndVisitNewChannel().as('testChannel');\ncy.getCurrentTeamId().then(function (teamId) {\n  cy.apiCreateChannel(teamId, 'test-channel', 'Test Channel').then(function (response) {\n    expect(response.status).to.equal(201);\n    cy.wrap(response.body).as('testChannel');\n  });\n}); // # Have another user post a message in the new channel\ncy.get('@testChannel').then(function (testChannel) {\n  return cy.postMessageAs({\n    sender: sysadmin,\n    message: 'Test',\n    channelId: testChannel.id\n  });\n}); // # Press alt + shift + up\ncy.get('body').type('{alt}{shift}', {\n  release: false\n}).type('{uparrow}').type('{alt}{shift}', {\n  release: true\n}); // * Verify that the channel changed to Test Channel and skipped Off Topic\ncy.url().should('include', \"/\".concat(teamName, \"/channels/test-channel\"));\ncy.get('#channelHeaderTitle').should('contain', 'Test Channel'); // # Have another user post a message in the town square\ncy.get('@townSquareId').then(function (townSquareId) {\n  return cy.postMessageAs({\n    sender: sysadmin,\n    message: 'Test',\n    channelId: townSquareId\n  });\n}); // # Press alt + shift + down\ncy.get('body').type('{alt}{shift}', {\n  release: false\n}).type('{downarrow}').type('{alt}{shift}', {\n  release: true\n}); // * Verify that the channel changed back to Town Square and skipped Off Topic\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('contain', 'Town Square');","err":{},"uuid":"959132ab-367f-4445-aa69-1ada74415a0c","parentUUID":"8aa52cba-a7b0-426e-95ba-c4c5dd06eafd","isHook":false,"skipped":false},{"title":"should open and close channel switcher on ctrl/cmd + k","fullTitle":"Channel switching should open and close channel switcher on ctrl/cmd + k","timedOut":null,"duration":20434,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/channel_sidebar/hotkeys_spec.js/Channel switching -- should open and close channel switcher on ctrlcmd + k (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/channel_sidebar/hotkeys_spec.js/Channel switching -- should open and close channel switcher on ctrlcmd + k (failed).png\"\n}","code":"// * Verify that the channel has loaded\ncy.get('#channelHeaderTitle').should('be.visible'); // # Press ctrl/cmd + k\ncy.get('body').type(cmdOrCtrl, {\n  release: false\n}).type('k').type(cmdOrCtrl, {\n  release: true\n}); // * Verify that the modal has been opened\ncy.get('.channel-switch__modal').should('be.visible'); // # Press ctrl/cmd + k\ncy.get('body').type(cmdOrCtrl, {\n  release: false\n}).type('k').type(cmdOrCtrl, {\n  release: true\n}); // * Verify that the modal has been closed\ncy.get('.channel-switch__modal').should('not.be.visible');","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.channel-switch__modal', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '.channel-switch__modal', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"c173b8a8-29e5-420a-992c-54b4cc6c3d7d","parentUUID":"8aa52cba-a7b0-426e-95ba-c4c5dd06eafd","isHook":false,"skipped":false}],"suites":[],"passes":["8455e7f8-8760-4249-a153-902b80419dbd","959132ab-367f-4445-aa69-1ada74415a0c"],"failures":["c173b8a8-29e5-420a-992c-54b4cc6c3d7d"],"pending":[],"skipped":[],"duration":27650,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2143b5aa-0bfa-4319-b362-b0c3c3294f92","title":"","fullFile":"cypress/integration/channel_sidebar/new_channel_dropdown_spec.js","file":"cypress/integration/channel_sidebar/new_channel_dropdown_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"aa1bcf61-2246-4d21-a861-957e579b32b5","title":"Channel sidebar","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should create a new channel when using the new channel dropdown","fullTitle":"Channel sidebar should create a new channel when using the new channel dropdown","timedOut":null,"duration":5453,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('contain', teamName); // # Click the New Channel Dropdown button\ncy.get('.AddChannelDropdown_dropdownButton').should('be.visible').click(); // # Click the Create New Channel dropdown item\ncy.get('.AddChannelDropdown .MenuItem:contains(Create New Channel) button').should('be.visible').click(); // * Verify that the new channel modal is visible\ncy.get('.new-channel__modal').should('be.visible'); // # Add the new channel name and press Create Channel\ncy.get('.new-channel__modal #newChannelName').should('be.visible').type('Test Channel');\ncy.get('.new-channel__modal #submitNewChannel').should('be.visible').click(); // Verify that new channel is in the sidebar and is active\ncy.get('.new-channel__modal').should('not.be.visible');\ncy.url().should('include', \"/\".concat(teamName, \"/channels/test-channel\"));\ncy.get('#channelHeaderTitle').should('contain', 'Test Channel');\ncy.get('.SidebarChannel.active:contains(Test Channel)').should('be.visible');","err":{},"uuid":"8059e6a6-b3c4-4799-b91d-d81e38cf325e","parentUUID":"aa1bcf61-2246-4d21-a861-957e579b32b5","isHook":false,"skipped":false},{"title":"should join a new public channel when using the new channel dropdown","fullTitle":"Channel sidebar should join a new public channel when using the new channel dropdown","timedOut":null,"duration":3770,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('contain', teamName); // # Switch to Off Topic\ncy.visit(\"/\".concat(teamName, \"/channels/off-topic\")); // # Wait for the channel to change\ncy.get('#channelHeaderTitle').should('contain', 'Off-Topic'); // # Click on the channel menu and select Leave Channel\ncy.get('#channelHeaderTitle').click();\ncy.get('#channelLeaveChannel').click(); // * Verify that we've switched to Town Square\ncy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\"));\ncy.get('#channelHeaderTitle').should('contain', 'Town Square'); // # Click the New Channel Dropdown button\ncy.get('.AddChannelDropdown_dropdownButton').should('be.visible').click(); // # Click the Browse Channels dropdown item\ncy.get('.AddChannelDropdown .MenuItem:contains(Browse Channels) button').should('be.visible').click(); // * Verify that the more channels modal is visible\ncy.get('.more-modal').should('be.visible'); // Click the Off-Topic channel\ncy.get('.more-modal button:contains(Off-Topic)').should('be.visible').click(); // Verify that new channel is in the sidebar and is active\ncy.get('.more-modal').should('not.be.visible');\ncy.url().should('include', \"/\".concat(teamName, \"/channels/off-topic\"));\ncy.get('#channelHeaderTitle').should('contain', 'Off-Topic');\ncy.get('.SidebarChannel.active:contains(Off-Topic)').should('be.visible');","err":{},"uuid":"0d97a00d-5fa3-497d-b6dd-f3e381be629b","parentUUID":"aa1bcf61-2246-4d21-a861-957e579b32b5","isHook":false,"skipped":false}],"suites":[],"passes":["8059e6a6-b3c4-4799-b91d-d81e38cf325e","0d97a00d-5fa3-497d-b6dd-f3e381be629b"],"failures":[],"pending":[],"skipped":[],"duration":9223,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"cd7c5961-1575-448e-8041-e3fa278b9b5c","title":"","fullFile":"cypress/integration/channel/add_users_to_channel_spec.js","file":"cypress/integration/channel/add_users_to_channel_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"28ae715b-5256-4e43-8950-d741247dbcb5","title":"CS15445 Join/leave messages","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Single User: Usernames are links, open profile popovers","fullTitle":"CS15445 Join/leave messages Single User: Usernames are links, open profile popovers","timedOut":null,"duration":4571,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create and visit new channel\ncy.createAndVisitNewChannel().then(function () {\n  // # Add users to channel\n  addNumberOfUsersToChannel(1);\n  cy.getLastPostId().then(function (id) {\n    // * The system message should contain 'added to the channel by you'\n    cy.get(\"#postMessageText_\".concat(id)).should('contain', 'added to the channel by you'); // # Verify username link\n    verifyMentionedUserAndProfilePopover(id);\n  });\n});","err":{},"uuid":"6ae910f4-94d5-4824-a257-ee28a2fd1374","parentUUID":"28ae715b-5256-4e43-8950-d741247dbcb5","isHook":false,"skipped":false},{"title":"Combined Users: Usernames are links, open profile popovers","fullTitle":"CS15445 Join/leave messages Combined Users: Usernames are links, open profile popovers","timedOut":null,"duration":3838,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create and visit new channel\ncy.createAndVisitNewChannel().then(function () {\n  addNumberOfUsersToChannel(3);\n  cy.getLastPostId().then(function (id) {\n    cy.get(\"#postMessageText_\".concat(id)).should('contain', '2 others were added to the channel by you'); // # Click \"2 others\" to expand more users\n    cy.get(\"#post_\".concat(id)).find('.markdown__paragraph-inline').siblings('a').first().click().then(function () {\n      // # Verify each username link\n      verifyMentionedUserAndProfilePopover(id);\n    });\n  });\n});","err":{},"uuid":"d981642d-31cd-4cbf-b7d9-3e10159edd27","parentUUID":"28ae715b-5256-4e43-8950-d741247dbcb5","isHook":false,"skipped":false}],"suites":[],"passes":["6ae910f4-94d5-4824-a257-ee28a2fd1374","d981642d-31cd-4cbf-b7d9-3e10159edd27"],"failures":[],"pending":[],"skipped":[],"duration":8409,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"bc216c0a-6998-4372-b84e-5983e7d530a6","title":"","fullFile":"cypress/integration/channel/channel_mention_autocomplete_spec.js","file":"cypress/integration/channel/channel_mention_autocomplete_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"c0784901-752e-4002-a6bb-5346b944ea34","title":"Channel","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Channel autocomplete should have both lists populated correctly","fullTitle":"Channel Channel autocomplete should have both lists populated correctly","timedOut":null,"duration":3864,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Type \"~\"\ncy.get('#post_textbox').should('be.visible').clear().type('~').wait(TIMEOUTS.TINY);\ncy.get('#loadingSpinner').should('not.exist'); // * Should open up suggestion list for channels\n// * Should match each channel item and group label\ncy.get('#suggestionList').should('be.visible').children().within(function (el) {\n  cy.wrap(el).eq(0).should('contain', 'My Channels');\n  cy.wrap(el).eq(1).should('contain', 'Off-Topic');\n  cy.wrap(el).eq(2).should('contain', 'Town Square');\n  cy.wrap(el).eq(3).should('contain', 'Other Channels');\n  cy.wrap(el).eq(4).should('contain', testChannel.display_name);\n});","err":{},"uuid":"a16abaf7-2005-4890-b599-2f2df59a6035","parentUUID":"c0784901-752e-4002-a6bb-5346b944ea34","isHook":false,"skipped":false},{"title":"Joining a channel should alter channel mention autocomplete lists accordingly","fullTitle":"Channel Joining a channel should alter channel mention autocomplete lists accordingly","timedOut":null,"duration":2556,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Join a channel by /join slash command\ncy.get('#post_textbox').should('be.visible').clear().wait(TIMEOUTS.TINY).type(\"/join ~\".concat(testChannel.name)).type('{enter}').wait(TIMEOUTS.TINY); // * Verify that it redirects into the channel\ncy.url().should('include', \"/\".concat(testTeam.name, \"/channels/\").concat(testChannel.name)); // # Type \"~\"\ncy.get('#post_textbox').should('be.visible').type('~').wait(TIMEOUTS.TINY);\ncy.get('#loadingSpinner').should('not.exist'); // * Should open up suggestion list for channels\n// * Should match each channel item and group label\ncy.get('#suggestionList').should('be.visible').children().within(function (el) {\n  cy.wrap(el).eq(0).should('contain', 'My Channels');\n  cy.wrap(el).eq(1).should('contain', 'Off-Topic');\n  cy.wrap(el).eq(2).should('contain', testChannel.display_name);\n  cy.wrap(el).eq(3).should('contain', 'Town Square');\n});","err":{},"uuid":"28b4418b-ef42-4762-8494-285c6a3f93ee","parentUUID":"c0784901-752e-4002-a6bb-5346b944ea34","isHook":false,"skipped":false},{"title":"Getting removed from a channel should alter channel mention autocomplete lists accordingly","fullTitle":"Channel Getting removed from a channel should alter channel mention autocomplete lists accordingly","timedOut":null,"duration":2362,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Remove user-1 from the test channel\ncy.apiGetMe().then(function (res) {\n  var userId = res.body.id;\n  return cy.removeUserFromChannel(testChannel.id, userId);\n}).then(function (res) {\n  expect(res).to.equal(200); // # Login as user-1 and visit the test team\n  cy.apiLogin('user-1');\n  cy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\")); // # Type \"~\"\n  cy.get('#post_textbox').should('be.visible').clear().type('~').wait(TIMEOUTS.TINY);\n  cy.get('#loadingSpinner').should('not.exist'); // * Should open up suggestion list for channels\n  // * Should match each channel item and group label\n  cy.get('#suggestionList').should('be.visible').children().within(function (el) {\n    cy.wrap(el).eq(0).should('contain', 'My Channels');\n    cy.wrap(el).eq(1).should('contain', 'Off-Topic');\n    cy.wrap(el).eq(2).should('contain', 'Town Square');\n    cy.wrap(el).eq(3).should('contain', 'Other Channels');\n    cy.wrap(el).eq(4).should('contain', testChannel.display_name);\n  });\n});","err":{},"uuid":"18532fbc-46e6-40b2-9ae4-47e34116bee9","parentUUID":"c0784901-752e-4002-a6bb-5346b944ea34","isHook":false,"skipped":false}],"suites":[],"passes":["a16abaf7-2005-4890-b599-2f2df59a6035","28b4418b-ef42-4762-8494-285c6a3f93ee","18532fbc-46e6-40b2-9ae4-47e34116bee9"],"failures":[],"pending":[],"skipped":[],"duration":8782,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"cad4d360-3c31-4c83-bcc0-5fa0ac9e7f68","title":"","fullFile":"cypress/integration/channel/channel_name_tooltips_spec.js","file":"cypress/integration/channel/channel_name_tooltips_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"037ce410-7df1-4ad3-96d1-088c006773bd","title":"channel name tooltips","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Should show tooltip on hover - open/public channel with long name","fullTitle":"channel name tooltips Should show tooltip on hover - open/public channel with long name","timedOut":null,"duration":3057,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create new test channel\ncy.apiCreateChannel(team.id, 'channel-test', \"Public channel with a long name-\".concat(timestamp)).then(function (res) {\n  verifyChannel(res);\n});","err":{},"uuid":"a2e8055d-c868-45aa-9d6a-2a40ff3ec46b","parentUUID":"037ce410-7df1-4ad3-96d1-088c006773bd","isHook":false,"skipped":false},{"title":"Should show tooltip on hover - private channel with long name","fullTitle":"channel name tooltips Should show tooltip on hover - private channel with long name","timedOut":null,"duration":1040,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create new test channel\ncy.apiCreateChannel(team.id, 'channel-test', \"Private channel with a long name-\".concat(timestamp), 'P').then(function (res) {\n  verifyChannel(res);\n});","err":{},"uuid":"e7860911-8d83-4374-a2e5-73fbb38f941d","parentUUID":"037ce410-7df1-4ad3-96d1-088c006773bd","isHook":false,"skipped":false},{"title":"Should not show tooltip on hover - open/public channel with short name","fullTitle":"channel name tooltips Should not show tooltip on hover - open/public channel with short name","timedOut":null,"duration":628,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create new test channel\ncy.apiCreateChannel(team.id, 'channel-test', 'Public channel').then(function (res) {\n  verifyChannel(res, false);\n});","err":{},"uuid":"ead5ba50-1fa9-41c4-afcc-5ea0bfafa6b9","parentUUID":"037ce410-7df1-4ad3-96d1-088c006773bd","isHook":false,"skipped":false},{"title":"Should not show tooltip on hover - private channel with short name","fullTitle":"channel name tooltips Should not show tooltip on hover - private channel with short name","timedOut":null,"duration":624,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create new test channel\ncy.apiCreateChannel(team.id, 'channel-test', 'Private channel', 'P').then(function (res) {\n  verifyChannel(res, false);\n});","err":{},"uuid":"474d5c6b-9817-4c05-9a8c-97b5121c6d62","parentUUID":"037ce410-7df1-4ad3-96d1-088c006773bd","isHook":false,"skipped":false},{"title":"Should show tooltip on hover - user with a long username","fullTitle":"channel name tooltips Should show tooltip on hover - user with a long username","timedOut":null,"duration":1993,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open a DM with the user\ncy.get('#addDirectChannel').should('be.visible').click();\ncy.focused().as('searchBox').type(longUser.username, {\n  force: true\n}); // * Verify that the user is selected in the results list before typing enter\ncy.get('div.more-modal__row').should('have.length', 1).and('have.class', 'clickable').and('have.class', 'more-modal__row--selected').and('contain.text', longUser.username.toLowerCase());\ncy.get('@searchBox').type('{enter}', {\n  force: true\n});\ncy.get('#saveItems').should('be.visible').click(); // # Hover on the channel name\ncy.get(\"#sidebarItem_\".concat(Cypress._.sortBy([loggedUser.id, longUser.id]).join('__'))).scrollIntoView().should('be.visible').trigger('mouseover'); // * Verify that the tooltip is displayed\ncy.get('div.tooltip-inner').should('be.visible'); // # Move cursor away from channel\ncy.get(\"#sidebarItem_\".concat(Cypress._.sortBy([loggedUser.id, longUser.id]).join('__'))).scrollIntoView().should('be.visible').trigger('mouseout');","err":{},"uuid":"cb19022b-5592-4533-ab86-a279a4117f2f","parentUUID":"037ce410-7df1-4ad3-96d1-088c006773bd","isHook":false,"skipped":false}],"suites":[],"passes":["a2e8055d-c868-45aa-9d6a-2a40ff3ec46b","e7860911-8d83-4374-a2e5-73fbb38f941d","ead5ba50-1fa9-41c4-afcc-5ea0bfafa6b9","474d5c6b-9817-4c05-9a8c-97b5121c6d62","cb19022b-5592-4533-ab86-a279a4117f2f"],"failures":[],"pending":[],"skipped":[],"duration":7342,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"8905e97a-a756-4d61-85e6-19d275dbd2d9","title":"","fullFile":"cypress/integration/channel/channel_routing_spec.js","file":"cypress/integration/channel/channel_routing_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"6ea789cf-815d-44d2-aa50-ba9cd6e9ce5f","title":"Channel routing","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should go to town square channel view","fullTitle":"Channel routing should go to town square channel view","timedOut":null,"duration":2936,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to town square channel\ncy.visit('/ad-1/channels/town-square'); // * Check if the channel is loaded correctly\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square');","err":{},"uuid":"f8b3cbac-d79b-4bee-8779-479a2f26de7d","parentUUID":"6ea789cf-815d-44d2-aa50-ba9cd6e9ce5f","isHook":false,"skipped":false},{"title":"should go to private channel view","fullTitle":"Channel routing should go to private channel view","timedOut":null,"duration":1481,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.getCurrentTeamId().then(function (teamId) {\n  // # Create a private channel\n  cy.apiCreateChannel(teamId, 'private-channel', 'Private channel', 'P').then(function (response) {\n    // # Go to the newly created channel\n    cy.visit(\"/ad-1/channels/\".concat(response.body.name)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Private channel'); // # Remove the created channel\n    cy.apiDeleteChannel(response.body.id);\n  });\n});","err":{},"uuid":"667195dd-ba7c-465a-84ed-22d231ee5aee","parentUUID":"6ea789cf-815d-44d2-aa50-ba9cd6e9ce5f","isHook":false,"skipped":false},{"title":"should go to self direct channel using the multiple ways to go","fullTitle":"Channel routing should go to self direct channel using the multiple ways to go","timedOut":null,"duration":3788,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.apiGetUsers(['user-1']).then(function (userResponse) {\n  var user = userResponse.body[0]; // # Create a self direct channel\n  cy.apiCreateDirectChannel([user.id, user.id]).then(function (response) {\n    // # Visit the channel using the channel name\n    cy.visit(\"/ad-1/channels/\".concat(user.id, \"__\").concat(user.id)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'user-1'); // # Visit the channel using the channel id\n    cy.visit(\"/ad-1/channels/\".concat(response.body.id)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'user-1'); // # Visit the channel using the username\n    cy.visit(\"/ad-1/messages/@\".concat(user.username)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'user-1'); // # Visit the channel using the user email\n    cy.visit(\"/ad-1/messages/\".concat(user.email)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'user-1');\n  });\n});","err":{},"uuid":"1d43cf3f-38cd-4bbd-acd3-5ca9fee7afc7","parentUUID":"6ea789cf-815d-44d2-aa50-ba9cd6e9ce5f","isHook":false,"skipped":false},{"title":"should go to other user direct channel using multiple ways to go","fullTitle":"Channel routing should go to other user direct channel using multiple ways to go","timedOut":null,"duration":3456,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.apiGetUsers(['user-1', 'sysadmin']).then(function (userResponse) {\n  var user1 = userResponse.body[1];\n  var user2 = userResponse.body[0];\n  var userIds = [user2.id, user1.id]; // # Create a direct channel between two users\n  cy.apiCreateDirectChannel(userIds).then(function (response) {\n    // # Visit the channel using the channel name\n    cy.visit(\"/ad-1/channels/\".concat(user1.id, \"__\").concat(user2.id)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'sysadmin'); // # Visit the channel using the channel id\n    cy.visit(\"/ad-1/channels/\".concat(response.body.id)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'sysadmin'); // # Visit the channel using the target username\n    cy.visit(\"/ad-1/messages/@\".concat(user2.username)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'sysadmin'); // # Visit the channel using the target user email\n    cy.visit(\"/ad-1/messages/\".concat(user2.email)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'sysadmin');\n  });\n});","err":{},"uuid":"06a4f107-707c-4c26-86b8-6813f8d8e7ad","parentUUID":"6ea789cf-815d-44d2-aa50-ba9cd6e9ce5f","isHook":false,"skipped":false},{"title":"should go group channel using group id","fullTitle":"Channel routing should go group channel using group id","timedOut":null,"duration":1673,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var users = ['user-1', 'aaron.peterson', 'sysadmin'];\ncy.apiGetUsers(users).then(function (userResponse) {\n  var userGroupIds = [userResponse.body[2].id, userResponse.body[1].id, userResponse.body[0].id]; // # Create a group channel for 3 users\n  cy.apiCreateGroupChannel(userGroupIds).then(function (response) {\n    // # Visit the channel using the name using the channels route\n    cy.visit(\"/ad-1/channels/\".concat(response.body.name)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'aaron.peterson, sysadmin'); // # Visit the channel using the name using the messages route\n    cy.visit(\"/ad-1/messages/\".concat(response.body.name)); // * Check you can go to the channel without problem\n    cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'aaron.peterson, sysadmin');\n  });\n});","err":{},"uuid":"4728e14c-ec55-4a99-809b-184f1eb368c5","parentUUID":"6ea789cf-815d-44d2-aa50-ba9cd6e9ce5f","isHook":false,"skipped":false}],"suites":[],"passes":["f8b3cbac-d79b-4bee-8779-479a2f26de7d","667195dd-ba7c-465a-84ed-22d231ee5aee","1d43cf3f-38cd-4bbd-acd3-5ca9fee7afc7","06a4f107-707c-4c26-86b8-6813f8d8e7ad","4728e14c-ec55-4a99-809b-184f1eb368c5"],"failures":[],"pending":[],"skipped":[],"duration":13334,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"045f2454-c33a-4165-87d8-bc88323d9b95","title":"","fullFile":"cypress/integration/channel/channel_settings_spec.js","file":"cypress/integration/channel/channel_settings_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"b553d08b-a181-4c0c-87b2-233057358f2c","title":"Channel Settings","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"C15052 All channel types have appropriate close button","fullTitle":"Channel Settings C15052 All channel types have appropriate close button","timedOut":null,"duration":6389,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#publicChannelList').find('a.sidebar-item').each(function ($el) {\n  cy.wrap($el).find('span.btn-close').should('not.exist');\n});\ncy.get('#privateChannelList').find('a.sidebar-item').each(function ($el) {\n  cy.wrap($el).find('span.btn-close').should('not.exist');\n}); // add a direct message incase there is not one\ncy.get('#addDirectChannel').click();\ncy.get('.more-modal__row.clickable').first().click();\ncy.get('#saveItems').click(); // click on all the messages to make sure there are none left unread\ncy.get('#directChannelList').find('a.sidebar-item').each(function ($el) {\n  cy.wrap($el).as('channel'); // Click to mark as unread\n  cy.get('@channel').click({\n    force: true\n  });\n  cy.get('#postListContent').should('be.visible'); // check for the close button\n  cy.get('@channel').find('span.btn-close').should('exist');\n});","err":{},"uuid":"5fb58f2c-44bc-491d-b9ca-4fdf72415648","parentUUID":"b553d08b-a181-4c0c-87b2-233057358f2c","isHook":false,"skipped":false}],"suites":[],"passes":["5fb58f2c-44bc-491d-b9ca-4fdf72415648"],"failures":[],"pending":[],"skipped":[],"duration":6389,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"d34e31b2-cf51-4b67-9427-a7178de2d1e4","title":"","fullFile":"cypress/integration/channel/more_channels_spec.js","file":"cypress/integration/channel/more_channels_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"d49567e8-8610-48cf-a6c9-324ad4a7d0da","title":"Channels","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-19337 Verify UI of More channels modal with archived selection","fullTitle":"Channels MM-19337 Verify UI of More channels modal with archived selection","timedOut":null,"duration":6575,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as sysadmin and update config\ncy.apiLogin('sysadmin');\ncy.apiGetTeamByName('ad-1').then(function (teamRes) {\n  // # Create new test channel\n  cy.apiCreateChannel(teamRes.body.id, 'channel-test', 'Channel Test' + Date.now()).then(function (channelRes) {\n    channel = channelRes.body;\n  });\n});\ncy.visit('/ad-1/channels/town-square');\nverifyMoreChannelsModalWithArchivedSelection(false);\nverifyMoreChannelsModalWithArchivedSelection(true);","err":{},"uuid":"9581d657-3de1-4677-b7e8-08a358c08138","parentUUID":"d49567e8-8610-48cf-a6c9-324ad4a7d0da","isHook":false,"skipped":false},{"title":"MM-19337 Enable users to view archived channels","fullTitle":"Channels MM-19337 Enable users to view archived channels","timedOut":null,"duration":7824,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as new user and go to \"/\"\ncy.apiLogin('sysadmin');\ncy.apiUpdateConfig({\n  TeamSettings: {\n    ExperimentalViewArchivedChannels: true\n  }\n});\ncy.apiGetTeamByName('ad-1').then(function (res) {\n  cy.apiCreateAndLoginAsNewUser({}, [res.body.id]);\n  cy.visit('/ad-1/channels/town-square');\n}); // # Go to LHS and click \"More...\" under Public Channels group\ncy.get('#publicChannelList').should('be.visible').within(function () {\n  cy.findByText('More...').scrollIntoView().should('be.visible').click();\n});\ncy.get('#moreChannelsModal').should('be.visible').within(function () {\n  // * Dropdown should be visible, defaulting to \"Public Channels\"\n  cy.get('#channelsMoreDropdown').should('be.visible').and('contain', 'Show: Public Channels');\n  cy.get('#searchChannelsTextbox').type(channel.display_name).wait(TIMEOUTS.TINY);\n  cy.get('#moreChannelsList').children().should('have.length', 1).within(function () {\n    cy.findByText(channel.display_name).should('be.visible');\n  });\n  cy.get('#searchChannelsTextbox').clear(); // * Channel test should be visible as a public channel in the list\n  cy.get('#moreChannelsList').should('be.visible').within(function () {\n    // # Click to join the channel\n    cy.findByText(channel.display_name).scrollIntoView().should('be.visible').click();\n  });\n}); // # Verify that the modal is closed and it's redirected to the selected channel\ncy.get('#moreChannelsModal').should('not.exist');\ncy.url().should('include', \"/ad-1/channels/\".concat(channel.name)); // # Login as channel admin and go directly to the channel\ncy.apiLogin('user-1');\ncy.visit(\"/ad-1/channels/\".concat(channel.name)); // # Click channel header to open channel menu\ncy.get('#channelHeaderTitle').should('contain', channel.display_name).click(); // * Verify that the menu is opened\ncy.get('.Menu__content').should('be.visible').within(function () {\n  // # Archive the channel\n  cy.findByText('Archive Channel').should('be.visible').click();\n}); // * Verify that the delete/archive channel modal is opened\ncy.get('#deleteChannelModal').should('be.visible').within(function () {\n  // # Confirm archive\n  cy.findByText('Archive').should('be.visible').click();\n}); // # Go to LHS and click \"More...\" under Public Channels group\ncy.get('#publicChannelList').should('be.visible').within(function () {\n  cy.findByText('More...').scrollIntoView().should('be.visible').click();\n});\ncy.get('#moreChannelsModal').should('be.visible').within(function () {\n  // # CLick dropdown to open selection\n  cy.get('#channelsMoreDropdown').should('be.visible').click().within(function (el) {\n    // # Click on archived channels item\n    cy.findByText('Archived Channels').should('be.visible').click(); // * Channel test should be visible as an archived channel in the list\n    cy.wrap(el).should('contain', 'Show: Archived Channels');\n  });\n  cy.get('#searchChannelsTextbox').type(channel.display_name).wait(TIMEOUTS.TINY);\n  cy.get('#moreChannelsList').children().should('have.length', 1).within(function () {\n    cy.findByText(channel.display_name).should('be.visible');\n  });\n  cy.get('#searchChannelsTextbox').clear(); // * Test channel should be visible as a archived channel in the list\n  cy.get('#moreChannelsList').should('be.visible').within(function () {\n    // # Click to view archived channel\n    cy.findByText(channel.display_name).scrollIntoView().should('be.visible').click();\n  });\n}); // * Assert that channel is archived and new messages can't be posted.\ncy.get('#channelArchivedMessage').should('contain', 'You are viewing an archived channel. New messages cannot be posted.');\ncy.get('#post_textbox').should('not.exist'); // # Switch to another channel\ncy.get('#sidebarItem_town-square').click(); // * Assert that archived channel doesn't show up in LHS list\ncy.get('#publicChannelList').should('not.contain', channel.display_name);","err":{},"uuid":"ed80af44-2cfc-4606-b922-b26f1672a184","parentUUID":"d49567e8-8610-48cf-a6c9-324ad4a7d0da","isHook":false,"skipped":false}],"suites":[],"passes":["9581d657-3de1-4677-b7e8-08a358c08138","ed80af44-2cfc-4606-b922-b26f1672a184"],"failures":[],"pending":[],"skipped":[],"duration":14399,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"62a9637c-4aec-4485-bc43-7021148e4836","title":"","fullFile":"cypress/integration/channel/user_to_admin_updates_manage_channel_members_modal_spec.js","file":"cypress/integration/channel/user_to_admin_updates_manage_channel_members_modal_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"2ebd50bd-9900-4a6e-9b11-74094e57b443","title":"View Members modal","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-20164 - Going from a Member to an Admin should update the modal","fullTitle":"View Members modal MM-20164 - Going from a Member to an Admin should update the modal","timedOut":null,"duration":5441,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.apiLogin('user-1');\ncy.apiGetMe().then(function (res) {\n  // # Promote user-1 as a system admin\n  // # Visit default channel and verify members modal\n  promoteToSysAdmin(res.body);\n  cy.visit('/ad-1/channels/town-square');\n  verifyMemberDropdownAction(true); // # Make user a regular member\n  // # Reload and verify members modal\n  demoteToMember(res.body);\n  cy.reload();\n  verifyMemberDropdownAction(false);\n});","err":{},"uuid":"b6c4d29f-c5d5-4ffb-853c-440d38be9e55","parentUUID":"2ebd50bd-9900-4a6e-9b11-74094e57b443","isHook":false,"skipped":false}],"suites":[],"passes":["b6c4d29f-c5d5-4ffb-853c-440d38be9e55"],"failures":[],"pending":[],"skipped":[],"duration":5441,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"daf2c3d6-d493-4546-ae58-f71a6458feb4","title":"","fullFile":"cypress/integration/channel/user_to_channel_admin_member_updates_manage_channel_members_modal_spec.js","file":"cypress/integration/channel/user_to_channel_admin_member_updates_manage_channel_members_modal_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"78ac8a44-1694-43c3-b5fb-21639b976d3b","title":"Change Roles","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-10858 - Going from a Channel Member to Channel Admin update view member modal without refresh","fullTitle":"Change Roles MM-10858 - Going from a Channel Member to Channel Admin update view member modal without refresh","timedOut":null,"duration":4967,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to member modal\ncy.get('#member_popover').click();\ncy.findByTestId('membersModal').click(); // * Check to see if no drop down menu exists\ncy.findAllByTestId('userListItemActions').then(function (el) {\n  cy.wrap(el[0]).should('not.be.visible');\n}); // Promote user to a channel admin\npromoteToChannelAdmin(userInfo, townsquareChannelId); // * Check to see if a drop now exists now\ncy.findAllByTestId('userListItemActions').then(function (el) {\n  cy.wrap(el[0]).should(function (children) {\n    expect(children).contain('Channel Member');\n  });\n});","err":{},"uuid":"a898baf8-ddff-45ce-b274-5ed29591df01","parentUUID":"78ac8a44-1694-43c3-b5fb-21639b976d3b","isHook":false,"skipped":false}],"suites":[],"passes":["a898baf8-ddff-45ce-b274-5ed29591df01"],"failures":[],"pending":[],"skipped":[],"duration":4967,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"4329f943-812d-4ca2-84f6-efd6ce6d1a2b","title":"","fullFile":"cypress/integration/email/mention_email_notification_spec.js","file":"cypress/integration/email/mention_email_notification_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8db94352-3d15-4ecc-9473-d836ab655b00","title":"Email notification","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"post a message that mentions a user","fullTitle":"Email notification post a message that mentions a user","timedOut":null,"duration":12556,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as user-1 and visit town-square channel\ncy.apiLogin('user-1');\ncy.apiSaveTeammateNameDisplayPreference('username');\ncy.visit('/ad-1/channels/town-square'); // # Post a message mentioning the new user\nvar text = \"Hello @\".concat(mentionedUser.username);\ncy.postMessage(text); // Wait for a while to ensure that email notification is sent.\ncy.wait(TIMEOUTS.SMALL);\nvar baseUrl = Cypress.config('baseUrl');\nvar mailUrl = (0, _utils.getEmailUrl)(baseUrl);\ncy.task('getRecentEmail', {\n  username: mentionedUser.username,\n  mailUrl: mailUrl\n}).then(function (response) {\n  var messageSeparator = (0, _utils.getEmailMessageSeparator)(baseUrl);\n  var user1 = _users[\"default\"]['user-1'];\n  verifyEmailNotification(response, config.TeamSettings.SiteName, 'eligendi', 'Town Square', mentionedUser, user1, text, config.EmailSettings.FeedbackEmail, config.SupportSettings.SupportEmail, messageSeparator);\n  var bodyText = response.data.body.text.split('\\n');\n  var permalink = bodyText[9].match(_utils.reUrl)[0];\n  var permalinkPostId = permalink.split('/')[6]; // # Visit permalink (e.g. click on email link), view in browser to proceed\n  cy.visit(permalink);\n  cy.findByText('View in Browser').click();\n  var postText = \"#postMessageText_\".concat(permalinkPostId);\n  cy.get(postText).should('have.text', text);\n  cy.getLastPostId().then(function (postId) {\n    // * Should match last post and permalink post IDs\n    expect(permalinkPostId).to.equal(postId);\n  });\n});","err":{},"uuid":"5fa6fe8a-1384-4d33-9053-c494d2dc8b77","parentUUID":"8db94352-3d15-4ecc-9473-d836ab655b00","isHook":false,"skipped":false}],"suites":[],"passes":["5fa6fe8a-1384-4d33-9053-c494d2dc8b77"],"failures":[],"pending":[],"skipped":[],"duration":12556,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"fc36700b-255f-41ad-bbb7-48a318562cbe","title":"","fullFile":"cypress/integration/emoji/custom_emoji_spec.js","file":"cypress/integration/emoji/custom_emoji_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"a6605f34-cb82-43bf-bea8-38c3c237e8ad","title":"Custom emojis","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-9777 User cant add custom emoji with the same name as a system one","fullTitle":"Custom emojis MM-9777 User cant add custom emoji with the same name as a system one","timedOut":null,"duration":1072,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var self = this,\n    args = arguments;\nreturn new Promise(function (resolve, reject) {\n  var gen = fn.apply(self, args);\n  function _next(value) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n  }\n  function _throw(err) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n  }\n  _next(undefined);\n});","err":{},"uuid":"c6f0d0c7-59df-4cf1-acf7-c435093517cc","parentUUID":"a6605f34-cb82-43bf-bea8-38c3c237e8ad","isHook":false,"skipped":false}],"suites":[],"passes":["c6f0d0c7-59df-4cf1-acf7-c435093517cc"],"failures":[],"pending":[],"skipped":[],"duration":1072,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"e3b9a33f-09c1-473d-afb8-4ff8ee716f2f","title":"","fullFile":"cypress/integration/emoji/react_to_last_message_shortcut_spec.js","file":"cypress/integration/emoji/react_to_last_message_shortcut_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","title":"Keyboard shortcut for adding reactions to last message in channel or thread","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Should open emoji picker for last message by shortcut in the channel view when focus is on the center text box","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should open emoji picker for last message by shortcut in the channel view when focus is on the center text box","timedOut":null,"duration":6510,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Emulate react to last message shortcut when focus is on the center text box\npressShortcutReactToLastMessage('CENTER'); // Add reaction on the opened emoji picker\naddingReactionWithEmojiPicker(); // * Check if the emoji picker has the entered reaction to last message\ncy.getLastPostId().then(function (lastPostId) {\n  checkingIfReactionsWereAddedToPost(lastPostId);\n});","err":{},"uuid":"1bfba882-a33f-48ab-abd5-0850aab8749d","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should open emoji picker for last message by shortcut in the channel view when the focus is not on the center text box","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should open emoji picker for last message by shortcut in the channel view when the focus is not on the center text box","timedOut":null,"duration":6475,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click anywhere to take focus away from center text box\ncy.get('#lhsList').within(function () {\n  cy.findByText('Town Square').click();\n}); // # Emulate react to last message shortcut without focus on center\npressShortcutReactToLastMessage(); // Add reaction on the opened emoji picker\naddingReactionWithEmojiPicker(); // * Check if the emoji picker has the entered reaction to last message\ncy.getLastPostId().then(function (lastPostId) {\n  checkingIfReactionsWereAddedToPost(lastPostId);\n});","err":{},"uuid":"7cc1ccc2-29da-4278-9b05-75a926c3e2e9","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should open emoji picker for last message by shortcut when focus is on RHS comment with root post only","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should open emoji picker for last message by shortcut when focus is on RHS comment with root post only","timedOut":null,"duration":6280,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Mouseover the last post and click post comment icon.\ncy.clickPostCommentIcon(); // * Check that the RHS is open\ncy.get('#rhsContainer').should('be.visible'); // # Emulate react to last message shortcut when focus is on the right text box\npressShortcutReactToLastMessage('RHS'); // * Check emoji picker opened and add reaction\naddingReactionWithEmojiPicker();\ncy.getLastPostId().then(function (lastPostId) {\n  // # Since only one post was on the RHS, its the same message we entered on center\n  checkingIfReactionsWereAddedToPost(lastPostId);\n});\ncy.closeRHS();","err":{},"uuid":"25c12c3e-0fc5-49c7-870e-5501b729053f","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should open emoji picker for last comment by shortcut when focus is on RHS comment with multiple comments","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should open emoji picker for last comment by shortcut when focus is on RHS comment with multiple comments","timedOut":null,"duration":9860,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Mouseover the last post and click post comment icon.\ncy.clickPostCommentIcon(); // * Check that the RHS is open\ncy.get('#rhsContainer').should('be.visible'); // # Post few comments in RHS.\ncy.postMessageReplyInRHS(MESSAGES.SMALL);\ncy.postMessageReplyInRHS(MESSAGES.TINY); // # Emulate react to last message shortcut when focus is on the right text box\npressShortcutReactToLastMessage('RHS'); // * Check emoji picker opened and add reaction\naddingReactionWithEmojiPicker();\ncy.getLastPostId().then(function (lastPostId) {\n  // # Since this was the last post was on the RHS, its the same message center too\n  checkingIfReactionsWereAddedToPost(lastPostId);\n});\ncy.closeRHS();","err":{},"uuid":"6d569b5c-da64-4892-9190-823a5d7ddc7f","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should not emoji picker for last message by shortcut if already an emoji picker is open for other message","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should not emoji picker for last message by shortcut if already an emoji picker is open for other message","timedOut":null,"duration":8321,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Get Id of first post\ncy.getLastPostId().then(function (firstPostId) {\n  // # Post another message\n  cy.postMessage(MESSAGES.MEDIUM); // # Click reaction button to \"First\" message\n  cy.clickPostReactionIcon(firstPostId); // # Enter the shortcut while picker is open\n  pressShortcutReactToLastMessage(); // # Add reaction to First post\n  addingReactionWithEmojiPicker(); // * Verify no reactions were added to latter message\n  cy.getLastPostId().then(function (lastPostId) {\n    cy.get(\"#\".concat(lastPostId, \"_message\")).within(function () {\n      cy.findByLabelText('reactions').should('not.exist');\n      cy.findByLabelText('remove reaction smile').should('not.exist');\n    });\n  });\n});","err":{},"uuid":"6d087caf-d6e3-4b9e-82f7-bbb3d51147ba","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should always reopen emoji picker even if shortcut is hit repeatedly multiple times on center textbox","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should always reopen emoji picker even if shortcut is hit repeatedly multiple times on center textbox","timedOut":null,"duration":10241,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Emulate react to last message shortcut when focus is on the center text box\npressShortcutReactToLastMessage('CENTER'); // * Verify emoji picker opens\ncy.get('#emojiPicker').should('exist'); // # Emulate react to last message shortcut multiple times from center and check if it opens and then close it\n// # try 1\npressShortcutReactToLastMessage('CENTER');\ncy.get('#emojiPicker').should('exist');\ncy.get('body').click(); // # try 2\npressShortcutReactToLastMessage('CENTER');\ncy.get('#emojiPicker').should('exist');\ncy.get('body').click(); // # try 3\npressShortcutReactToLastMessage('CENTER');\ncy.get('#emojiPicker').should('exist');\ncy.get('body').click(); // * Check if emoji picker is closed\ncy.get('#emojiPicker').should('not.exist'); // # Open with last emoji picker once again,\npressShortcutReactToLastMessage('CENTER'); // * Check if it can open again and add reaction\naddingReactionWithEmojiPicker(); // * Check if the emoji picker has the entered reaction to last message\ncy.getLastPostId().then(function (lastPostId) {\n  checkingIfReactionsWereAddedToPost(lastPostId);\n});","err":{},"uuid":"13d12dda-84c0-4b00-aac1-5c67a45b44fc","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should always reopen emoji picker even if shortcut is hit repeatedly multiple times without center textbox focus","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should always reopen emoji picker even if shortcut is hit repeatedly multiple times without center textbox focus","timedOut":null,"duration":9429,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Emulate react to last message shortcut when focus is on the center text box\npressShortcutReactToLastMessage(); // * Verify emoji picker opens\ncy.get('#emojiPicker').should('exist'); // # Emulate react to last message shortcut multiple times and check if it opens and then close it\n// # try 1\npressShortcutReactToLastMessage();\ncy.get('#emojiPicker').should('exist');\ncy.get('body').click(); // # try 2\npressShortcutReactToLastMessage();\ncy.get('#emojiPicker').should('exist');\ncy.get('body').click(); // # try 3\npressShortcutReactToLastMessage();\ncy.get('#emojiPicker').should('exist');\ncy.get('body').click(); // * Check if emoji picker is closed\ncy.get('#emojiPicker').should('not.exist'); // # Open with last emoji picker once again,\npressShortcutReactToLastMessage(); // * Check if it can open again and add reaction\naddingReactionWithEmojiPicker(); // * Check if the emoji picker has the entered reaction to last message\ncy.getLastPostId().then(function (lastPostId) {\n  checkingIfReactionsWereAddedToPost(lastPostId);\n});","err":{},"uuid":"70fa2a89-024e-4cd0-9e08-ecfa65186b28","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should add reaction to same post on which emoji picker was opened","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should add reaction to same post on which emoji picker was opened","timedOut":null,"duration":11508,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Save the post id which user initially intended to add reactions to, for later use\ncy.getLastPostId().then(function (lastPostId) {\n  cy.get(\"#\".concat(lastPostId, \"_message\")).as('postIdForAddingReaction');\n}); // # Emulate react to last message shortcut\npressShortcutReactToLastMessage(); // * Check that emoji picker is opened\ncy.get('#emojiPicker').should('exist'); // # In meanwhile new messages pops up\ncy.postMessageAs({\n  sender: _users[\"default\"]['user-2'],\n  message: MESSAGES.TINY,\n  channelId: channelId\n});\ncy.wait(TIMEOUTS.SMALL); // * Check if emoji picker is still open and add a reaction\naddingReactionWithEmojiPicker(); // * Check if the emoji picker has the entered reaction to the message we initially intended\ncy.get('@postIdForAddingReaction').within(function () {\n  checkingIfReactionsWereAddedToPost('', false);\n}); // * Also Check if latest new message shouldn't have the reaction since we didn't intent to add there\ncy.getLastPostId().then(function (lastPostId) {\n  cy.get(\"#\".concat(lastPostId, \"_message\")).within(function () {\n    cy.findByLabelText('reactions').should('not.exist');\n    cy.findByLabelText('remove reaction smile').should('not.exist');\n  });\n});","err":{},"uuid":"b897f284-cb1f-4fc2-a38b-aab62a18543c","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should open emoji picker for last post by shortcut on center when RHS is open but focus is on Center textbox","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should open emoji picker for last post by shortcut on center when RHS is open but focus is on Center textbox","timedOut":null,"duration":17303,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Mouseover the entered post and click post comment icon.\ncy.clickPostCommentIcon(); // * Check that the RHS is open\ncy.get('#rhsContainer').should('be.visible'); // # Post a replies in RHS.\ncy.postMessageReplyInRHS(MESSAGES.SMALL);\ncy.postMessageReplyInRHS(MESSAGES.TINY); // # Save the post id in RHS, where reaction should not be added\ncy.getLastPostId().then(function (lastPostId) {\n  cy.get(\"#\".concat(lastPostId, \"_message\")).as('postInRHS');\n}); // # Incoming posts from other user\ncy.postMessageAs({\n  sender: _users[\"default\"]['user-2'],\n  message: MESSAGES.MEDIUM,\n  channelId: channelId\n});\ncy.wait(TIMEOUTS.SMALL); // # Click anywhere to take focus away from RHS text box\ncy.get('#lhsList').within(function () {\n  cy.findByText('Town Square').click();\n}); // # Focus back on Center textbox and enter shortcut\npressShortcutReactToLastMessage('CENTER'); // * Check that emoji picker is opened when focus is on CENTER textbox\naddingReactionWithEmojiPicker(); // # This post is in Center, where reaction is to be added\ncy.getLastPostId().then(function (lastPostId) {\n  cy.get(\"#\".concat(lastPostId, \"_message\")).as('postInCenter');\n}); // * Check if the emoji picker has the entered reaction to the message in the center\ncy.get('@postInCenter').within(function () {\n  checkingIfReactionsWereAddedToPost('', false);\n}); // * Check if the emoji picker has not entered reaction to the message in the RHS\ncy.get('@postInRHS').within(function () {\n  cy.findByLabelText('reactions').should('not.exist');\n  cy.findByLabelText('remove reaction smile').should('not.exist');\n});\ncy.closeRHS();","err":{},"uuid":"88980eac-f8af-454a-887c-62c1abccbe1c","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should open emoji picker for last message by shortcut on center when RHS is open but focus is neither on RHS nor Center text box ","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should open emoji picker for last message by shortcut on center when RHS is open but focus is neither on RHS nor Center text box ","timedOut":null,"duration":17797,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Mouseover the entered post and click post comment icon.\ncy.clickPostCommentIcon(); // * Check that the RHS is open\ncy.get('#rhsContainer').should('be.visible'); // # Post a replies in RHS.\ncy.postMessageReplyInRHS(MESSAGES.SMALL);\ncy.postMessageReplyInRHS(MESSAGES.TINY); // # Save the post id in RHS, where reaction should not be added\ncy.getLastPostId().then(function (lastPostId) {\n  cy.get(\"#\".concat(lastPostId, \"_message\")).as('postInRHS');\n}); // # Incoming posts from other user\ncy.postMessageAs({\n  sender: _users[\"default\"]['user-2'],\n  message: MESSAGES.MEDIUM,\n  channelId: channelId\n});\ncy.wait(TIMEOUTS.SMALL); // # Click anywhere to take focus away from RHS text box\ncy.get('#lhsList').within(function () {\n  cy.findByText('Town Square').click();\n}); // # Enter shortcut without focus on Center textbox\npressShortcutReactToLastMessage(); // * Check that emoji picker is opened when focus is not on CENTER textbox\naddingReactionWithEmojiPicker(); // # This post is in Center, where reaction is to be added\ncy.getLastPostId().then(function (lastPostId) {\n  cy.get(\"#\".concat(lastPostId, \"_message\")).as('postInCenter');\n}); // * Check if the emoji picker has the entered reaction to the message in the center\ncy.get('@postInCenter').within(function () {\n  checkingIfReactionsWereAddedToPost('', false);\n}); // * Check if the emoji picker has not entered reaction to the message in the RHS\ncy.get('@postInRHS').within(function () {\n  cy.findByLabelText('reactions').should('not.exist');\n  cy.findByLabelText('remove reaction smile').should('not.exist');\n});\ncy.closeRHS();","err":{},"uuid":"a9895855-3ca7-42b2-94ef-d3d66c0d9418","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should not open emoji picker by shortcut when the last message is not in the user view anymore","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should not open emoji picker by shortcut when the last message is not in the user view anymore","timedOut":null,"duration":10611,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// Get the post id of the first post\ncy.getLastPostId().then(function (lastPostId) {\n  cy.get(\"#\".concat(lastPostId, \"_message\")).as('firstPost');\n}); // # Make a series of posts, so we post have sufficiently scrolled vertically\ncy.get('#post_textbox').clear().invoke('val', MESSAGES.LARGE).wait(TIMEOUTS.TINY).type(' {backspace}{enter}');\ncy.get('#post_textbox').clear().invoke('val', MESSAGES.HUGE).wait(TIMEOUTS.TINY).type(' {backspace}{enter}');\ncy.get('#post_textbox').clear().invoke('val', MESSAGES.LARGE).wait(TIMEOUTS.TINY).type(' {backspace}{enter}');\ncy.get('#post_textbox').clear().invoke('val', MESSAGES.HUGE).wait(TIMEOUTS.TINY).type(' {backspace}{enter}');\ncy.get('#post_textbox').clear().invoke('val', MESSAGES.LARGE).wait(TIMEOUTS.TINY).type(' {backspace}{enter}');\ncy.get('#post_textbox').clear().invoke('val', MESSAGES.HUGE).wait(TIMEOUTS.TINY).type(' {backspace}{enter}');\ncy.postMessage(MESSAGES.SMALL); // Get the post id of the last post\ncy.getLastPostId().then(function (lastPostId) {\n  cy.get(\"#\".concat(lastPostId, \"_message\")).as('lastPost');\n}); // scroll to top post\ncy.get('@firstPost').scrollIntoView(); // # Emulate react to last message shortcut\npressShortcutReactToLastMessage(); // * Check that emoji picker is not open\ncy.get('#emojiPicker').should('not.exist'); // * No reactions should be present on the last message\ncy.get('@lastPost').within(function () {\n  cy.findByLabelText('reactions').should('not.exist');\n});","err":{},"uuid":"854ca615-6848-4f73-b6b4-e4dbe17edeb8","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should not emoji picker by shortcut if any modals are open","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should not emoji picker by shortcut if any modals are open","timedOut":null,"duration":12079,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open account settings modal\nopenMainMenuOptions('Account Settings'); // * Emulate react to last message shortcut and verify its blocked\nverifyShortcutReactToLastMessageIsBlocked(); // * Open view members modal and verify shortcut is blocked\nopenMainMenuOptions('Manage Members');\nverifyShortcutReactToLastMessageIsBlocked(); // * Open about mattermost modal and verify shortcut is blocked\nopenMainMenuOptions('About Mattermost');\nverifyShortcutReactToLastMessageIsBlocked(); // * Open channel header modal and verify shortcut is blocked\nopenChannelMainOptions('Edit Channel Header');\nverifyShortcutReactToLastMessageIsBlocked(); // * Open Edit channel header modal and verify shortcut is blocked\nopenChannelMainOptions('View Members');\nverifyShortcutReactToLastMessageIsBlocked(); // * Open channel rename modal and verify shortcut is blocked\nopenChannelMainOptions('Rename Channel');\nverifyShortcutReactToLastMessageIsBlocked();","err":{},"uuid":"0dbdae39-29bd-4f05-b1b0-d57361a8c369","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should not open the emoji picker by shortcut if any dropdown or popups are open","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should not open the emoji picker by shortcut if any dropdown or popups are open","timedOut":null,"duration":4271,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Open the channel menu dropdown, execute the shortcut and verify it is blocked\ncy.findByLabelText('channel menu').click();\nverifyShortcutReactToLastMessageIsBlocked(); // * Open the channel menu dropdown, execute the shortcut and verify it is blocked\ncy.findByLabelText('main menu').click();\nverifyShortcutReactToLastMessageIsBlocked();","err":{},"uuid":"61549852-d0b8-4053-811f-67a144fed5e2","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should not open the emoji picker by shortcut if RHS is fully expanded for search results, recent mentions, flagged and pinned posts","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should not open the emoji picker by shortcut if RHS is fully expanded for search results, recent mentions, flagged and pinned posts","timedOut":null,"duration":4890,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open the flagged message\ncy.findByLabelText('Flagged posts').click(); // # Expand the flagged message\ncy.findByLabelText('Expand').click(); // Execute the shortcut\npressShortcutReactToLastMessage(); // Check if emoji picker opened\ncy.get('#emojiPicker').should('not.exist'); // Close the expanded sidebar\ncy.findByLabelText('Expand').click(); // # Open the Pinned Posts\ncy.findByLabelText('Pinned posts').click(); // # Expand the Pinned Posts\ncy.findByLabelText('Expand').click(); // Execute the shortcut\npressShortcutReactToLastMessage(); // Check if emoji picker opened\ncy.get('#emojiPicker').should('not.exist'); // Close the expanded sidebar\ncy.findByLabelText('Expand').click();","err":{},"uuid":"4ef9bedf-8027-4c81-a3d2-d53b9f11a334","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should open the emoji picker for last message by shortcut if RHS is fully expanded for thread and focus is on RHS text box","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should open the emoji picker for last message by shortcut if RHS is fully expanded for thread and focus is on RHS text box","timedOut":null,"duration":6898,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Mouseover the last post and click post comment icon.\ncy.clickPostCommentIcon(); // * Check that the RHS is open\ncy.get('#rhsContainer').should('be.visible'); // # Expand the RHS fully\ncy.findByLabelText('Expand').click(); // # Emulate react to last message shortcut when focus is on the right text box\npressShortcutReactToLastMessage('RHS'); // * Check emoji picker opened and add reaction\naddingReactionWithEmojiPicker();\ncy.getLastPostId().then(function (lastPostId) {\n  // # Since only one post was on the RHS, its the same message we entered on center\n  checkingIfReactionsWereAddedToPost(lastPostId);\n}); // # Collapse the RHS\ncy.findByLabelText('Expand').click();\ncy.closeRHS();","err":{},"uuid":"e7535688-7772-4929-a42b-ec7dfd7cef3c","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false},{"title":"Should not open emoji picker by shortcut if last post is a system message","fullTitle":"Keyboard shortcut for adding reactions to last message in channel or thread Should not open emoji picker by shortcut if last post is a system message","timedOut":null,"duration":7730,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the new empty channel\ncy.visit(\"/ad-1/channels/\".concat(testChannel.name)); // * Check that there are no posts except you joined message\ncy.findAllByTestId('postView').should('have.length', 1); // # Emulate react to last message shortcut\npressShortcutReactToLastMessage(); // * Check that emoji picker is not opened for system joining message\ncy.get('#emojiPicker').should('not.exist'); // # Delete the system message\ncy.getLastPostId().then(function (lastPostId) {\n  cy.clickPostDotMenu(lastPostId); // # Click delete button.\n  cy.get(\"#delete_post_\".concat(lastPostId)).click(); // * Check that confirmation dialog is open.\n  cy.get('#deletePostModal').should('be.visible'); // # Confirm deletion.\n  cy.get('#deletePostModalButton').click(); // # Emulate react to last message shortcut\n  pressShortcutReactToLastMessage('CENTER'); // * Check that emoji picker is not opened for new channel\n  cy.get('#emojiPicker').should('not.exist');\n}); // # Post a message to channel\ncy.postMessage(MESSAGES.TINY); // # Archive the channel after posting a message\ncy.apiDeleteChannel(testChannel.id);\nisArchived = true; // # Emulate react to last message shortcut\npressShortcutReactToLastMessage(); // * Check that emoji picker is not opened\ncy.get('#emojiPicker').should('not.exist'); // # Close the archived channel\ncy.findByText('Close Channel').should('exist').click();","err":{},"uuid":"f0a685ed-ac1a-4fa7-83ca-3606ac445284","parentUUID":"b31e11bd-4b74-41dd-a3a9-5fe0a16f87a5","isHook":false,"skipped":false}],"suites":[],"passes":["1bfba882-a33f-48ab-abd5-0850aab8749d","7cc1ccc2-29da-4278-9b05-75a926c3e2e9","25c12c3e-0fc5-49c7-870e-5501b729053f","6d569b5c-da64-4892-9190-823a5d7ddc7f","6d087caf-d6e3-4b9e-82f7-bbb3d51147ba","13d12dda-84c0-4b00-aac1-5c67a45b44fc","70fa2a89-024e-4cd0-9e08-ecfa65186b28","b897f284-cb1f-4fc2-a38b-aab62a18543c","88980eac-f8af-454a-887c-62c1abccbe1c","a9895855-3ca7-42b2-94ef-d3d66c0d9418","854ca615-6848-4f73-b6b4-e4dbe17edeb8","0dbdae39-29bd-4f05-b1b0-d57361a8c369","61549852-d0b8-4053-811f-67a144fed5e2","4ef9bedf-8027-4c81-a3d2-d53b9f11a334","e7535688-7772-4929-a42b-ec7dfd7cef3c","f0a685ed-ac1a-4fa7-83ca-3606ac445284"],"failures":[],"pending":[],"skipped":[],"duration":150203,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2f39cc87-81a5-409a-9040-76dcd5a1c7c7","title":"","fullFile":"cypress/integration/emoji/recently_used_emoji_spec.js","file":"cypress/integration/emoji/recently_used_emoji_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"2501f717-6794-4356-ba3f-efd854bc1781","title":"Recent Emoji","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M14014 Recently used emojis are shown 1st","fullTitle":"Recent Emoji M14014 Recently used emojis are shown 1st","timedOut":null,"duration":1152,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var self = this,\n    args = arguments;\nreturn new Promise(function (resolve, reject) {\n  var gen = fn.apply(self, args);\n  function _next(value) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n  }\n  function _throw(err) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n  }\n  _next(undefined);\n});","err":{},"uuid":"6762d2ab-beea-498b-b6e8-fa12e184c5c8","parentUUID":"2501f717-6794-4356-ba3f-efd854bc1781","isHook":false,"skipped":false}],"suites":[],"passes":["6762d2ab-beea-498b-b6e8-fa12e184c5c8"],"failures":[],"pending":[],"skipped":[],"duration":1152,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2dcf5399-1c42-44a5-b582-8233ab07ebfc","title":"","fullFile":"cypress/integration/emoji/sorted_emojis_spec.js","file":"cypress/integration/emoji/sorted_emojis_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"085f0cf2-4314-45a3-ae92-7d970a8607b4","title":"M16739 - Filtered emojis are sorted","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"By recency","fullTitle":"M16739 - Filtered emojis are sorted By recency","timedOut":null,"duration":7689,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #Post a dog emoji\ncy.postMessage(':dog:'); // #Post a cat emoji\ncy.postMessage(':cat:'); // #Open emoji picker\ncy.get('#emojiPickerButton').click(); // #Assert first recently used emoji has the data-test-id value of 'cat' which was the last one we sent\n//cy.queryAllByTestId('emoji__item').first().children(\"img[data-testid='cat']\").should('exist');\ncy.queryAllByTestId('emojiItem').first().within(function ($el) {\n  cy.wrap($el).findByTestId('cat').should('be.visible');\n});","err":{},"uuid":"107f22f4-5fef-43e5-bf8b-a7b984ad3f9e","parentUUID":"085f0cf2-4314-45a3-ae92-7d970a8607b4","isHook":false,"skipped":false},{"title":"By recently used emoji first in alphabetical order, Followed by emoji that contain \"word\" in alphabetical","fullTitle":"M16739 - Filtered emojis are sorted By recently used emoji first in alphabetical order, Followed by emoji that contain \"word\" in alphabetical","timedOut":null,"duration":3285,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var emojiList = []; // #Post a guardsman emoji\ncy.postMessage(':guardsman:'); // #Post a white small square emoji\ncy.postMessage(':white_small_square:'); // #Open emoji picker\ncy.get('#emojiPickerButton').click(); //#Search sma text in emoji searching input\ncy.queryByTestId('emojiInputSearch').should('be.visible').type('sma'); // #Get list of recent emojis based on search text\ncy.queryAllByTestId('emojiItem').children('img').each(function ($el) {\n  var emojiName = $el.get(0);\n  emojiList.push(emojiName.dataset.testid);\n}).then(function () {\n  // #Comparing list of emojis obtained from search above and making sure order is same as requirement describes\n  expect(emojiList).to.deep.equal(['guardsman', 'white_small_square', 'small_airplane', 'small_blue_diamond', 'small_orange_diamond', 'small_red_triangle', 'small_red_triangle_down', 'arrow_down_small', 'arrow_up_small', 'black_medium_small_square', 'black_small_square', 'sun_behind_small_cloud', 'white_medium_small_square']);\n});","err":{},"uuid":"96c606ff-5c19-4956-be92-36312430d7e8","parentUUID":"085f0cf2-4314-45a3-ae92-7d970a8607b4","isHook":false,"skipped":false}],"suites":[],"passes":["107f22f4-5fef-43e5-bf8b-a7b984ad3f9e","96c606ff-5c19-4956-be92-36312430d7e8"],"failures":[],"pending":[],"skipped":[],"duration":10974,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c78479d8-163f-43fe-9ea5-3a79c6e6f7b5","title":"","fullFile":"cypress/integration/enterprise/elasticsearch_autocomplete/channels_spec.js","file":"cypress/integration/enterprise/elasticsearch_autocomplete/channels_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"4b7ba879-95ae-4a21-905a-5debd3ee8630","title":"search for channel with","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"32a8461d-a714-454f-b254-7cc8768989d4","title":"elastic search enabled","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"private channel I don't belong to does not appear","fullTitle":"search for channel with elastic search enabled private channel I don't belong to does not appear","timedOut":null,"duration":35785,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create private channel, do not add new user to it (sets @privateChannel alias)\ncreatePrivateChannel(team.id);\ncy.get('@privateChannel').then(function (channel) {\n  // # Search for the private channel\n  searchForChannel(channel.name); // * And it should not appear\n  cy.queryByTestId(channel.name).should('not.exist');\n});","err":{},"uuid":"e9beb11d-f8d6-414e-acca-f90c8789c390","parentUUID":"32a8461d-a714-454f-b254-7cc8768989d4","isHook":false,"skipped":false},{"title":"private channel I do belong to appears","fullTitle":"search for channel with elastic search enabled private channel I do belong to appears","timedOut":null,"duration":1492,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create private channel and add new user to it (sets @privateChannel alias)\ncreatePrivateChannel(team.id, user);\ncy.get('@privateChannel').then(function (channel) {\n  // # Search for the private channel\n  searchForChannel(channel.name); // * Suggestion list should appear\n  cy.get('#suggestionList').should('be.visible'); // * Channel should appear in the list\n  cy.queryByTestId(channel.name).should('be.visible');\n});","err":{},"uuid":"7aed51dc-b74d-417b-a0c0-a0db18f57993","parentUUID":"32a8461d-a714-454f-b254-7cc8768989d4","isHook":false,"skipped":false},{"title":"channel outside of team does not appear","fullTitle":"search for channel with elastic search enabled channel outside of team does not appear","timedOut":null,"duration":1366,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var teamName = 'elastic-private-' + Date.now();\nvar baseUrl = Cypress.config('baseUrl'); // # As admin, create a new team that the new user is not a member of\ncy.task('externalRequest', {\n  user: _users[\"default\"].sysadmin,\n  path: 'teams',\n  baseUrl: baseUrl,\n  method: 'post',\n  data: {\n    name: teamName,\n    display_name: teamName,\n    type: 'O'\n  }\n}).then(function (teamResponse) {\n  expect(teamResponse.status).to.equal(201); // # Create a private channel where the new user is not a member of\n  createPrivateChannel(teamResponse.data.id);\n});\ncy.get('@privateChannel').then(function (channel) {\n  // # Search for the private channel\n  searchForChannel(channel.name); // * Channel sohuld not appear in the search results\n  cy.queryByTestId(channel.name).should('not.exist');\n});","err":{},"uuid":"86e7faae-14de-4c2c-b2bb-885a4f8af58f","parentUUID":"32a8461d-a714-454f-b254-7cc8768989d4","isHook":false,"skipped":false}],"suites":[{"uuid":"a83b2da8-d42d-47be-94a5-c32fd60aa529","title":"channel with","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"dots appears","fullTitle":"search for channel with elastic search enabled channel with dots appears","timedOut":null,"duration":2608,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var name = 'hello.there'; // Change name of channel\ncy.apiPatchChannel(channelId, {\n  display_name: name\n}); // * Search for channel should work\nsearchForChannel(name);","err":{},"uuid":"da62832b-3bbe-4b5e-992f-9b4a56209778","parentUUID":"a83b2da8-d42d-47be-94a5-c32fd60aa529","isHook":false,"skipped":false},{"title":"dashes appears","fullTitle":"search for channel with elastic search enabled channel with dashes appears","timedOut":null,"duration":963,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var name = 'hello-there'; // Change name of channel\ncy.apiPatchChannel(channelId, {\n  display_name: name\n}); // * Search for channel should work\nsearchForChannel(name);","err":{},"uuid":"69a6cc91-7191-4f04-93b1-b2c7afd40652","parentUUID":"a83b2da8-d42d-47be-94a5-c32fd60aa529","isHook":false,"skipped":false},{"title":"underscores appears","fullTitle":"search for channel with elastic search enabled channel with underscores appears","timedOut":null,"duration":975,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var name = 'hello_there'; // Change name of channel\ncy.apiPatchChannel(channelId, {\n  display_name: name\n}); // * Search for channel should work\nsearchForChannel(name);","err":{},"uuid":"f7e46802-f499-4628-8cf3-ec3d0890bdf6","parentUUID":"a83b2da8-d42d-47be-94a5-c32fd60aa529","isHook":false,"skipped":false},{"title":"dots, dashes, and underscores appears","fullTitle":"search for channel with elastic search enabled channel with dots, dashes, and underscores appears","timedOut":null,"duration":991,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var name = 'he.llo-the_re'; // Change name of channel\ncy.apiPatchChannel(channelId, {\n  display_name: name\n}); // * Search for channel should work\nsearchForChannel(name);","err":{},"uuid":"3564dc7f-895c-4722-901c-c60f7e138fa5","parentUUID":"a83b2da8-d42d-47be-94a5-c32fd60aa529","isHook":false,"skipped":false}],"suites":[],"passes":["da62832b-3bbe-4b5e-992f-9b4a56209778","69a6cc91-7191-4f04-93b1-b2c7afd40652","f7e46802-f499-4628-8cf3-ec3d0890bdf6","3564dc7f-895c-4722-901c-c60f7e138fa5"],"failures":[],"pending":[],"skipped":[],"duration":5537,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":["e9beb11d-f8d6-414e-acca-f90c8789c390","7aed51dc-b74d-417b-a0c0-a0db18f57993","86e7faae-14de-4c2c-b2bb-885a4f8af58f"],"failures":[],"pending":[],"skipped":[],"duration":38643,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"0462d171-0819-4611-9615-0bad33844cab","title":"elastic search disabled","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"private channel I don't belong to does not appear","fullTitle":"search for channel with elastic search disabled private channel I don't belong to does not appear","timedOut":null,"duration":2310,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create private channel, do not add new user to it (sets @privateChannel alias)\ncreatePrivateChannel(team.id);\ncy.get('@privateChannel').then(function (channel) {\n  // # Search for the private channel\n  searchForChannel(channel.name); // * And it should not appear\n  cy.queryByTestId(channel.name).should('not.exist');\n});","err":{},"uuid":"c7d9d0c2-7135-4333-b7d0-eddc76be356f","parentUUID":"0462d171-0819-4611-9615-0bad33844cab","isHook":false,"skipped":false},{"title":"private channel I do belong to appears","fullTitle":"search for channel with elastic search disabled private channel I do belong to appears","timedOut":null,"duration":1141,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create private channel and add new user to it (sets @privateChannel alias)\ncreatePrivateChannel(team.id, user);\ncy.get('@privateChannel').then(function (channel) {\n  // # Search for the private channel\n  searchForChannel(channel.name); // * Suggestion list should appear\n  cy.get('#suggestionList').should('be.visible'); // * Channel should appear in the list\n  cy.queryByTestId(channel.name).should('be.visible');\n});","err":{},"uuid":"8c7cb720-90e3-42f6-97a4-8b290b463de6","parentUUID":"0462d171-0819-4611-9615-0bad33844cab","isHook":false,"skipped":false},{"title":"channel outside of team does not appear","fullTitle":"search for channel with elastic search disabled channel outside of team does not appear","timedOut":null,"duration":1091,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var teamName = 'elastic-private-' + Date.now();\nvar baseUrl = Cypress.config('baseUrl'); // # As admin, create a new team that the new user is not a member of\ncy.task('externalRequest', {\n  user: _users[\"default\"].sysadmin,\n  path: 'teams',\n  baseUrl: baseUrl,\n  method: 'post',\n  data: {\n    name: teamName,\n    display_name: teamName,\n    type: 'O'\n  }\n}).then(function (teamResponse) {\n  expect(teamResponse.status).to.equal(201); // # Create a private channel where the new user is not a member of\n  createPrivateChannel(teamResponse.data.id);\n});\ncy.get('@privateChannel').then(function (channel) {\n  // # Search for the private channel\n  searchForChannel(channel.name); // * Channel sohuld not appear in the search results\n  cy.queryByTestId(channel.name).should('not.exist');\n});","err":{},"uuid":"07bf5ba6-f277-499e-9ce6-99e93ed8a32b","parentUUID":"0462d171-0819-4611-9615-0bad33844cab","isHook":false,"skipped":false}],"suites":[{"uuid":"b168724e-e3e5-4d0d-a55e-1a2e40667b9b","title":"channel with","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"dots appears","fullTitle":"search for channel with elastic search disabled channel with dots appears","timedOut":null,"duration":2785,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var name = 'hello.there'; // Change name of channel\ncy.apiPatchChannel(channelId, {\n  display_name: name\n}); // * Search for channel should work\nsearchForChannel(name);","err":{},"uuid":"b6e09bc6-7d62-478f-9540-bd18ccf0d4a1","parentUUID":"b168724e-e3e5-4d0d-a55e-1a2e40667b9b","isHook":false,"skipped":false},{"title":"dashes appears","fullTitle":"search for channel with elastic search disabled channel with dashes appears","timedOut":null,"duration":1014,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var name = 'hello-there'; // Change name of channel\ncy.apiPatchChannel(channelId, {\n  display_name: name\n}); // * Search for channel should work\nsearchForChannel(name);","err":{},"uuid":"41a3425f-2c11-4805-8b88-d1b2d02ad721","parentUUID":"b168724e-e3e5-4d0d-a55e-1a2e40667b9b","isHook":false,"skipped":false},{"title":"underscores appears","fullTitle":"search for channel with elastic search disabled channel with underscores appears","timedOut":null,"duration":982,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var name = 'hello_there'; // Change name of channel\ncy.apiPatchChannel(channelId, {\n  display_name: name\n}); // * Search for channel should work\nsearchForChannel(name);","err":{},"uuid":"256784d8-51a4-416c-b3ff-ef5fc7a0446e","parentUUID":"b168724e-e3e5-4d0d-a55e-1a2e40667b9b","isHook":false,"skipped":false},{"title":"dots, dashes, and underscores appears","fullTitle":"search for channel with elastic search disabled channel with dots, dashes, and underscores appears","timedOut":null,"duration":1019,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var name = 'he.llo-the_re'; // Change name of channel\ncy.apiPatchChannel(channelId, {\n  display_name: name\n}); // * Search for channel should work\nsearchForChannel(name);","err":{},"uuid":"c42663c8-d440-4764-9136-27542e3a542f","parentUUID":"b168724e-e3e5-4d0d-a55e-1a2e40667b9b","isHook":false,"skipped":false}],"suites":[],"passes":["b6e09bc6-7d62-478f-9540-bd18ccf0d4a1","41a3425f-2c11-4805-8b88-d1b2d02ad721","256784d8-51a4-416c-b3ff-ef5fc7a0446e","c42663c8-d440-4764-9136-27542e3a542f"],"failures":[],"pending":[],"skipped":[],"duration":5800,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":["c7d9d0c2-7135-4333-b7d0-eddc76be356f","8c7cb720-90e3-42f6-97a4-8b290b463de6","07bf5ba6-f277-499e-9ce6-99e93ed8a32b"],"failures":[],"pending":[],"skipped":[],"duration":4542,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"852898d8-e1d9-4514-a843-377df37784cc","title":"","fullFile":"cypress/integration/enterprise/elasticsearch_autocomplete/renaming_spec.js","file":"cypress/integration/enterprise/elasticsearch_autocomplete/renaming_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"d56cb6b8-fddd-4e3d-908b-0c352bd9e925","title":"renaming","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"afb564f2-6e93-4fee-920e-772856a7da3e","title":"with elastic search enabled","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"renamed user appears in message input box","fullTitle":"renaming with elastic search enabled renamed user appears in message input box","timedOut":null,"duration":42071,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/renaming_spec.js/renaming -- with elastic search enabled -- renamed user appears in message input box (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/renaming_spec.js/renaming -- with elastic search enabled -- renamed user appears in message input box (failed).png\"\n}","code":"var spiderman = {\n  username: (0, _helpers.withTimestamp)('spiderman', configStamp),\n  firstName: 'Peter',\n  lastName: 'Parker',\n  email: (0, _helpers.createEmail)('spiderman', configStamp),\n  nickname: (0, _helpers.withTimestamp)('friendlyneighborhood', configStamp)\n}; // # Create a new user\ncy.apiCreateNewUser(spiderman, [team.id]).then(function (userResponse) {\n  var user = userResponse;\n  cy.visit(\"/\".concat(team.name)); // # Verify user appears in search results pre-change\n  searchAndVerifyUser(user); // # Rename a user\n  var newName = (0, _helpers.withTimestamp)('webslinger', configStamp);\n  cy.apiPatchUser(user.id, {\n    username: newName\n  }).then(function () {\n    user.username = newName; // # Verify user appears in search results post-change\n    searchAndVerifyUser(user);\n  });\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"768d1ee7-cb59-4e44-9d99-cceaac913092","parentUUID":"afb564f2-6e93-4fee-920e-772856a7da3e","isHook":false,"skipped":false},{"title":"renamed channel appears in channel switcher","fullTitle":"renaming with elastic search enabled renamed channel appears in channel switcher","timedOut":null,"duration":2413,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var channelName = 'newchannel' + Date.now();\nvar newChannelName = 'updatedchannel' + Date.now(); // # Create a new channel\ncy.apiCreateChannel(team.id, channelName, channelName).then(function (channelResponse) {\n  var channel = channelResponse.body; // # Channel should appear in search results pre-change\n  searchAndVerifyChannel(channel); // # Change the channels name\n  cy.apiPatchChannel(channel.id, {\n    name: newChannelName\n  });\n  channel.name = newChannelName;\n  cy.reload(); // # Search for channel and verify it appears\n  searchAndVerifyChannel(channel);\n});","err":{},"uuid":"97ea08f6-dab6-4e39-a305-d5cbbe6bdff3","parentUUID":"afb564f2-6e93-4fee-920e-772856a7da3e","isHook":false,"skipped":false}],"suites":[{"uuid":"1727afdd-05f4-420c-bba9-8a7f17546a45","title":"renamed team","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"correctly searches for user","fullTitle":"renaming with elastic search enabled renamed team correctly searches for user","timedOut":null,"duration":21297,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/renaming_spec.js/correctly searches for user -- before all hook (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/renaming_spec.js/correctly searches for user -- before all hook (failed).png\"\n}","code":"cy.get('body').type('{esc}');\nsearchAndVerifyUser(user);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n\nBecause this error occurred during a 'before all' hook we are skipping the remaining tests in the current suite: 'renamed team'","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n\nBecause this error occurred during a 'before all' hook we are skipping the remaining tests in the current suite: 'renamed team'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"c75bd097-968c-4618-ac39-989031937a7f","parentUUID":"1727afdd-05f4-420c-bba9-8a7f17546a45","isHook":false,"skipped":false},{"title":"correctly searches for channel","fullTitle":"renaming with elastic search enabled renamed team correctly searches for channel","timedOut":null,"duration":0,"state":"skipped","speed":null,"pass":false,"fail":false,"pending":false,"context":null,"code":"cy.get('body').type('{esc}');\nsearchAndVerifyChannel(channel);","err":{},"uuid":"1f064fdf-a481-499f-ace8-3cc82fc9d2d1","parentUUID":"1727afdd-05f4-420c-bba9-8a7f17546a45","isHook":false,"skipped":true}],"suites":[],"passes":[],"failures":["c75bd097-968c-4618-ac39-989031937a7f"],"pending":[],"skipped":["1f064fdf-a481-499f-ace8-3cc82fc9d2d1"],"duration":21297,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":["97ea08f6-dab6-4e39-a305-d5cbbe6bdff3"],"failures":["768d1ee7-cb59-4e44-9d99-cceaac913092"],"pending":[],"skipped":[],"duration":44484,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"e01a17d8-eb69-462d-a432-1b9cf170197d","title":"with elastic search disabled","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"renamed user appears in message input box","fullTitle":"renaming with elastic search disabled renamed user appears in message input box","timedOut":null,"duration":239,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/renaming_spec.js/renamed user appears in message input box -- before all hook (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/renaming_spec.js/renamed user appears in message input box -- before all hook (failed).png\"\n}","code":"var spiderman = {\n  username: (0, _helpers.withTimestamp)('spiderman', configStamp),\n  firstName: 'Peter',\n  lastName: 'Parker',\n  email: (0, _helpers.createEmail)('spiderman', configStamp),\n  nickname: (0, _helpers.withTimestamp)('friendlyneighborhood', configStamp)\n}; // # Create a new user\ncy.apiCreateNewUser(spiderman, [team.id]).then(function (userResponse) {\n  var user = userResponse;\n  cy.visit(\"/\".concat(team.name)); // # Verify user appears in search results pre-change\n  searchAndVerifyUser(user); // # Rename a user\n  var newName = (0, _helpers.withTimestamp)('webslinger', configStamp);\n  cy.apiPatchUser(user.id, {\n    username: newName\n  }).then(function () {\n    user.username = newName; // # Verify user appears in search results post-change\n    searchAndVerifyUser(user);\n  });\n});","err":{"message":"CypressError: cy.request() failed on:\n\nhttps://cypress.test.mattermost.com/api/v4/config\n\nThe response we received from your web server was:\n\n  > 401: Unauthorized\n\nThis was considered a failure because the status code was not '2xx' or '3xx'.\n\nIf you do not want status codes to cause failures pass the option: 'failOnStatusCode: false'\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: GET\nURL: https://cypress.test.mattermost.com/api/v4/config\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/80.0.3987.116 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\"\n}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 401 - Unauthorized\nHeaders: {\n  \"server\": \"nginx/1.14.0 (Ubuntu)\",\n  \"date\": \"Mon, 13 Apr 2020 10:00:20 GMT\",\n  \"content-type\": \"application/json\",\n  \"content-length\": \"198\",\n  \"connection\": \"keep-alive\",\n  \"expires\": \"0\",\n  \"vary\": \"Accept-Encoding\",\n  \"x-request-id\": \"y8pmkqx7b7yxtncoaafq4w1nnr\",\n  \"x-version-id\": \"5.24.0.master.1303.9b6bb2f.5607a298e2a0e8787045454031c5d4d5.true\"\n}\nBody: {\n  \"id\": \"api.context.session_expired.app_error\",\n  \"message\": \"Invalid or expired session, please login again.\",\n  \"detailed_error\": \"UserRequired\",\n  \"request_id\": \"y8pmkqx7b7yxtncoaafq4w1nnr\",\n  \"status_code\": 401\n}\n\n\nBecause this error occurred during a 'before all' hook we are skipping the remaining tests in the current suite: 'with elastic search disabled'","estack":"CypressError: cy.request() failed on:\n\nhttps://cypress.test.mattermost.com/api/v4/config\n\nThe response we received from your web server was:\n\n  > 401: Unauthorized\n\nThis was considered a failure because the status code was not '2xx' or '3xx'.\n\nIf you do not want status codes to cause failures pass the option: 'failOnStatusCode: false'\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: GET\nURL: https://cypress.test.mattermost.com/api/v4/config\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/80.0.3987.116 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"accept-encoding\": \"gzip, deflate\"\n}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 401 - Unauthorized\nHeaders: {\n  \"server\": \"nginx/1.14.0 (Ubuntu)\",\n  \"date\": \"Mon, 13 Apr 2020 10:00:20 GMT\",\n  \"content-type\": \"application/json\",\n  \"content-length\": \"198\",\n  \"connection\": \"keep-alive\",\n  \"expires\": \"0\",\n  \"vary\": \"Accept-Encoding\",\n  \"x-request-id\": \"y8pmkqx7b7yxtncoaafq4w1nnr\",\n  \"x-version-id\": \"5.24.0.master.1303.9b6bb2f.5607a298e2a0e8787045454031c5d4d5.true\"\n}\nBody: {\n  \"id\": \"api.context.session_expired.app_error\",\n  \"message\": \"Invalid or expired session, please login again.\",\n  \"detailed_error\": \"UserRequired\",\n  \"request_id\": \"y8pmkqx7b7yxtncoaafq4w1nnr\",\n  \"status_code\": 401\n}\n\n\nBecause this error occurred during a 'before all' hook we are skipping the remaining tests in the current suite: 'with elastic search disabled'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:139799:21\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165532:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"e56e9408-325c-4e06-baba-5454cf8c6d9e","parentUUID":"e01a17d8-eb69-462d-a432-1b9cf170197d","isHook":false,"skipped":false},{"title":"renamed channel appears in channel switcher","fullTitle":"renaming with elastic search disabled renamed channel appears in channel switcher","timedOut":null,"duration":0,"state":"skipped","speed":null,"pass":false,"fail":false,"pending":false,"context":null,"code":"var channelName = 'newchannel' + Date.now();\nvar newChannelName = 'updatedchannel' + Date.now(); // # Create a new channel\ncy.apiCreateChannel(team.id, channelName, channelName).then(function (channelResponse) {\n  var channel = channelResponse.body; // # Channel should appear in search results pre-change\n  searchAndVerifyChannel(channel); // # Change the channels name\n  cy.apiPatchChannel(channel.id, {\n    name: newChannelName\n  });\n  channel.name = newChannelName;\n  cy.reload(); // # Search for channel and verify it appears\n  searchAndVerifyChannel(channel);\n});","err":{},"uuid":"3cd88a89-9466-43a6-b260-70f00b7fde01","parentUUID":"e01a17d8-eb69-462d-a432-1b9cf170197d","isHook":false,"skipped":true}],"suites":[{"uuid":"101e6718-979a-42d4-a566-0febce9b3448","title":"renamed team","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"correctly searches for user","fullTitle":"renaming with elastic search disabled renamed team correctly searches for user","timedOut":null,"duration":0,"state":"skipped","speed":null,"pass":false,"fail":false,"pending":false,"context":null,"code":"cy.get('body').type('{esc}');\nsearchAndVerifyUser(user);","err":{},"uuid":"65e5421f-3ec0-4233-ba88-4cf041f54380","parentUUID":null,"isHook":false,"skipped":true},{"title":"correctly searches for channel","fullTitle":"renaming with elastic search disabled renamed team correctly searches for channel","timedOut":null,"duration":0,"state":"skipped","speed":null,"pass":false,"fail":false,"pending":false,"context":null,"code":"cy.get('body').type('{esc}');\nsearchAndVerifyChannel(channel);","err":{},"uuid":"732dd7d3-11ad-4f00-a13d-d886065f2c82","parentUUID":null,"isHook":false,"skipped":true}],"suites":[],"passes":[],"failures":[],"pending":[],"skipped":["65e5421f-3ec0-4233-ba88-4cf041f54380","732dd7d3-11ad-4f00-a13d-d886065f2c82"],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":["e56e9408-325c-4e06-baba-5454cf8c6d9e"],"pending":[],"skipped":["3cd88a89-9466-43a6-b260-70f00b7fde01"],"duration":239,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b71a4d5a-a7d4-4d64-9e96-79433f90c7e8","title":"","fullFile":"cypress/integration/enterprise/elasticsearch_autocomplete/system_console_spec.js","file":"cypress/integration/enterprise/elasticsearch_autocomplete/system_console_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"e7f394c1-3eb7-4da9-80d9-d1e451339cbe","title":"Elasticsearch system console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"can purge indexes","fullTitle":"Elasticsearch system console can purge indexes","timedOut":null,"duration":2577,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#purgeIndexesSection').within(function () {\n  // # Click Purge Indexes button\n  cy.contains('button', 'Purge Indexes').click(); // * We should see a message saying we are successful\n  cy.get('.alert-success').should('have.text', 'Indexes purged successfully.');\n});","err":{},"uuid":"30860ebf-267f-4d20-a8ce-23cde0e90828","parentUUID":"e7f394c1-3eb7-4da9-80d9-d1e451339cbe","isHook":false,"skipped":false},{"title":"can perform bulk index","fullTitle":"Elasticsearch system console can perform bulk index","timedOut":null,"duration":31284,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click the Index Now button to start the index\ncy.contains('button', 'Index Now').click(); // # Small wait to ensure new row is added\ncy.wait(TIMEOUTS.TINY); // * First row should now say Pending\ncy.get('.job-table__table').find('tbody > tr').eq(0).as('firstRow').find('.status-icon-warning', {\n  timeout: TIMEOUTS.LARGE\n}).should('be.visible').and('have.text', 'Pending'); // * First row should update to say In Progress\ncy.get('@firstRow').find('.status-icon-warning', {\n  timeout: TIMEOUTS.GIGANTIC\n}).should('be.visible').and('have.text', 'In Progress'); // * First row update to say Success\ncy.waitUntil(function () {\n  return cy.get('@firstRow').then(function (el) {\n    return el.find('.status-icon-success').length > 0;\n  });\n}, {\n  timeout: TIMEOUTS.FOUR_MINS,\n  interval: 2000,\n  errorMsg: 'Reindex did not succeed in time'\n});\ncy.get('@firstRow').find('.status-icon-success').should('be.visible').and('have.text', 'Success');","err":{},"uuid":"a6973d95-8117-48a6-966d-6bcd8c7aad09","parentUUID":"e7f394c1-3eb7-4da9-80d9-d1e451339cbe","isHook":false,"skipped":false},{"title":"autocomplete queries can be disabled","fullTitle":"Elasticsearch system console autocomplete queries can be disabled","timedOut":null,"duration":297,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"//  Check the false checkbox for enable autocomplete\ncy.get('#enableAutocompletefalse').check().should('be.checked'); // # Save the settings\ncy.get('#saveSetting').click(); // * Get config from API and verify that EnableAutocomplete setting is false\ncy.apiGetConfig().then(function (configResponse) {\n  var config = configResponse.body;\n  cy.log(config.ElasticsearchSettings);\n  expect(config.ElasticsearchSettings.EnableAutocomplete).to.be[\"false\"];\n});","err":{},"uuid":"390cbe1a-09bb-49de-be06-c1a8c0d6491b","parentUUID":"e7f394c1-3eb7-4da9-80d9-d1e451339cbe","isHook":false,"skipped":false}],"suites":[],"passes":["30860ebf-267f-4d20-a8ce-23cde0e90828","a6973d95-8117-48a6-966d-6bcd8c7aad09","390cbe1a-09bb-49de-be06-c1a8c0d6491b"],"failures":[],"pending":[],"skipped":[],"duration":34158,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"bfc6e989-0909-470c-b3fc-f6721bcfee19","title":"","fullFile":"cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js","file":"cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"3bff4382-5031-4ada-96a9-98bb9103d5a1","title":"Autocomplete","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"15892868-9621-46ea-bda0-59e0afbd39e0","title":"with elastic search enabled","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5344be0a-ec29-41ad-af9d-02b6c58693cc","title":"autocomplete","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"users in correct in/out of channel sections","fullTitle":"Autocomplete with elastic search enabled autocomplete users in correct in/out of channel sections","timedOut":null,"duration":62233,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- users in correct inout of channel sections (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- users in correct inout of channel sections (failed).png\"\n}","code":"var thor = testUsers.thor;\nvar loki = testUsers.loki; // # Navigate to town square\ncy.visit(\"/\".concat(team.name, \"/channels/town-square\")); // # Get the current team id, create new channel, and add user to channel\ncy.getCurrentTeamId().then(function (teamId) {\n  var channelName = \"new-channel-\".concat(timestamp);\n  cy.apiCreateChannel(teamId, channelName, channelName).then(function (channelResponse) {\n    var channel = channelResponse.body;\n    cy.apiGetUserByEmail(thor.email).then(function (emailResponse) {\n      var user = emailResponse.body;\n      cy.apiAddUserToChannel(channel.id, user.id);\n    });\n    cy.visit(\"/\".concat(team.name, \"/channels/\").concat(channel.name));\n  });\n}); // # Start an at mention that should return 2 users (in this case, the users share a last name)\ncy.get('#post_textbox').as('input').should('be.visible').clear().type('@odinson'); // * Thor should be a channel member\ncy.findByTestId(thor.username, {\n  exact: false\n}).within(function (name) {\n  cy.wrap(name).prev('.suggestion-list__divider').should('have.text', 'Channel Members');\n  cy.wrap(name).find('.mention--align').should('have.text', \"@\".concat(thor.username));\n  cy.wrap(name).find('.mention__fullname').should('have.text', \" - \".concat(thor.firstName, \" \").concat(thor.lastName, \" (\").concat(thor.nickname, \")\"));\n}); // * Loki should NOT be a channel member\ncy.findByTestId(loki.username, {\n  exact: false\n}).within(function (name) {\n  cy.wrap(name).prev('.suggestion-list__divider').should('have.text', 'Not in Channel');\n  cy.wrap(name).find('.mention--align').should('have.text', \"@\".concat(loki.username));\n  cy.wrap(name).find('.mention__fullname').should('have.text', \" - \".concat(loki.firstName, \" \").concat(loki.lastName, \" (\").concat(loki.nickname, \")\"));\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"99c0b630-915a-4342-a8f3-eafd4a9ad97e","parentUUID":"5344be0a-ec29-41ad-af9d-02b6c58693cc","isHook":false,"skipped":false},{"title":"DM can be opened with a user not on your team or in your DM channel sidebar","fullTitle":"Autocomplete with elastic search enabled autocomplete DM can be opened with a user not on your team or in your DM channel sidebar","timedOut":null,"duration":1561,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var thor = testUsers.thor; // # Open of the add direct message modal\ncy.get('#addDirectChannel').click({\n  force: true\n}); // # Type username into input\ncy.get('.more-direct-channels').find('input').should('exist').type(thor.username, {\n  force: true\n}); // * There should only be one result\ncy.get('.more-modal__row').as('result').its('length').should('equal', 1); // * Result should have appropriate text\ncy.get('@result').find('.more-modal__name').should('have.text', \"@\".concat(thor.username, \" - \").concat(thor.firstName, \" \").concat(thor.lastName, \" (\").concat(thor.nickname, \")\"));\ncy.get('@result').find('.more-modal__description').should('have.text', thor.email); // # Click on the result to add user\ncy.get('@result').click({\n  force: true\n}); // # Click on save\ncy.get('#saveItems').click(); // # Should land on direct message channel for that user\ncy.get('#channelHeaderTitle').should('have.text', thor.username + ' ');","err":{},"uuid":"1d88c8ea-2773-4358-aec7-f1048ef1f0e4","parentUUID":"5344be0a-ec29-41ad-af9d-02b6c58693cc","isHook":false,"skipped":false}],"suites":[{"uuid":"fbe67ca6-1f30-4f02-820d-588c0df89f21","title":"search for user in message input box","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"e8872de1-583f-4e13-bc32-f0b49a839f10","title":"by @username","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @username unique partial returns single user","timedOut":null,"duration":21822,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @username -- unique partial returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @username -- unique partial returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@do');\narea.verifySuggestion(testUsers.doctorstrange);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"13b66e73-fb55-4107-b478-189fb4a955e1","parentUUID":"e8872de1-583f-4e13-bc32-f0b49a839f10","isHook":false,"skipped":false},{"title":"partial returns all testUsers.that match","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @username partial returns all testUsers.that match","timedOut":null,"duration":20635,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @username -- partial returns all testUsers.that match (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @username -- partial returns all testUsers.that match (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@d');\narea.verifySuggestion(testUsers.deadpool, testUsers.doctorstrange);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"b7b6b07a-6a6f-4afb-8426-6aac8901cf90","parentUUID":"e8872de1-583f-4e13-bc32-f0b49a839f10","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @username full name returns single user","timedOut":null,"duration":20851,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @username -- full name returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @username -- full name returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ironman');\narea.verifySuggestion(testUsers.ironman);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"ed8675bf-e7d5-427a-a49a-9a956d9d73e1","parentUUID":"e8872de1-583f-4e13-bc32-f0b49a839f10","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["13b66e73-fb55-4107-b478-189fb4a955e1","b7b6b07a-6a6f-4afb-8426-6aac8901cf90","ed8675bf-e7d5-427a-a49a-9a956d9d73e1"],"pending":[],"skipped":[],"duration":63308,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"07fa81df-46f0-4f49-9348-4302f06cd8c0","title":"by @firstname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @firstname unique partial returns single user","timedOut":null,"duration":20668,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @firstname -- unique partial returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @firstname -- unique partial returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@wa');\narea.verifySuggestion(testUsers.deadpool);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"8c2b0d9b-6bb1-4d6f-89dd-33f5454a898a","parentUUID":"07fa81df-46f0-4f49-9348-4302f06cd8c0","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @firstname partial returns results  all testUsers.that match","timedOut":null,"duration":21613,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @firstname -- partial returns results  all testUsers.that match (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @firstname -- partial returns results  all testUsers.that match (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ste');\narea.verifySuggestion(testUsers.captainamerica, testUsers.doctorstrange);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"1a701ebd-c185-4fba-9cdb-a1823972898c","parentUUID":"07fa81df-46f0-4f49-9348-4302f06cd8c0","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @firstname full name returns single user","timedOut":null,"duration":20707,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @firstname -- full name returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @firstname -- full name returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@tony');\narea.verifySuggestion(testUsers.ironman);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"c374e7b9-3f83-4071-9000-56387b69cdc1","parentUUID":"07fa81df-46f0-4f49-9348-4302f06cd8c0","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["8c2b0d9b-6bb1-4d6f-89dd-33f5454a898a","1a701ebd-c185-4fba-9cdb-a1823972898c","c374e7b9-3f83-4071-9000-56387b69cdc1"],"pending":[],"skipped":[],"duration":62988,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"e79be1ae-4231-4096-95e9-08a90d57a37e","title":"by @lastname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @lastname unique partial returns single user","timedOut":null,"duration":21172,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @lastname -- unique partial returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @lastname -- unique partial returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ban');\narea.verifySuggestion(testUsers.hulk);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"ffe09596-e686-48ed-879f-a15c0584ab85","parentUUID":"e79be1ae-4231-4096-95e9-08a90d57a37e","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @lastname partial returns results  all testUsers.that match","timedOut":null,"duration":20888,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @lastname -- partial returns results  all testUsers.that match (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @lastname -- partial returns results  all testUsers.that match (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ba');\narea.verifySuggestion(testUsers.hawkeye, testUsers.hulk);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"8cc0a63e-3ba8-4a5e-8d15-7398fd6476fd","parentUUID":"e79be1ae-4231-4096-95e9-08a90d57a37e","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @lastname full name returns single user","timedOut":null,"duration":20698,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @lastname -- full name returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @lastname -- full name returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@stark');\narea.verifySuggestion(testUsers.ironman);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"0a0c81fa-f5b1-4660-870f-44a2eba879fa","parentUUID":"e79be1ae-4231-4096-95e9-08a90d57a37e","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["ffe09596-e686-48ed-879f-a15c0584ab85","8cc0a63e-3ba8-4a5e-8d15-7398fd6476fd","0a0c81fa-f5b1-4660-870f-44a2eba879fa"],"pending":[],"skipped":[],"duration":62758,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"edaba99f-1acd-4050-b538-9fc60f136082","title":"by @nickname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @nickname unique partial returns single user","timedOut":null,"duration":20727,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @nickname -- unique partial returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @nickname -- unique partial returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@gam');\narea.verifySuggestion(testUsers.hulk);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"290306a2-2547-4fe7-b1c3-3bcf9f7f2f8e","parentUUID":"edaba99f-1acd-4050-b538-9fc60f136082","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @nickname partial returns results  all testUsers.that match","timedOut":null,"duration":20717,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @nickname -- partial returns results  all testUsers.that match (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @nickname -- partial returns results  all testUsers.that match (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@pro');\narea.verifySuggestion(testUsers.captainamerica, testUsers.ironman);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"bec7fae8-ad87-497e-9ec1-35e47fe6ee98","parentUUID":"edaba99f-1acd-4050-b538-9fc60f136082","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box by @nickname full name returns single user","timedOut":null,"duration":20742,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @nickname -- full name returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- by @nickname -- full name returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ronin');\narea.verifySuggestion(testUsers.hawkeye);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"db4f3a28-7f99-407d-8a4e-d378606ee824","parentUUID":"edaba99f-1acd-4050-b538-9fc60f136082","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["290306a2-2547-4fe7-b1c3-3bcf9f7f2f8e","bec7fae8-ad87-497e-9ec1-35e47fe6ee98","db4f3a28-7f99-407d-8a4e-d378606ee824"],"pending":[],"skipped":[],"duration":62186,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"2c0c1b51-1417-42b0-93a7-9e395de4db8d","title":"special characters in usernames are returned","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"dots","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box special characters in usernames are returned dots","timedOut":null,"duration":20789,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- dots (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- dots (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@dot.dot');\narea.verifySuggestion(testUsers.dot);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"e86fd9b9-c7f8-4901-b3d7-d22a95e18e2e","parentUUID":"2c0c1b51-1417-42b0-93a7-9e395de4db8d","isHook":false,"skipped":false},{"title":"dash","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box special characters in usernames are returned dash","timedOut":null,"duration":20818,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- dash (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- dash (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@dash-dash');\narea.verifySuggestion(testUsers.dash);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"86236bdc-1c6c-41a0-b9c7-7aa627ee4b69","parentUUID":"2c0c1b51-1417-42b0-93a7-9e395de4db8d","isHook":false,"skipped":false},{"title":"underscore","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in message input box special characters in usernames are returned underscore","timedOut":null,"duration":21034,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- underscore (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search enabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- underscore (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@under_score');\narea.verifySuggestion(testUsers.underscore);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"e07c8545-e616-4347-9d47-e20bf0ffdf2c","parentUUID":"2c0c1b51-1417-42b0-93a7-9e395de4db8d","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["e86fd9b9-c7f8-4901-b3d7-d22a95e18e2e","86236bdc-1c6c-41a0-b9c7-7aa627ee4b69","e07c8545-e616-4347-9d47-e20bf0ffdf2c"],"pending":[],"skipped":[],"duration":62641,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"fa0609bb-97a4-4c88-8fae-58750870d67c","title":"search for user in channel switcher","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"55b4fae9-7d65-4a59-9aff-e3e09e78f5c4","title":"by @username","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @username unique partial returns single user","timedOut":null,"duration":2229,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@do');\narea.verifySuggestion(testUsers.doctorstrange);","err":{},"uuid":"88d0449b-bb96-469d-8a2e-a3568242d57c","parentUUID":"55b4fae9-7d65-4a59-9aff-e3e09e78f5c4","isHook":false,"skipped":false},{"title":"partial returns all testUsers.that match","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @username partial returns all testUsers.that match","timedOut":null,"duration":477,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@d');\narea.verifySuggestion(testUsers.deadpool, testUsers.doctorstrange);","err":{},"uuid":"6aa781d9-3310-4db7-92a1-163fc62b2f26","parentUUID":"55b4fae9-7d65-4a59-9aff-e3e09e78f5c4","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @username full name returns single user","timedOut":null,"duration":573,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ironman');\narea.verifySuggestion(testUsers.ironman);","err":{},"uuid":"638ffaae-1c3a-4e84-9164-82864fc06c02","parentUUID":"55b4fae9-7d65-4a59-9aff-e3e09e78f5c4","isHook":false,"skipped":false}],"suites":[],"passes":["88d0449b-bb96-469d-8a2e-a3568242d57c","6aa781d9-3310-4db7-92a1-163fc62b2f26","638ffaae-1c3a-4e84-9164-82864fc06c02"],"failures":[],"pending":[],"skipped":[],"duration":3279,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"af402ddb-9dc7-43af-bdde-62726c974a1c","title":"by @firstname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @firstname unique partial returns single user","timedOut":null,"duration":494,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@wa');\narea.verifySuggestion(testUsers.deadpool);","err":{},"uuid":"d80c5e10-18bf-4ecd-bb7b-de78558c8c77","parentUUID":"af402ddb-9dc7-43af-bdde-62726c974a1c","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @firstname partial returns results  all testUsers.that match","timedOut":null,"duration":507,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ste');\narea.verifySuggestion(testUsers.captainamerica, testUsers.doctorstrange);","err":{},"uuid":"06858206-a3a1-443b-89a4-214f9c6699c9","parentUUID":"af402ddb-9dc7-43af-bdde-62726c974a1c","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @firstname full name returns single user","timedOut":null,"duration":510,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@tony');\narea.verifySuggestion(testUsers.ironman);","err":{},"uuid":"aaf25fe5-1d8e-4432-bffc-9609202e15f3","parentUUID":"af402ddb-9dc7-43af-bdde-62726c974a1c","isHook":false,"skipped":false}],"suites":[],"passes":["d80c5e10-18bf-4ecd-bb7b-de78558c8c77","06858206-a3a1-443b-89a4-214f9c6699c9","aaf25fe5-1d8e-4432-bffc-9609202e15f3"],"failures":[],"pending":[],"skipped":[],"duration":1511,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"5d1f811e-361b-4fcd-acf8-403303256747","title":"by @lastname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @lastname unique partial returns single user","timedOut":null,"duration":499,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ban');\narea.verifySuggestion(testUsers.hulk);","err":{},"uuid":"ebe256b7-5104-4592-b278-73db97307f1a","parentUUID":"5d1f811e-361b-4fcd-acf8-403303256747","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @lastname partial returns results  all testUsers.that match","timedOut":null,"duration":499,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ba');\narea.verifySuggestion(testUsers.hawkeye, testUsers.hulk);","err":{},"uuid":"14032663-2bbe-4b56-8111-cd263fa20d28","parentUUID":"5d1f811e-361b-4fcd-acf8-403303256747","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @lastname full name returns single user","timedOut":null,"duration":520,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@stark');\narea.verifySuggestion(testUsers.ironman);","err":{},"uuid":"9545984c-1486-470a-af3c-f3dabf12a0b4","parentUUID":"5d1f811e-361b-4fcd-acf8-403303256747","isHook":false,"skipped":false}],"suites":[],"passes":["ebe256b7-5104-4592-b278-73db97307f1a","14032663-2bbe-4b56-8111-cd263fa20d28","9545984c-1486-470a-af3c-f3dabf12a0b4"],"failures":[],"pending":[],"skipped":[],"duration":1518,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"a06dd319-64f0-4329-8173-dd84713cec52","title":"by @nickname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @nickname unique partial returns single user","timedOut":null,"duration":486,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@gam');\narea.verifySuggestion(testUsers.hulk);","err":{},"uuid":"33074e85-a234-49b3-8050-a245b753c3a3","parentUUID":"a06dd319-64f0-4329-8173-dd84713cec52","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @nickname partial returns results  all testUsers.that match","timedOut":null,"duration":498,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@pro');\narea.verifySuggestion(testUsers.captainamerica, testUsers.ironman);","err":{},"uuid":"7bc6abe6-21e8-4a2b-b142-1d52dc07fe1e","parentUUID":"a06dd319-64f0-4329-8173-dd84713cec52","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher by @nickname full name returns single user","timedOut":null,"duration":522,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ronin');\narea.verifySuggestion(testUsers.hawkeye);","err":{},"uuid":"d555a565-6402-437d-bdcf-84067bc8ea91","parentUUID":"a06dd319-64f0-4329-8173-dd84713cec52","isHook":false,"skipped":false}],"suites":[],"passes":["33074e85-a234-49b3-8050-a245b753c3a3","7bc6abe6-21e8-4a2b-b142-1d52dc07fe1e","d555a565-6402-437d-bdcf-84067bc8ea91"],"failures":[],"pending":[],"skipped":[],"duration":1506,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"c494a5c5-5653-455e-9d16-701a74b726fa","title":"special characters in usernames are returned","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"dots","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher special characters in usernames are returned dots","timedOut":null,"duration":571,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@dot.dot');\narea.verifySuggestion(testUsers.dot);","err":{},"uuid":"96862726-199c-4a9c-9bea-d234c8a400dd","parentUUID":"c494a5c5-5653-455e-9d16-701a74b726fa","isHook":false,"skipped":false},{"title":"dash","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher special characters in usernames are returned dash","timedOut":null,"duration":581,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@dash-dash');\narea.verifySuggestion(testUsers.dash);","err":{},"uuid":"aeb7b9a2-4d11-43e8-8ce3-ac42e6e9b884","parentUUID":"c494a5c5-5653-455e-9d16-701a74b726fa","isHook":false,"skipped":false},{"title":"underscore","fullTitle":"Autocomplete with elastic search enabled autocomplete search for user in channel switcher special characters in usernames are returned underscore","timedOut":null,"duration":610,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@under_score');\narea.verifySuggestion(testUsers.underscore);","err":{},"uuid":"6d4ac978-b90f-4695-a6fa-7b060c0f7e68","parentUUID":"c494a5c5-5653-455e-9d16-701a74b726fa","isHook":false,"skipped":false}],"suites":[],"passes":["96862726-199c-4a9c-9bea-d234c8a400dd","aeb7b9a2-4d11-43e8-8ce3-ac42e6e9b884","6d4ac978-b90f-4695-a6fa-7b060c0f7e68"],"failures":[],"pending":[],"skipped":[],"duration":1762,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":["1d88c8ea-2773-4358-aec7-f1048ef1f0e4"],"failures":["99c0b630-915a-4342-a8f3-eafd4a9ad97e"],"pending":[],"skipped":[],"duration":63794,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"21e0cc62-5fc8-4f91-a356-b6fc4b60b8bd","title":"with elastic search disabled","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"a77b16b9-ef5b-49b0-8985-42e1aad4d43e","title":"autocomplete","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"users in correct in/out of channel sections","fullTitle":"Autocomplete with elastic search disabled autocomplete users in correct in/out of channel sections","timedOut":null,"duration":23537,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- users in correct inout of channel sections (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- users in correct inout of channel sections (failed).png\"\n}","code":"var thor = testUsers.thor;\nvar loki = testUsers.loki; // # Navigate to town square\ncy.visit(\"/\".concat(team.name, \"/channels/town-square\")); // # Get the current team id, create new channel, and add user to channel\ncy.getCurrentTeamId().then(function (teamId) {\n  var channelName = \"new-channel-\".concat(timestamp);\n  cy.apiCreateChannel(teamId, channelName, channelName).then(function (channelResponse) {\n    var channel = channelResponse.body;\n    cy.apiGetUserByEmail(thor.email).then(function (emailResponse) {\n      var user = emailResponse.body;\n      cy.apiAddUserToChannel(channel.id, user.id);\n    });\n    cy.visit(\"/\".concat(team.name, \"/channels/\").concat(channel.name));\n  });\n}); // # Start an at mention that should return 2 users (in this case, the users share a last name)\ncy.get('#post_textbox').as('input').should('be.visible').clear().type('@odinson'); // * Thor should be a channel member\ncy.findByTestId(thor.username, {\n  exact: false\n}).within(function (name) {\n  cy.wrap(name).prev('.suggestion-list__divider').should('have.text', 'Channel Members');\n  cy.wrap(name).find('.mention--align').should('have.text', \"@\".concat(thor.username));\n  cy.wrap(name).find('.mention__fullname').should('have.text', \" - \".concat(thor.firstName, \" \").concat(thor.lastName, \" (\").concat(thor.nickname, \")\"));\n}); // * Loki should NOT be a channel member\ncy.findByTestId(loki.username, {\n  exact: false\n}).within(function (name) {\n  cy.wrap(name).prev('.suggestion-list__divider').should('have.text', 'Not in Channel');\n  cy.wrap(name).find('.mention--align').should('have.text', \"@\".concat(loki.username));\n  cy.wrap(name).find('.mention__fullname').should('have.text', \" - \".concat(loki.firstName, \" \").concat(loki.lastName, \" (\").concat(loki.nickname, \")\"));\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"f34abe41-5215-40e9-8590-0755830fbfe0","parentUUID":"a77b16b9-ef5b-49b0-8985-42e1aad4d43e","isHook":false,"skipped":false},{"title":"DM can be opened with a user not on your team or in your DM channel sidebar","fullTitle":"Autocomplete with elastic search disabled autocomplete DM can be opened with a user not on your team or in your DM channel sidebar","timedOut":null,"duration":1537,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var thor = testUsers.thor; // # Open of the add direct message modal\ncy.get('#addDirectChannel').click({\n  force: true\n}); // # Type username into input\ncy.get('.more-direct-channels').find('input').should('exist').type(thor.username, {\n  force: true\n}); // * There should only be one result\ncy.get('.more-modal__row').as('result').its('length').should('equal', 1); // * Result should have appropriate text\ncy.get('@result').find('.more-modal__name').should('have.text', \"@\".concat(thor.username, \" - \").concat(thor.firstName, \" \").concat(thor.lastName, \" (\").concat(thor.nickname, \")\"));\ncy.get('@result').find('.more-modal__description').should('have.text', thor.email); // # Click on the result to add user\ncy.get('@result').click({\n  force: true\n}); // # Click on save\ncy.get('#saveItems').click(); // # Should land on direct message channel for that user\ncy.get('#channelHeaderTitle').should('have.text', thor.username + ' ');","err":{},"uuid":"e2f67b9b-3717-40c9-85e1-f988ebfc12df","parentUUID":"a77b16b9-ef5b-49b0-8985-42e1aad4d43e","isHook":false,"skipped":false}],"suites":[{"uuid":"534ca219-1d65-40fa-8333-d9336dae2d1b","title":"search for user in message input box","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"b90f2b66-7ac1-414d-be7e-b779efa898a1","title":"by @username","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @username unique partial returns single user","timedOut":null,"duration":21990,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @username -- unique partial returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @username -- unique partial returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@do');\narea.verifySuggestion(testUsers.doctorstrange);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"0c878567-e7ec-4c47-85d1-bf65a777ba33","parentUUID":"b90f2b66-7ac1-414d-be7e-b779efa898a1","isHook":false,"skipped":false},{"title":"partial returns all testUsers.that match","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @username partial returns all testUsers.that match","timedOut":null,"duration":20783,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @username -- partial returns all testUsers.that match (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @username -- partial returns all testUsers.that match (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@d');\narea.verifySuggestion(testUsers.deadpool, testUsers.doctorstrange);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"e053effd-d671-4c3b-a5a5-2ec6ec9f5a0c","parentUUID":"b90f2b66-7ac1-414d-be7e-b779efa898a1","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @username full name returns single user","timedOut":null,"duration":21647,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @username -- full name returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @username -- full name returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ironman');\narea.verifySuggestion(testUsers.ironman);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"071e2a8b-7a96-4103-85ac-61b61e04a56e","parentUUID":"b90f2b66-7ac1-414d-be7e-b779efa898a1","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["0c878567-e7ec-4c47-85d1-bf65a777ba33","e053effd-d671-4c3b-a5a5-2ec6ec9f5a0c","071e2a8b-7a96-4103-85ac-61b61e04a56e"],"pending":[],"skipped":[],"duration":64420,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"b237dfe7-6a34-4d05-9853-dcff2a852e86","title":"by @firstname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @firstname unique partial returns single user","timedOut":null,"duration":20727,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @firstname -- unique partial returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @firstname -- unique partial returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@wa');\narea.verifySuggestion(testUsers.deadpool);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"a7639013-6e04-48f9-92a0-fb246bd02074","parentUUID":"b237dfe7-6a34-4d05-9853-dcff2a852e86","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @firstname partial returns results  all testUsers.that match","timedOut":null,"duration":20876,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @firstname -- partial returns results  all testUsers.that match (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @firstname -- partial returns results  all testUsers.that match (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ste');\narea.verifySuggestion(testUsers.captainamerica, testUsers.doctorstrange);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"978f5e34-31b9-423e-96d5-658565b6e068","parentUUID":"b237dfe7-6a34-4d05-9853-dcff2a852e86","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @firstname full name returns single user","timedOut":null,"duration":20809,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @firstname -- full name returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @firstname -- full name returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@tony');\narea.verifySuggestion(testUsers.ironman);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"2493ddc0-3545-40f4-9fa6-0467d35f4907","parentUUID":"b237dfe7-6a34-4d05-9853-dcff2a852e86","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["a7639013-6e04-48f9-92a0-fb246bd02074","978f5e34-31b9-423e-96d5-658565b6e068","2493ddc0-3545-40f4-9fa6-0467d35f4907"],"pending":[],"skipped":[],"duration":62412,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"68206c0b-30b4-4c39-9b72-1754671262e7","title":"by @lastname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @lastname unique partial returns single user","timedOut":null,"duration":21063,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @lastname -- unique partial returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @lastname -- unique partial returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ban');\narea.verifySuggestion(testUsers.hulk);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"c1fb42f6-3540-4984-8d4b-e059205e4b94","parentUUID":"68206c0b-30b4-4c39-9b72-1754671262e7","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers that match","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @lastname partial returns results  all testUsers that match","timedOut":null,"duration":21787,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @lastname -- partial returns results  all testUsers that match (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @lastname -- partial returns results  all testUsers that match (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ba');\narea.verifySuggestion(testUsers.hawkeye, testUsers.hulk);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"badd9a2e-9520-4430-8f68-7297f6f774bb","parentUUID":"68206c0b-30b4-4c39-9b72-1754671262e7","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @lastname full name returns single user","timedOut":null,"duration":20869,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @lastname -- full name returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @lastname -- full name returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@stark');\narea.verifySuggestion(testUsers.ironman);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"0236face-d504-489c-a908-ed1c8b463932","parentUUID":"68206c0b-30b4-4c39-9b72-1754671262e7","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["c1fb42f6-3540-4984-8d4b-e059205e4b94","badd9a2e-9520-4430-8f68-7297f6f774bb","0236face-d504-489c-a908-ed1c8b463932"],"pending":[],"skipped":[],"duration":63719,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"176297be-51c4-49da-b308-073a11820475","title":"by @nickname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @nickname unique partial returns single user","timedOut":null,"duration":20874,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @nickname -- unique partial returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @nickname -- unique partial returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@gam');\narea.verifySuggestion(testUsers.hulk);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"12694e1b-406f-4e5e-a44f-3349c90620b0","parentUUID":"176297be-51c4-49da-b308-073a11820475","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @nickname partial returns results  all testUsers.that match","timedOut":null,"duration":20827,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @nickname -- partial returns results  all testUsers.that match (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @nickname -- partial returns results  all testUsers.that match (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@pro');\narea.verifySuggestion(testUsers.captainamerica, testUsers.ironman);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"c58a45fe-83cb-48c3-b33b-3e6402981d1e","parentUUID":"176297be-51c4-49da-b308-073a11820475","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box by @nickname full name returns single user","timedOut":null,"duration":20930,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @nickname -- full name returns single user (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- by @nickname -- full name returns single user (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@ronin');\narea.verifySuggestion(testUsers.hawkeye);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"c65e11d7-6eb1-45ff-b2fa-8e204fe350ef","parentUUID":"176297be-51c4-49da-b308-073a11820475","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["12694e1b-406f-4e5e-a44f-3349c90620b0","c58a45fe-83cb-48c3-b33b-3e6402981d1e","c65e11d7-6eb1-45ff-b2fa-8e204fe350ef"],"pending":[],"skipped":[],"duration":62631,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"1ff01080-0b53-4a22-8de2-6d4d69858879","title":"special characters in usernames are returned","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"dots","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box special characters in usernames are returned dots","timedOut":null,"duration":20935,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- dots (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- dots (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@dot.dot');\narea.verifySuggestion(testUsers.dot);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"f84d2bcb-1b61-45f2-9e5f-d38bb10d121e","parentUUID":"1ff01080-0b53-4a22-8de2-6d4d69858879","isHook":false,"skipped":false},{"title":"dash","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box special characters in usernames are returned dash","timedOut":null,"duration":20988,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- dash (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- dash (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@dash-dash');\narea.verifySuggestion(testUsers.dash);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"981ff6c9-5bd8-4a43-a94e-cc737328ec09","parentUUID":"1ff01080-0b53-4a22-8de2-6d4d69858879","isHook":false,"skipped":false},{"title":"underscore","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in message input box special characters in usernames are returned underscore","timedOut":null,"duration":21447,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- underscore (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/elasticsearch_autocomplete/users_spec.js/Autocomplete -- with elastic search disabled -- autocomplete -- search for user in message input box -- special characters in usernames are returned -- underscore (failed).png\"\n}","code":"area.getInput();\nstartAtMention('@under_score');\narea.verifySuggestion(testUsers.underscore);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>","estack":"CypressError: Timed out retrying: Expected to find element: '.mention__fullname', but never found it. Queried from element: <div.mentions__name.suggestion--selected>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"1fb5daaa-78d9-402b-a148-368bb555fda4","parentUUID":"1ff01080-0b53-4a22-8de2-6d4d69858879","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["f84d2bcb-1b61-45f2-9e5f-d38bb10d121e","981ff6c9-5bd8-4a43-a94e-cc737328ec09","1fb5daaa-78d9-402b-a148-368bb555fda4"],"pending":[],"skipped":[],"duration":63370,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"8a18d29f-1876-4bd5-9b6f-f4f8e1802c92","title":"search for user in channel switcher","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"40d0653b-5247-4ba4-be47-a4c8b1fec153","title":"by @username","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @username unique partial returns single user","timedOut":null,"duration":2384,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@do');\narea.verifySuggestion(testUsers.doctorstrange);","err":{},"uuid":"eda41c3e-bec5-4720-8174-ba17d7eb3719","parentUUID":"40d0653b-5247-4ba4-be47-a4c8b1fec153","isHook":false,"skipped":false},{"title":"partial returns all testUsers.that match","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @username partial returns all testUsers.that match","timedOut":null,"duration":549,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@d');\narea.verifySuggestion(testUsers.deadpool, testUsers.doctorstrange);","err":{},"uuid":"3d0483b2-a6dc-4bd0-b0f8-c0a814c37e50","parentUUID":"40d0653b-5247-4ba4-be47-a4c8b1fec153","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @username full name returns single user","timedOut":null,"duration":642,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ironman');\narea.verifySuggestion(testUsers.ironman);","err":{},"uuid":"134172f5-6c58-417c-ade4-95f5836c1323","parentUUID":"40d0653b-5247-4ba4-be47-a4c8b1fec153","isHook":false,"skipped":false}],"suites":[],"passes":["eda41c3e-bec5-4720-8174-ba17d7eb3719","3d0483b2-a6dc-4bd0-b0f8-c0a814c37e50","134172f5-6c58-417c-ade4-95f5836c1323"],"failures":[],"pending":[],"skipped":[],"duration":3575,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"9d81b74a-2d0f-4153-a55d-4cf240791cce","title":"by @firstname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @firstname unique partial returns single user","timedOut":null,"duration":563,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@wa');\narea.verifySuggestion(testUsers.deadpool);","err":{},"uuid":"7b94c070-428f-4fe3-bb9e-e21b9708e95b","parentUUID":"9d81b74a-2d0f-4153-a55d-4cf240791cce","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @firstname partial returns results  all testUsers.that match","timedOut":null,"duration":594,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ste');\narea.verifySuggestion(testUsers.captainamerica, testUsers.doctorstrange);","err":{},"uuid":"ed07f8bc-a9b9-4e94-83cb-6f1d06391d50","parentUUID":"9d81b74a-2d0f-4153-a55d-4cf240791cce","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @firstname full name returns single user","timedOut":null,"duration":577,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@tony');\narea.verifySuggestion(testUsers.ironman);","err":{},"uuid":"9ea05563-8d36-4fe4-8624-4dc7bfeea44a","parentUUID":"9d81b74a-2d0f-4153-a55d-4cf240791cce","isHook":false,"skipped":false}],"suites":[],"passes":["7b94c070-428f-4fe3-bb9e-e21b9708e95b","ed07f8bc-a9b9-4e94-83cb-6f1d06391d50","9ea05563-8d36-4fe4-8624-4dc7bfeea44a"],"failures":[],"pending":[],"skipped":[],"duration":1734,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"7c08c0ff-3e1b-43aa-9e22-7d858adf638d","title":"by @lastname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @lastname unique partial returns single user","timedOut":null,"duration":562,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ban');\narea.verifySuggestion(testUsers.hulk);","err":{},"uuid":"ab73036f-732b-42aa-8284-0b16d8ecb556","parentUUID":"7c08c0ff-3e1b-43aa-9e22-7d858adf638d","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers.that match","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @lastname partial returns results  all testUsers.that match","timedOut":null,"duration":548,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ba');\narea.verifySuggestion(testUsers.hawkeye, testUsers.hulk);","err":{},"uuid":"b824ecd7-e009-4e1a-b51a-ea650529fa6d","parentUUID":"7c08c0ff-3e1b-43aa-9e22-7d858adf638d","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @lastname full name returns single user","timedOut":null,"duration":596,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@stark');\narea.verifySuggestion(testUsers.ironman);","err":{},"uuid":"c9940b7d-3f72-4e19-965a-8e014428388d","parentUUID":"7c08c0ff-3e1b-43aa-9e22-7d858adf638d","isHook":false,"skipped":false}],"suites":[],"passes":["ab73036f-732b-42aa-8284-0b16d8ecb556","b824ecd7-e009-4e1a-b51a-ea650529fa6d","c9940b7d-3f72-4e19-965a-8e014428388d"],"failures":[],"pending":[],"skipped":[],"duration":1706,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"fb612888-2a04-493e-9653-7f7a5ff5d2ed","title":"by @nickname","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"unique partial returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @nickname unique partial returns single user","timedOut":null,"duration":605,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@gam');\narea.verifySuggestion(testUsers.hulk);","err":{},"uuid":"1ac53fab-3027-4d45-8c99-53dd92b183ee","parentUUID":"fb612888-2a04-493e-9653-7f7a5ff5d2ed","isHook":false,"skipped":false},{"title":"partial returns results  all testUsers that match","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @nickname partial returns results  all testUsers that match","timedOut":null,"duration":558,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@pro');\narea.verifySuggestion(testUsers.captainamerica, testUsers.ironman);","err":{},"uuid":"7d78efb5-c0dd-46c6-8b2a-d16b88d9ae32","parentUUID":"fb612888-2a04-493e-9653-7f7a5ff5d2ed","isHook":false,"skipped":false},{"title":"full name returns single user","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher by @nickname full name returns single user","timedOut":null,"duration":593,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@ronin');\narea.verifySuggestion(testUsers.hawkeye);","err":{},"uuid":"47f94602-5293-4bb1-a20d-a81176dba523","parentUUID":"fb612888-2a04-493e-9653-7f7a5ff5d2ed","isHook":false,"skipped":false}],"suites":[],"passes":["1ac53fab-3027-4d45-8c99-53dd92b183ee","7d78efb5-c0dd-46c6-8b2a-d16b88d9ae32","47f94602-5293-4bb1-a20d-a81176dba523"],"failures":[],"pending":[],"skipped":[],"duration":1756,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"df57973f-4928-4a0c-9053-7b5c35d6ddbd","title":"special characters in usernames are returned","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"dots","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher special characters in usernames are returned dots","timedOut":null,"duration":623,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@dot.dot');\narea.verifySuggestion(testUsers.dot);","err":{},"uuid":"07a5b01b-8cb0-4284-9ab2-808d07e85dce","parentUUID":"df57973f-4928-4a0c-9053-7b5c35d6ddbd","isHook":false,"skipped":false},{"title":"dash","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher special characters in usernames are returned dash","timedOut":null,"duration":641,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@dash-dash');\narea.verifySuggestion(testUsers.dash);","err":{},"uuid":"c184b74b-7e3c-45e3-821e-9cca961a38d6","parentUUID":"df57973f-4928-4a0c-9053-7b5c35d6ddbd","isHook":false,"skipped":false},{"title":"underscore","fullTitle":"Autocomplete with elastic search disabled autocomplete search for user in channel switcher special characters in usernames are returned underscore","timedOut":null,"duration":681,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"area.getInput();\nstartAtMention('@under_score');\narea.verifySuggestion(testUsers.underscore);","err":{},"uuid":"96e23537-be7d-4256-b4bd-9a5545331640","parentUUID":"df57973f-4928-4a0c-9053-7b5c35d6ddbd","isHook":false,"skipped":false}],"suites":[],"passes":["07a5b01b-8cb0-4284-9ab2-808d07e85dce","c184b74b-7e3c-45e3-821e-9cca961a38d6","96e23537-be7d-4256-b4bd-9a5545331640"],"failures":[],"pending":[],"skipped":[],"duration":1945,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":["e2f67b9b-3717-40c9-85e1-f988ebfc12df"],"failures":["f34abe41-5215-40e9-8590-0755830fbfe0"],"pending":[],"skipped":[],"duration":25074,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"1e6d6f66-3bcf-4c13-a038-8a81cfdb7f95","title":"","fullFile":"cypress/integration/enterprise/guest_accounts/guest_experience_ui_spec.js","file":"cypress/integration/enterprise/guest_accounts/guest_experience_ui_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"52489fa8-53a6-4b0c-bc79-eb17f96e7cbc","title":"Guest Account - Guest User Experience","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-18043 Verify Guest User Restrictions","fullTitle":"Guest Account - Guest User Experience MM-18043 Verify Guest User Restrictions","timedOut":null,"duration":16734,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// *Verify Reduced Options in Main Menu\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\nvar missingMainOptions = ['#invitePeople', '#teamSettings', '#manageMembers', '#createTeam', '#joinTeam', '#integrations', '#systemConsole'];\nvar includeMainOptions = ['#accountSettings', '#viewMembers', '#leaveTeam'];\nmissingMainOptions.forEach(function (missingOption) {\n  cy.get(missingOption).should('not.exist');\n});\nincludeMainOptions.forEach(function (includeOption) {\n  cy.get(includeOption).should('be.visible');\n}); // *Verify Reduced Options in LHS\nvar missingLHSOptions = ['#createPublicChannel', \"li[data-testid='morePublicButton']\", '#createPrivateChannel'];\nmissingLHSOptions.forEach(function (missingOption) {\n  cy.get(missingOption).should('not.exist');\n}); // * Verify Guest Badge in Channel Header\ncy.get('#sidebarItem_town-square').click({\n  force: true\n});\ncy.get('#channelHeaderDescription').within(function ($el) {\n  cy.wrap($el).find('.has-guest-header').should('be.visible').and('have.text', 'This channel has guests');\n}); // * Verify list of Users and Guest Badge in Channel Members List\ncy.get('#member_popover').click();\ncy.get('#member-list-popover').should('be.visible').within(function ($el) {\n  cy.wrap($el).findAllByTestId('popoverListMembersItem').should('have.length', 2).each(function ($elChild) {\n    cy.wrap($elChild).invoke('attr', 'aria-label').then(function (username) {\n      if (username === guest.username) {\n        cy.wrap($elChild).find('.Badge').should('be.visible').and('have.text', 'GUEST');\n      }\n    });\n  });\n}); // #Close the Channel Members Popover\ncy.get('#member_popover').click(); // * Verify list of Users in Direct Messages Dialog\ncy.get('#addDirectChannel').click().wait(TIMEOUTS.SMALL);\ncy.get('#multiSelectList').should('be.visible').within(function ($el) {\n  // * Verify only 2 users - Current User and Sysadmin is listed\n  cy.wrap($el).children().should('have.length', 2);\n});\ncy.get('.modal-header .close').click(); // * Verify Guest Badge when guest user posts a message\ncy.get('#sidebarItem_town-square').click({\n  force: true\n});\ncy.postMessage('testing');\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).within(function ($el) {\n    cy.wrap($el).find('.post__header .Badge').should('be.visible');\n    cy.wrap($el).find('.post__header .user-popover').should('be.visible').click().wait(TIMEOUTS.TINY);\n  });\n}); // * Verify Guest Badge in Guest User's Profile Popover\ncy.get('#user-profile-popover').should('be.visible').within(function ($el) {\n  cy.wrap($el).find('.user-popover__role').should('be.visible').and('have.text', 'GUEST');\n}); // # Close the profile popover\ncy.get('#channel-header').click(); // * Verify Guest User can see only 2 channels in LHS\ncy.get('#publicChannelList').find('a').should('have.length', 2); // * Verify list of Users a Guest User can see in Team Members dialog\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\ncy.get('#viewMembers').click().wait(TIMEOUTS.SMALL);\ncy.get('#searchableUserListTotal').should('be.visible').and('have.text', '1 - 2 members of 2 total');","err":{},"uuid":"0e3b3bca-de8c-4277-bfa1-694b9b2ebe31","parentUUID":"52489fa8-53a6-4b0c-bc79-eb17f96e7cbc","isHook":false,"skipped":false},{"title":"MM-18049 Verify Guest User Restrictions is removed when promoted","fullTitle":"Guest Account - Guest User Experience MM-18049 Verify Guest User Restrictions is removed when promoted","timedOut":null,"duration":5007,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Reload the page to close any popups\ncy.reload(); // # Promote a Guest user to a member and reload\ncy.promoteUser(guest.id); // *Verify Options in Main Menu are changed\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\nvar includeMainOptions = ['#accountSettings', '#viewMembers', '#leaveTeam', '#invitePeople', '#createTeam'];\nincludeMainOptions.forEach(function (includeOption) {\n  cy.get(includeOption).should('be.visible');\n}); // # Close the main menu\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click(); // *Verify Options in LHS are changed\nvar missingLHSOptions = ['#createPublicChannel', \"li[data-testid='morePublicButton']\", '#createPrivateChannel'];\nmissingLHSOptions.forEach(function (missingOption) {\n  cy.get(missingOption).should('be.visible');\n}); // * Verify Guest Badge in Channel Header is removed\ncy.get('#sidebarItem_town-square').click({\n  force: true\n});\ncy.get('#channelHeaderDescription').within(function ($el) {\n  cy.wrap($el).find('.has-guest-header').should('not.exist');\n}); // * Verify Guest Badge is removed in Channel Members List\ncy.get('#member_popover').click();\ncy.get('#member-list-popover').should('be.visible').within(function ($el) {\n  cy.wrap($el).findAllByTestId('popoverListMembersItem').should('have.length', 2).each(function ($elChild) {\n    cy.wrap($elChild).invoke('attr', 'aria-label').then(function (username) {\n      if (username === guest.username) {\n        cy.wrap($elChild).find('.Badge').should('not.exist');\n      }\n    });\n  });\n}); // #Close the Channel Members Popover\ncy.get('#member_popover').click(); // * Verify Guest Badge is removed when user posts a message\ncy.get('#sidebarItem_town-square').click({\n  force: true\n});\ncy.postMessage('testing');\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).within(function ($el) {\n    cy.wrap($el).find('.post__header .Badge').should('not.exist');\n    cy.wrap($el).find('.post__header .user-popover').should('be.visible').click().wait(TIMEOUTS.TINY);\n  });\n}); // * Verify Guest Badge is not displayed in User's Profile Popover\ncy.get('#user-profile-popover').should('be.visible').within(function ($el) {\n  cy.wrap($el).find('.user-popover__role').should('not.exist');\n}); // # Close the profile popover\ncy.get('#channel-header').click();","err":{},"uuid":"216a69bd-b602-4d75-a1ff-7caacee27605","parentUUID":"52489fa8-53a6-4b0c-bc79-eb17f96e7cbc","isHook":false,"skipped":false}],"suites":[],"passes":["0e3b3bca-de8c-4277-bfa1-694b9b2ebe31","216a69bd-b602-4d75-a1ff-7caacee27605"],"failures":[],"pending":[],"skipped":[],"duration":21741,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"9f4632be-978a-4a82-a0bc-020f05e77f07","title":"","fullFile":"cypress/integration/enterprise/guest_accounts/guest_identification_ui_spec.js","file":"cypress/integration/enterprise/guest_accounts/guest_identification_ui_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"13963297-26da-408a-91b0-c288425bb4fb","title":"MM-18045 Verify Guest User Identification in different screens","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Verify Guest Badge in Channel Members dropdown and dialog","fullTitle":"MM-18045 Verify Guest User Identification in different screens Verify Guest Badge in Channel Members dropdown and dialog","timedOut":null,"duration":4281,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Open Channel Members List\ncy.get('#member_popover').click();\ncy.get('#member-list-popover').should('be.visible').within(function ($el) {\n  cy.wrap($el).findAllByTestId('popoverListMembersItem').each(function ($elChild) {\n    cy.wrap($elChild).invoke('attr', 'aria-label').then(function (username) {\n      if (username === guest.username) {\n        // * Verify Guest Badge in Channel Members List\n        cy.wrap($elChild).find('.Badge').should('be.visible').and('have.text', 'GUEST');\n      }\n    });\n  });\n}); // # Open Channel Members Dialog\ncy.get('#channelHeaderDropdownIcon').click();\ncy.get('#channelViewMembers').click().wait(TIMEOUTS.TINY);\ncy.get('#channelMembersModal').should('be.visible').within(function ($el) {\n  cy.wrap($el).findAllByTestId('userListItemDetails').each(function ($elChild) {\n    cy.wrap($elChild).invoke('text').then(function (username) {\n      // * Verify Guest Badge in Channel Members List\n      if (username === guest.username) {\n        cy.wrap($elChild).find('.Badge').should('be.visible').and('have.text', 'GUEST');\n      }\n    });\n  }); // #Close Channel Members Dialog\n  cy.wrap($el).find('.close').click();\n});","err":{},"uuid":"5e8a8b58-0aa3-4ff6-b954-825e6e003e58","parentUUID":"13963297-26da-408a-91b0-c288425bb4fb","isHook":false,"skipped":false},{"title":"Verify Guest Badge in Team Members dialog","fullTitle":"MM-18045 Verify Guest User Identification in different screens Verify Guest Badge in Team Members dialog","timedOut":null,"duration":5702,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\ncy.get('#viewMembers').click().wait(TIMEOUTS.SMALL);\ncy.get('#teamMembersModal').should('be.visible').within(function ($el) {\n  cy.wrap($el).findAllByTestId('userListItemDetails').each(function ($elChild) {\n    cy.wrap($elChild).invoke('text').then(function (username) {\n      // * Verify Guest Badge in Channel Members List\n      if (username === guest.username) {\n        cy.wrap($elChild).find('.Badge').should('be.visible').and('have.text', 'GUEST');\n      }\n    });\n  }); // #Close Channel Members Dialog\n  cy.wrap($el).find('.close').click();\n});","err":{},"uuid":"7d6237fd-7cf3-4aaa-8bde-2db99a327d37","parentUUID":"13963297-26da-408a-91b0-c288425bb4fb","isHook":false,"skipped":false},{"title":"Verify Guest Badge in Posts in Center Channel, RHS and User Profile Popovers","fullTitle":"MM-18045 Verify Guest User Identification in different screens Verify Guest Badge in Posts in Center Channel, RHS and User Profile Popovers","timedOut":null,"duration":1830,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Submit a post as a Guest User\ncy.getCurrentChannelId().then(function (channelId) {\n  // # Get yesterdays date in UTC\n  var yesterdaysDate = Cypress.moment().subtract(1, 'days').valueOf(); // # Post a day old message\n  cy.postMessageAs({\n    sender: guest,\n    message: 'Hello from yesterday',\n    channelId: channelId,\n    createAt: yesterdaysDate\n  }).its('id').should('exist').as('yesterdaysPost'); // * Verify Guest Badge when guest user posts a message in Center Channel\n  cy.get('@yesterdaysPost').then(function (postId) {\n    cy.get(\"#post_\".concat(postId)).within(function ($el) {\n      cy.wrap($el).find('.post__header .Badge').should('be.visible');\n      cy.wrap($el).find('.post__header .user-popover').should('be.visible').click().wait(TIMEOUTS.TINY);\n    });\n  }); // * Verify Guest Badge in Guest User's Profile Popover\n  cy.get('#user-profile-popover').should('be.visible').within(function ($el) {\n    cy.wrap($el).find('.user-popover__role').should('be.visible').and('have.text', 'GUEST');\n  }); // # Close the profile popover\n  cy.get('#channel-header').click(); // # Open RHS comment menu\n  cy.get('@yesterdaysPost').then(function (postId) {\n    cy.clickPostCommentIcon(postId); // * Verify Guest Badge in RHS\n    cy.get(\"#rhsPost_\".concat(postId)).within(function ($el) {\n      cy.wrap($el).find('.post__header .Badge').should('be.visible');\n    }); // # Close RHS\n    cy.closeRHS();\n  });\n});","err":{},"uuid":"e3955b1f-025d-4cc9-8619-7b142948ae20","parentUUID":"13963297-26da-408a-91b0-c288425bb4fb","isHook":false,"skipped":false},{"title":"Verify Guest Badge in Switch Channel Dialog","fullTitle":"MM-18045 Verify Guest User Identification in different screens Verify Guest Badge in Switch Channel Dialog","timedOut":null,"duration":1166,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click the sidebar switcher button\ncy.get('#sidebarSwitcherButton').click(); // # Type the guest user name on Channel switcher input\ncy.get('#quickSwitchInput').type(guest.username).wait(TIMEOUTS.TINY); // * Verify if Guest badge is displayed for the guest user in the Switch Channel Dialog\ncy.get('#suggestionList').should('be.visible');\ncy.findByTestId(guest.username).within(function ($el) {\n  cy.wrap($el).find('.Badge').should('be.visible').and('have.text', 'GUEST');\n}); // # Close Dialog\ncy.get('#quickSwitchModalLabel > .close').click();","err":{},"uuid":"6e8242ed-9a98-4c31-92bf-565a160fccb7","parentUUID":"13963297-26da-408a-91b0-c288425bb4fb","isHook":false,"skipped":false},{"title":"Verify Guest Badge in DM Search dialog","fullTitle":"MM-18045 Verify Guest User Identification in different screens Verify Guest Badge in DM Search dialog","timedOut":null,"duration":1890,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #Click on plus icon of Direct Messages\ncy.get('#addDirectChannel').click().wait(TIMEOUTS.TINY); // # Search for the Guest User\ncy.focused().type(guest.username, {\n  force: true\n}).wait(TIMEOUTS.TINY);\ncy.get('#multiSelectList').should('be.visible').within(function ($el) {\n  // * Verify if Guest badge is displayed in the DM Search\n  cy.wrap($el).find('.Badge').should('be.visible').and('have.text', 'GUEST');\n}); // # Close the Direct Messages dialog\ncy.get('#moreDmModal .close').click();","err":{},"uuid":"0e46b344-af5b-4481-ac54-9f1c776c1135","parentUUID":"13963297-26da-408a-91b0-c288425bb4fb","isHook":false,"skipped":false},{"title":"Verify Guest Badge in DM header and GM header","fullTitle":"MM-18045 Verify Guest User Identification in different screens Verify Guest Badge in DM header and GM header","timedOut":null,"duration":26133,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/guest_accounts/guest_identification_ui_spec.js/MM-18045 Verify Guest User Identification in different screens -- Verify Guest Badge in DM header and GM header (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/guest_accounts/guest_identification_ui_spec.js/MM-18045 Verify Guest User Identification in different screens -- Verify Guest Badge in DM header and GM header (failed).png\"\n}","code":"// # Open a DM with Guest User\ncy.get('#addDirectChannel').click().wait(TIMEOUTS.TINY);\ncy.focused().type(guest.username, {\n  force: true\n}).type('{enter}', {\n  force: true\n}).wait(TIMEOUTS.TINY);\ncy.get('#saveItems').click().wait(TIMEOUTS.TINY); // * Verify Guest Badge in DM header\ncy.get('#channelHeaderTitle').should('be.visible').find('.Badge').should('be.visible').and('have.text', 'GUEST');\ncy.get('#channelHeaderDescription').within(function ($el) {\n  cy.wrap($el).find('.has-guest-header').should('be.visible').and('have.text', 'This channel has guests');\n}); // # Open a GM with Guest User and Sysadmin\ncy.get('#addDirectChannel').click().wait(TIMEOUTS.TINY);\ncy.focused().type(guest.username, {\n  force: true\n}).type('{enter}', {\n  force: true\n}).wait(TIMEOUTS.TINY);\ncy.focused().type('sysadmin', {\n  force: true\n}).type('{enter}', {\n  force: true\n}).wait(TIMEOUTS.TINY);\ncy.get('#saveItems').click().wait(TIMEOUTS.TINY); // * Verify Guest Badge in GM header\ncy.get('#channelHeaderTitle').should('be.visible').find('.Badge').should('be.visible').and('have.text', 'GUEST');\ncy.get('#channelHeaderDescription').within(function ($el) {\n  cy.wrap($el).find('.has-guest-header').should('be.visible').and('have.text', 'This group message has guests');\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.Badge', but never found it. Queried from element: <strong#channelHeaderTitle.heading>","estack":"CypressError: Timed out retrying: Expected to find element: '.Badge', but never found it. Queried from element: <strong#channelHeaderTitle.heading>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"98fb862f-9bb5-4ace-a36f-52d78f343ffd","parentUUID":"13963297-26da-408a-91b0-c288425bb4fb","isHook":false,"skipped":false},{"title":"Verify Guest Badge in @mentions Autocomplete","fullTitle":"MM-18045 Verify Guest User Identification in different screens Verify Guest Badge in @mentions Autocomplete","timedOut":null,"duration":340,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start a draft in Channel containing \"@user\"\ncy.get('#post_textbox').type('@user'); // * Verify Guest Badge is displayed at mention auto-complete\ncy.get('#suggestionList').should('be.visible');\ncy.findByTestId(\"mentionSuggestion_\".concat(guest.username)).within(function ($el) {\n  cy.wrap($el).find('.Badge').should('be.visible').and('have.text', 'GUEST');\n});","err":{},"uuid":"5e1ca180-25d1-43b0-bde7-fa990675dd70","parentUUID":"13963297-26da-408a-91b0-c288425bb4fb","isHook":false,"skipped":false},{"title":"Verify Guest Badge not displayed in Search Autocomplete","fullTitle":"MM-18045 Verify Guest User Identification in different screens Verify Guest Badge not displayed in Search Autocomplete","timedOut":null,"duration":606,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Search for the Guest User\ncy.get('#searchBox').type('from:user'); // * Verify Guest Badge is not displayed at Search auto-complete\ncy.get('#search-autocomplete__popover').should('be.visible');\ncy.contains('.search-autocomplete__item', guest.username).scrollIntoView().should('be.visible').within(function ($el) {\n  cy.wrap($el).find('.Badge').should('not.exist');\n}); // # Close and Clear the Search Autocomplete\ncy.get('#searchFormContainer').find('.input-clear-x').click({\n  force: true\n});","err":{},"uuid":"12876ce3-6e3a-4ac1-87be-ecf467ac3763","parentUUID":"13963297-26da-408a-91b0-c288425bb4fb","isHook":false,"skipped":false}],"suites":[],"passes":["5e8a8b58-0aa3-4ff6-b954-825e6e003e58","7d6237fd-7cf3-4aaa-8bde-2db99a327d37","e3955b1f-025d-4cc9-8619-7b142948ae20","6e8242ed-9a98-4c31-92bf-565a160fccb7","0e46b344-af5b-4481-ac54-9f1c776c1135","5e1ca180-25d1-43b0-bde7-fa990675dd70","12876ce3-6e3a-4ac1-87be-ecf467ac3763"],"failures":["98fb862f-9bb5-4ace-a36f-52d78f343ffd"],"pending":[],"skipped":[],"duration":41948,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"a84a3074-eade-433d-9026-1a85e951fa0c","title":"","fullFile":"cypress/integration/enterprise/guest_accounts/guest_invitation_ui_spec.js","file":"cypress/integration/enterprise/guest_accounts/guest_invitation_ui_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"e84d1653-7ec7-4b79-b4fe-4217e0349f49","title":"Guest Account - Guest User Invitation Flow","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-18041 Verify UI Elements of Guest User Invitation Flow","fullTitle":"Guest Account - Guest User Invitation Flow MM-18041 Verify UI Elements of Guest User Invitation Flow","timedOut":null,"duration":7529,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open Invite People\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\ncy.get('#invitePeople').should('be.visible').click(); // * Verify Invite Guest link\ncy.findByTestId('inviteGuestLink').should('be.visible').within(function () {\n  cy.get('h2 > span').should('have.text', 'Invite Guests');\n  cy.get('div > span').should('have.text', 'Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of.');\n  cy.get('.arrow').click();\n}); // * Verify the header has changed in the modal\ncy.findByTestId('invitationModal').within(function () {\n  cy.get('h1').should('have.text', \"Invite Guests to \".concat(testTeam.display_name));\n}); // * Verify Invite Guests button is disabled by default\ncy.get('#inviteGuestButton').scrollIntoView().should('be.visible').and('be.disabled'); // * Verify Invite People field\nvar email = \"temp-\".concat((0, _utils.getRandomInt)(9999), \"@mattermost.com\");\ncy.findByTestId('addPeople').should('be.visible').within(function () {\n  cy.get('h2 > span').should('have.text', 'Invite People');\n  cy.get('.help-text > span').should('have.text', 'Add existing guests or send email invites to new guests.');\n});\ncy.findByTestId('emailPlaceholder').should('be.visible').within(function () {\n  // * Verify the input placeholder text\n  cy.get('.users-emails-input__placeholder').should('have.text', 'Add guests or email addresses'); // # Type the email of the new user\n  cy.get('input').type(email, {\n    force: true\n  });\n  cy.get('.users-emails-input__menu').children().should('have.length', 1).eq(0).should('contain', \"Invite \".concat(email, \" as a guest\")).click();\n}); // * Verify Search and Add Channels\ncy.findByTestId('channelPlaceholder').should('be.visible').within(function () {\n  cy.get('h2 > span').should('have.text', 'Search and Add Channels');\n  cy.get('.help-text > span').should('have.text', 'Specify the channels the guests have access to.');\n});\ncy.findByTestId('channelPlaceholder').should('be.visible').within(function () {\n  // * Verify the input placeholder text\n  cy.get('.channels-input__placeholder').should('have.text', 'Search and add channels'); // # Type the channel name\n  cy.get('input').type('town sq', {\n    force: true\n  });\n  cy.get('.channels-input__menu').children().should('have.length', 1).eq(0).should('contain', 'Town Square').click();\n}); // * Verify Set Custom Message before clicking on the link\ncy.findByTestId('customMessage').should('be.visible').within(function () {\n  cy.get('#customMessageHeader').should('not.exist');\n  cy.get('textarea').should('not.exist');\n  cy.get('.help-text').should('have.text', 'Create a custom message to make your invite more personal.'); // #Verify link text and click on it\n  cy.get('a').should('have.text', 'Set a custom message').click();\n}); // * Verify Set Custom Message after clicking on the link\ncy.findByTestId('customMessage').should('be.visible').within(function () {\n  cy.get('a').should('not.exist');\n  cy.get('div > span').first().should('be.visible').and('have.text', 'Custom message');\n  cy.get('textarea').should('be.visible');\n  cy.get('.help-text').should('have.text', 'Create a custom message to make your invite more personal.');\n}); // * Verify the confirmation message when users clicks on the Close button\ncy.get('#closeIcon').should('be.visible').click();\ncy.get('#confirmModalLabel').should('be.visible').and('have.text', 'Discard Changes');\ncy.get('.modal-body').should('be.visible').and('have.text', 'You have unsent invitations, are you sure you want to discard them?'); // * Verify the behavior when Cancel button in the confirmation message is clicked\ncy.get('#cancelModalButton').click();\ncy.get('#confirmModal').should('not.exist'); // * Verify the confirmation message when users clicks on the Previous button\ncy.get('#backIcon').should('be.visible').click();\ncy.get('#confirmModalLabel').should('be.visible').and('have.text', 'Discard Changes');\ncy.get('.modal-body').should('be.visible').and('have.text', 'You have unsent invitations, are you sure you want to discard them?'); // * Verify the behavior when Yes, Discard button in the confirmation message is clicked\ncy.get('#confirmModalButton').should('be.visible').and('have.text', 'Yes, Discard').click().wait(TIMEOUTS.TINY); // * Verify it goes back to previous step since back button was pressed\ncy.findByTestId('inviteGuestLink').should('be.visible');","err":{},"uuid":"bbcba4e7-d7c1-4b45-b498-cfa1018df69d","parentUUID":"e84d1653-7ec7-4b79-b4fe-4217e0349f49","isHook":false,"skipped":false},{"title":"MM-18042 Verify Add New/Existing Guest Users","fullTitle":"Guest Account - Guest User Invitation Flow MM-18042 Verify Add New/Existing Guest Users","timedOut":null,"duration":32253,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/guest_accounts/guest_invitation_ui_spec.js/Guest Account - Guest User Invitation Flow -- MM-18042 Verify Add NewExisting Guest Users (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/guest_accounts/guest_invitation_ui_spec.js/Guest Account - Guest User Invitation Flow -- MM-18042 Verify Add NewExisting Guest Users (failed).png\"\n}","code":"// # Search and add an existing member by username who is part of the team\ninvitePeople(newUser.username, 1, newUser.username); // * Verify the content and message in next screen\nverifyInvitationError(newUser.username, 'This person is already a member.'); // # Search and add an existing member by email who is not part of the team\ninvitePeople(user1.email, 1, user1.username); // * Verify the content and message in next screen\nverifyInvitationError(user1.username, 'This person is already a member.'); // # Demote the user from member to guest\ncy.demoteUser(newUser.id); // # Search and add an existing guest by first name, who is part of the team but not channel\ninvitePeople(newUser.firstName, 1, newUser.username, 'Off-Topic'); // * Verify the content and message in next screen\nverifyInvitationSuccess(newUser.username, 'This guest has been added to the team and channel.'); // # Search and add an existing guest by last name, who is part of the team and channel\ninvitePeople(newUser.lastName, 1, newUser.username); // * Verify the content and message in next screen\nverifyInvitationError(newUser.username, 'This person is already a member of all the channels.', true); // # Search and add an existing guest by email, who is not part of the team\ncy.apiCreateNewUser().then(function (user) {\n  // # Demote the user from member to guest\n  cy.demoteUser(user.id);\n  invitePeople(user.email, 1, user.username);\n  verifyInvitationSuccess(user.username, 'This guest has been added to the team and channel.', true);\n}); // # Search and add a new guest by email, who is not part of the team\nvar email = \"temp-\".concat((0, _utils.getRandomInt)(9999), \"@mattermost.com\");\ninvitePeople(email, 1, email); // * Verify the content and message in next screen\nverifyInvitationSuccess(email, 'An invitation email has been sent.');","err":{"message":"CypressError: Timed out retrying: expected '<span>' to have text '1 person has been invited', but the text was '1 invitation was not sent'","estack":"CypressError: Timed out retrying: expected '<span>' to have text '1 person has been invited', but the text was '1 invitation was not sent'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"3a0e6aac-fac6-4d96-858d-7da9cbb3ac80","parentUUID":"e84d1653-7ec7-4b79-b4fe-4217e0349f49","isHook":false,"skipped":false},{"title":"MM-18050 Verify when different feature settings are disabled","fullTitle":"Guest Account - Guest User Invitation Flow MM-18050 Verify when different feature settings are disabled","timedOut":null,"duration":5406,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Disable Guest Accounts\n// # Enable Email Invitations\nchangeGuestFeatureSettings(false, true); // # reload current page\ncy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\")); // # Open Invite People\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\ncy.get('#invitePeople').should('be.visible').click(); // * Verify if Invite Members modal is displayed when guest account feature is disabled\ncy.findByTestId('invitationModal').find('h1').should('have.text', \"Invite Members to \".concat(testTeam.display_name)); // * Verify Share Link Header and helper text\ncy.findByTestId('shareLink').should('be.visible').within(function () {\n  cy.get('h2 > span').should('have.text', 'Share This Link');\n  cy.get('.help-text > span').should('have.text', 'Share this link to invite people to this team.');\n}); // # Close the Modal\ncy.get('#closeIcon').should('be.visible').click(); // # Enable Guest Accounts\n// # Disable Email Invitations\nchangeGuestFeatureSettings(true, false); // # Reload the current page\ncy.reload();\nvar email = \"temp-\".concat((0, _utils.getRandomInt)(9999), \"@mattermost.com\");\ninvitePeople(email, 1, email, 'Town Square', false); // * Verify Invite Guests button is disabled\ncy.get('#inviteGuestButton').should('be.disabled');","err":{},"uuid":"7ce16cbd-c797-4054-9946-977fda1b8bf9","parentUUID":"e84d1653-7ec7-4b79-b4fe-4217e0349f49","isHook":false,"skipped":false},{"title":"MM-18047 Verify Guest User whitelisted domains","fullTitle":"Guest Account - Guest User Invitation Flow MM-18047 Verify Guest User whitelisted domains","timedOut":null,"duration":7417,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Configure a whitelisted domain\nchangeGuestFeatureSettings(true, true, 'example.com'); // # Visit to newly created team\ncy.reload();\ncy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\")); // # Invite a Guest by email\nvar email = \"temp-\".concat((0, _utils.getRandomInt)(9999), \"@mattermost.com\");\ninvitePeople(email, 1, email); // * Verify the content and message in next screen\nvar expectedError = \"The following email addresses do not belong to an accepted domain: \".concat(email, \". Please contact your System Administrator for details.\");\nverifyInvitationError(email, expectedError); // # From System Console try to update email of guest user\ncy.apiCreateNewUser().then(function (user) {\n  // # Demote the user from member to guest\n  cy.demoteUser(user.id); // # Navigate to System Console Users listing page\n  cy.visit('/admin_console/user_management/users'); // # Search for User by username and select the option to update email\n  cy.get('#searchUsers').should('be.visible').type(user.username); // # Click on the option to update email\n  cy.wait(TIMEOUTS.TINY);\n  cy.findByTestId('userListRow').find('.MenuWrapper a').should('be.visible').click();\n  cy.findByText('Update Email').should('be.visible').click(); // * Update email outside whitelisted domain and verify error message\n  cy.findByTestId('resetEmailModal').should('be.visible').within(function () {\n    cy.findByTestId('resetEmailForm').should('be.visible').get('input').type(email);\n    cy.findByTestId('resetEmailButton').click();\n    cy.get('.error').should('be.visible').and('have.text', 'The email you provided does not belong to an accepted domain for guest accounts. Please contact your administrator or sign up with a different email.');\n    cy.get('.close').click();\n  });\n});","err":{},"uuid":"fef2be5a-8ce8-4951-8947-e18b3080a7a7","parentUUID":"e84d1653-7ec7-4b79-b4fe-4217e0349f49","isHook":false,"skipped":false},{"title":"MM-22037 Invite Guest via Email containing upper case letters","fullTitle":"Guest Account - Guest User Invitation Flow MM-22037 Invite Guest via Email containing upper case letters","timedOut":null,"duration":4292,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Reset Guest Feature settings\nchangeGuestFeatureSettings(); // # Visit Team page\ncy.visit(\"/\".concat(testTeam.name, \"/channels/town-square\")); // # Invite a email containing uppercase letters\nvar email = \"tEMp-\".concat((0, _utils.getRandomInt)(9999), \"@mattermost.com\");\ninvitePeople(email, 1, email); // * Verify the content and message in next screen\nverifyInvitationSuccess(email.toLowerCase(), 'An invitation email has been sent.');","err":{},"uuid":"3ec28e52-0f15-4179-8559-207d597c42dd","parentUUID":"e84d1653-7ec7-4b79-b4fe-4217e0349f49","isHook":false,"skipped":false}],"suites":[],"passes":["bbcba4e7-d7c1-4b45-b498-cfa1018df69d","7ce16cbd-c797-4054-9946-977fda1b8bf9","fef2be5a-8ce8-4951-8947-e18b3080a7a7","3ec28e52-0f15-4179-8559-207d597c42dd"],"failures":["3a0e6aac-fac6-4d96-858d-7da9cbb3ac80"],"pending":[],"skipped":[],"duration":56897,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"fe479625-d30f-4289-b4af-ec9a9f55fd9e","title":"","fullFile":"cypress/integration/enterprise/guest_accounts/guest_removal_ui_spec.js","file":"cypress/integration/enterprise/guest_accounts/guest_removal_ui_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"66642207-23dc-49c2-8987-33ea320f8916","title":"Guest Account - Guest User Removal Experience","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-18044 Verify behavior when Guest User is removed from channel","fullTitle":"Guest Account - Guest User Removal Experience MM-18044 Verify behavior when Guest User is removed from channel","timedOut":null,"duration":10005,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Demote the current member to a guest user\ncy.demoteUser(guest.id); // * Verify team Sidebar is visible\ncy.get('#teamSidebarWrapper').should('be.visible'); // # Remove User from all the channels of the team as a sysadmin\nremoveUserFromAllChannels(true); // * Verify if user is automatically redirected to the other team\ncy.url().should('include', team1.name); // * Verify team Sidebar is not present\ncy.get('#teamSidebarWrapper').should('not.exist'); // # Remove User from all the channels of the team as a sysadmin\nremoveUserFromAllChannels(false); // * Verify if the user is redirected to the Select Team page\ncy.url().should('include', '/select_team');\ncy.get('.signup__content').should('be.visible').and('have.text', 'Your guest account has no channels assigned. Please contact an administrator.'); // Login as sysadmin and verify test team 2\ncy.apiLogin('sysadmin');\ncy.reload().visit(\"/\".concat(team2.name, \"/channels/town-square\")); // * Verify if status is displayed indicating guest user is removed from the channel\ncy.getLastPost().should('contain', 'System').and('contain', \"You and @\".concat(guest.username, \" joined the team.\")).and('contain', \"@\".concat(guest.username, \" was removed from the channel.\"));","err":{},"uuid":"a5b5167e-bc78-4546-9b05-e7c6f18ee8b4","parentUUID":"66642207-23dc-49c2-8987-33ea320f8916","isHook":false,"skipped":false}],"suites":[],"passes":["a5b5167e-bc78-4546-9b05-e7c6f18ee8b4"],"failures":[],"pending":[],"skipped":[],"duration":10005,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"d8ded308-1019-48cb-bcca-d3fcbbbb170a","title":"","fullFile":"cypress/integration/enterprise/guest_accounts/member_invitation_ui_spec.js","file":"cypress/integration/enterprise/guest_accounts/member_invitation_ui_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"57e4d428-d28f-447b-ad64-4ab976ea5a56","title":"Guest Account - Member Invitation Flow","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-18039 Verify UI Elements of Members Invitation Flow","fullTitle":"Guest Account - Member Invitation Flow MM-18039 Verify UI Elements of Members Invitation Flow","timedOut":null,"duration":8362,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var email = \"temp-\".concat((0, _utils.getRandomInt)(9999).toString(), \"@mattermost.com\"); // # Open Invite People\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\ncy.get('#invitePeople').should('be.visible').click(); // * Verify UI Elements in initial step\ncy.findByTestId('invitationModal').within(function ($el) {\n  cy.wrap($el).find('h1').should('have.text', \"Invite people to \".concat(testTeam.display_name));\n});\ncy.findByTestId('inviteMembersLink').should('be.visible').within(function ($el) {\n  cy.wrap($el).findByTestId('inviteMembersSection').find('h2 > span').should('have.text', 'Invite Members');\n  cy.wrap($el).findByTestId('inviteMembersSection').find('span').last().should('have.text', 'Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels.');\n  cy.wrap($el).find('.arrow').click();\n}); // * Verify the header has changed in the modal\ncy.findByTestId('invitationModal').within(function ($el) {\n  cy.wrap($el).find('h1').should('have.text', 'Invite Members to Test Team');\n}); // * Verify Share Link Header and helper text\ncy.findByTestId('shareLink').should('be.visible').within(function ($el) {\n  cy.wrap($el).find('h2 > span').should('have.text', 'Share This Link');\n  cy.wrap($el).find('.help-text > span').should('have.text', 'Share this link to invite people to this team.');\n}); // * Verify Share Link Input field\nvar baseUrl = Cypress.config('baseUrl');\ncy.getCurrentTeamId().then(function (teamId) {\n  cy.apiGetTeam(teamId).then(function (response) {\n    var inviteId = response.body.invite_id;\n    cy.findByTestId('shareLinkInput').should('be.visible').and('have.value', \"\".concat(baseUrl, \"/signup_user_complete/?id=\").concat(inviteId));\n  });\n}); // * Verify Copy Link button text\ncy.findByTestId('shareLinkInputButton').should('be.visible').and('have.text', 'Copy Link'); // * Verify Invite People field\ncy.findByTestId('searchAdd').should('be.visible').within(function ($el) {\n  cy.wrap($el).find('h2 > span').should('have.text', 'Add or Invite People');\n  cy.wrap($el).find('.help-text > span').should('have.text', 'Add existing members or send email invites to new members.');\n});\ncy.get('#inviteMembersButton').scrollIntoView().should('be.visible').and('be.disabled');\ncy.findByTestId('inputPlaceholder').should('be.visible').within(function ($el) {\n  // * Verify the input placeholder text\n  cy.wrap($el).get('.users-emails-input__placeholder').should('have.text', 'Add members or email addresses'); // # Type the email of the new user\n  cy.wrap($el).get('input').type(email, {\n    force: true\n  });\n  cy.wrap($el).get('.users-emails-input__menu').children().should('have.length', 1).eq(0).should('contain', \"Invite \".concat(email, \" as a team member\")).click();\n}); // * Verify if invite members button is not disabled when an email is added\ncy.get('#inviteMembersButton').scrollIntoView().should('be.visible').and('not.be.disabled'); // * Verify the confirmation message when users clicks on the Close button\ncy.get('#closeIcon').should('be.visible').click();\ncy.get('#confirmModalLabel').should('be.visible').and('have.text', 'Discard Changes');\ncy.get('.modal-body').should('be.visible').and('have.text', 'You have unsent invitations, are you sure you want to discard them?'); // * Verify the behavior when Cancel button in the confirmation message is clicked\ncy.get('#cancelModalButton').click();\ncy.get('#confirmModal').should('not.exist'); // * Verify the behavior when Yes, Discard button in the confirmation message is clicked\ncy.get('#closeIcon').should('be.visible').click();\ncy.get('#confirmModalButton').should('be.visible').and('have.text', 'Yes, Discard').click();\ncy.get('.InvitationModal').should('not.exist');","err":{},"uuid":"da60e9ee-68cb-41f3-9749-1f505a88cb23","parentUUID":"57e4d428-d28f-447b-ad64-4ab976ea5a56","isHook":false,"skipped":false},{"title":"MM-18040 Verify Invite New/Existing Users","fullTitle":"Guest Account - Member Invitation Flow MM-18040 Verify Invite New/Existing Users","timedOut":null,"duration":23238,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/guest_accounts/member_invitation_ui_spec.js/Guest Account - Member Invitation Flow -- MM-18040 Verify Invite NewExisting Users (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/guest_accounts/member_invitation_ui_spec.js/Guest Account - Member Invitation Flow -- MM-18040 Verify Invite NewExisting Users (failed).png\"\n}","code":"// # Login as new user and get the user id\ncy.apiCreateNewUser().then(function (newUser) {\n  cy.apiAddUserToTeam(testTeam.id, newUser.id); // # Logout sysadmin, then login as new user\n  cy.apiLogout();\n  cy.apiLogin(newUser.username, newUser.password);\n  cy.visit(\"/\".concat(testTeam.name));\n}); // # Search and add an existing member by username who is part of the team\ninvitePeople(sysadmin.username, 1, sysadmin.username); // * Verify the content and message in next screen\nverifyInvitationError(sysadmin.username, 'This person is already a team member.'); // # Search and add an existing member by email who is not part of the team\ninvitePeople(user1.email, 1, user1.username); // * Verify the content and message in next screen\nverifyInvitationSuccess(user1.username, 'This member has been added to the team.'); // # Search and add a new member by email who is not part of the team\nvar email = \"temp-\".concat((0, _utils.getRandomInt)(9999).toString(), \"@mattermost.com\");\ninvitePeople(email, 1, email); // * Verify the content and message in next screen\nverifyInvitationSuccess(email, 'An invitation email has been sent.');","err":{"message":"CypressError: Timed out retrying: cy.click() failed because this element is disabled:\n\n<button class=\"btn btn-inactive\" disabled=\"\" id=\"inviteMembersButton\">...</button>\n\nFix this problem, or use {force: true} to disable error checking.\n\nhttps://on.cypress.io/element-cannot-be-interacted-with","estack":"CypressError: Timed out retrying: cy.click() failed because this element is disabled:\n\n<button class=\"btn btn-inactive\" disabled=\"\" id=\"inviteMembersButton\">...</button>\n\nFix this problem, or use {force: true} to disable error checking.\n\nhttps://on.cypress.io/element-cannot-be-interacted-with\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at Object.retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at retryActionability (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132052:19)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Function.Promise.attempt.Promise.try (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:164690:29)\n    at tryFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144661:21)\n    at whenStable (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144696:12)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144240:16\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165532:18)\n    at Promise._fulfill (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165477:18)","diff":null},"uuid":"0a051f6d-1e39-4a10-83dc-876cc8d37115","parentUUID":"57e4d428-d28f-447b-ad64-4ab976ea5a56","isHook":false,"skipped":false},{"title":"MM-22037 Invite Member via Email containing upper case letters","fullTitle":"Guest Account - Member Invitation Flow MM-22037 Invite Member via Email containing upper case letters","timedOut":null,"duration":2238,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Invite a email containing uppercase letters\nvar email = \"tEMp-\".concat((0, _utils.getRandomInt)(9999), \"@mattermost.com\");\ninvitePeople(email, 1, email); // * Verify the content and message in next screen\nverifyInvitationSuccess(email, 'An invitation email has been sent.');","err":{},"uuid":"831ca5e2-23d9-42d0-965d-3fc3264f59bb","parentUUID":"57e4d428-d28f-447b-ad64-4ab976ea5a56","isHook":false,"skipped":false}],"suites":[],"passes":["da60e9ee-68cb-41f3-9749-1f505a88cb23","831ca5e2-23d9-42d0-965d-3fc3264f59bb"],"failures":["0a051f6d-1e39-4a10-83dc-876cc8d37115"],"pending":[],"skipped":[],"duration":33838,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"fd65986e-86ac-46dc-8a30-86118bfdeac5","title":"","fullFile":"cypress/integration/enterprise/guest_accounts/system_console_guest_access_ui_spec.js","file":"cypress/integration/enterprise/guest_accounts/system_console_guest_access_ui_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"67b1b9c4-69e1-4223-8703-94dd578df579","title":"Guest Account - Verify Guest Access UI","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-18046 Verify Guest Access Screen","fullTitle":"Guest Account - Verify Guest Access UI MM-18046 Verify Guest Access Screen","timedOut":null,"duration":4695,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify Enable Guest Access field\ncy.findByTestId('GuestAccountsSettings.Enable').should('be.visible').within(function () {\n  cy.get('.control-label').should('be.visible').and('have.text', 'Enable Guest Access: ');\n});\ncy.findByTestId('GuestAccountsSettings.Enablehelp-text').should('be.visible').and('have.text', 'When true, external guest can be invited to channels within teams. Please see Permissions Schemes for which roles can invite guests.'); // * Verify Whitelisted Guest Domains field\ncy.findByTestId('GuestAccountsSettings.RestrictCreationToDomains').should('be.visible').within(function () {\n  cy.get('.control-label').should('be.visible').and('have.text', 'Whitelisted Guest Domains:');\n});\ncy.findByTestId('GuestAccountsSettings.RestrictCreationToDomainshelp-text').should('be.visible').and('have.text', '(Optional) Guest accounts can be created at the system level from this list of allowed guest domains.'); // * Verify Guest MFA field when System MFA is not enabled\ncy.findByTestId('GuestAccountsSettings.EnforceMultifactorAuthentication').should('be.visible').within(function () {\n  cy.get('.control-label').should('be.visible').and('have.text', 'Enforce Multi-factor Authentication: ');\n});\ncy.findByTestId('GuestAccountsSettings.EnforceMultifactorAuthenticationhelp-text').should('be.visible').and('have.text', 'Multi-factor authentication is currently not enabled.'); // # Enable Guest Account Settings\ncy.apiUpdateConfig({\n  ServiceSettings: {\n    EnableMultifactorAuthentication: true\n  }\n}); // # Visit System Console Users page\ncy.visit('/admin_console/authentication/guest_access'); // * Verify Guest MFA field when System MFA is enabled\ncy.findByTestId('GuestAccountsSettings.EnforceMultifactorAuthenticationhelp-text').should('be.visible').and('have.text', 'Multi-factor authentication is currently not enforced.');","err":{},"uuid":"b8d26ac6-ff0b-4ef8-8be0-284cdb5ed7a0","parentUUID":"67b1b9c4-69e1-4223-8703-94dd578df579","isHook":false,"skipped":false}],"suites":[],"passes":["b8d26ac6-ff0b-4ef8-8be0-284cdb5ed7a0"],"failures":[],"pending":[],"skipped":[],"duration":4695,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"6cf0bff5-b0d5-4f09-994f-56851d686e5b","title":"","fullFile":"cypress/integration/enterprise/guest_accounts/system_console_manage_guest_spec.js","file":"cypress/integration/enterprise/guest_accounts/system_console_manage_guest_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"673e555e-0f3c-4116-9d98-d469bbb81388","title":"Guest Account - Verify Manage Guest Users","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-18048 Verify the manage options displayed for Guest User","fullTitle":"Guest Account - Verify Manage Guest Users MM-18048 Verify the manage options displayed for Guest User","timedOut":null,"duration":4533,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify Guest user\nverifyGuest(); // # Click on the Manage User option\ncy.wait(TIMEOUTS.TINY).findByTestId('userListRow').find('.MenuWrapper a').should('be.visible').click(); // * Verify the manage options which should be displayed for Guest User\nvar includeOptions = ['Deactivate', 'Manage Teams', 'Reset Password', 'Update Email', 'Promote to User', 'Revoke Sessions'];\nincludeOptions.forEach(function (includeOption) {\n  cy.findByText(includeOption).should('be.visible');\n}); // * Verify the manage options which should not be displayed for Guest user\nvar missingOptions = ['Manage Roles', 'Demote to Guest'];\nmissingOptions.forEach(function (missingOption) {\n  cy.findByText(missingOption).should('not.exist');\n});","err":{},"uuid":"c87e7e8f-e171-4f31-a9e4-5add1e60b355","parentUUID":"673e555e-0f3c-4116-9d98-d469bbb81388","isHook":false,"skipped":false},{"title":"MM-18048 Deactivate Guest User and Verify","fullTitle":"Guest Account - Verify Manage Guest Users MM-18048 Deactivate Guest User and Verify","timedOut":null,"duration":6300,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click on the Deactivate option\ncy.wait(TIMEOUTS.TINY).findByTestId('userListRow').find('.MenuWrapper a').should('be.visible').click();\ncy.wait(TIMEOUTS.TINY).findByText('Deactivate').click(); // * Verify the confirmation message displayed\ncy.get('#confirmModal').should('be.visible').within(function () {\n  cy.get('#confirmModalLabel').should('be.visible').and('have.text', \"Deactivate \".concat(guest.username));\n  cy.get('.modal-body').should('be.visible').and('have.text', \"This action deactivates \".concat(guest.username, \". They will be logged out and not have access to any teams or channels on this system. Are you sure you want to deactivate \").concat(guest.username, \"?\"));\n}); // * Verify the behavior when Cancel button in the confirmation message is clicked\ncy.get('#cancelModalButton').click();\ncy.get('#confirmModal').should('not.exist');\nverifyGuest(); // * Verify the behavior when Deactivate button in the confirmation message is clicked\ncy.wait(TIMEOUTS.TINY).findByTestId('userListRow').find('.MenuWrapper a').should('be.visible').click();\ncy.wait(TIMEOUTS.TINY).findByText('Deactivate').click();\ncy.get('#confirmModalButton').click();\ncy.get('#confirmModal').should('not.exist');\nverifyGuest('Inactive '); // # Reload and verify if behavior is same\ncy.reload();\ncy.get('#searchUsers').should('be.visible').type(guest.username);\nverifyGuest('Inactive ');","err":{},"uuid":"0265435b-def7-4871-a81e-a9b76de15842","parentUUID":"673e555e-0f3c-4116-9d98-d469bbb81388","isHook":false,"skipped":false},{"title":"MM-18048 Activate Guest User and Verify","fullTitle":"Guest Account - Verify Manage Guest Users MM-18048 Activate Guest User and Verify","timedOut":null,"duration":3767,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click on the Activate option\ncy.wait(TIMEOUTS.TINY).findByTestId('userListRow').find('.MenuWrapper a').should('be.visible').click();\ncy.wait(TIMEOUTS.TINY).findByText('Activate').click(); // * Verify if User's status is activated again\nverifyGuest(); // # Reload and verify if behavior is same\ncy.reload();\ncy.get('#searchUsers').should('be.visible').type(guest.username);\nverifyGuest();","err":{},"uuid":"f350c96a-a0c3-4139-a4d8-8ba6a2def262","parentUUID":"673e555e-0f3c-4116-9d98-d469bbb81388","isHook":false,"skipped":false},{"title":"MM-18048 Change Email of a Guest User and Verify","fullTitle":"Guest Account - Verify Manage Guest Users MM-18048 Change Email of a Guest User and Verify","timedOut":null,"duration":4385,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click on the Update Email option\ncy.wait(TIMEOUTS.TINY).findByTestId('userListRow').find('.MenuWrapper a').should('be.visible').click();\ncy.wait(TIMEOUTS.TINY).findByText('Update Email').click(); // * Update email of Guest User\nvar email = \"temp-\".concat((0, _utils.getRandomInt)(9999), \"@mattermost.com\");\ncy.findByTestId('resetEmailModal').should('be.visible').within(function () {\n  cy.findByTestId('resetEmailForm').should('be.visible').get('input').type(email);\n  cy.findByTestId('resetEmailButton').click();\n}); // * Verify if Guest's email was updated\ncy.findByText(email).should('be.visible'); // # Reload and verify if behavior is same\ncy.reload();\ncy.get('#searchUsers').should('be.visible').type(guest.username);\ncy.findByText(email).should('be.visible');","err":{},"uuid":"5a491beb-1bf2-4e52-86d4-f99043fd086f","parentUUID":"673e555e-0f3c-4116-9d98-d469bbb81388","isHook":false,"skipped":false},{"title":"MM-18048 Revoke Session of a Guest User and Verify","fullTitle":"Guest Account - Verify Manage Guest Users MM-18048 Revoke Session of a Guest User and Verify","timedOut":null,"duration":4768,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click on the Revoke Session option\ncy.wait(TIMEOUTS.TINY).findByTestId('userListRow').find('.MenuWrapper a').should('be.visible').click();\ncy.wait(TIMEOUTS.TINY).findByText('Revoke Sessions').click(); // * Verify the confirmation message displayed\ncy.get('#confirmModal').should('be.visible').within(function () {\n  cy.get('#confirmModalLabel').should('be.visible').and('have.text', \"Revoke Sessions for \".concat(guest.username));\n  cy.get('.modal-body').should('be.visible').and('have.text', \"This action revokes all sessions for \".concat(guest.username, \". They will be logged out from all devices. Are you sure you want to revoke all sessions for \").concat(guest.username, \"?\"));\n}); // * Verify the behavior when Cancel button in the confirmation message is clicked\ncy.get('#cancelModalButton').click();\ncy.get('#confirmModal').should('not.exist'); // # Logout sysadmin and login as Guest User to verify if Revoke Session works\ncy.apiLogout();\ncy.apiLogin(guest.username, guest.password);\ncy.visit('/ad-1/channels/town-square');\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Issue a Request to Revoke All Sessions as SysAdmin\nvar baseUrl = Cypress.config('baseUrl');\ncy.externalRequest({\n  user: _users[\"default\"].sysadmin,\n  method: 'post',\n  baseUrl: baseUrl,\n  path: \"users/\".concat(guest.id, \"/sessions/revoke/all\")\n}).then(function () {\n  // # Initiate browser activity like visit on \"/\"\n  cy.visit('/ad-1/channels/town-square'); // * Verify if the regular member is logged out and redirected to login page\n  cy.url({\n    timeout: TIMEOUTS.LARGE\n  }).should('include', '/login');\n  cy.get('#login_section', {\n    timeout: TIMEOUTS.LARGE\n  }).should('be.visible');\n});","err":{},"uuid":"8b563fce-91db-4134-9faf-cfaeba57de4e","parentUUID":"673e555e-0f3c-4116-9d98-d469bbb81388","isHook":false,"skipped":false}],"suites":[],"passes":["c87e7e8f-e171-4f31-a9e4-5add1e60b355","0265435b-def7-4871-a81e-a9b76de15842","f350c96a-a0c3-4139-a4d8-8ba6a2def262","5a491beb-1bf2-4e52-86d4-f99043fd086f","8b563fce-91db-4134-9faf-cfaeba57de4e"],"failures":[],"pending":[],"skipped":[],"duration":23753,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c20f6987-2b4e-4769-a971-9fd896bbc135","title":"","fullFile":"cypress/integration/enterprise/ldap_group/channel_modes_spec.js","file":"cypress/integration/enterprise/ldap_group/channel_modes_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"eaf135bf-159d-4d0b-859e-cdf12aeedbbd","title":"Test channel public/private toggle","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Verify that System Admin can change channel privacy using toggle","fullTitle":"Test channel public/private toggle Verify that System Admin can change channel privacy using toggle","timedOut":null,"duration":4904,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.visit('/ad-1/channels/town-square');\ncy.getCurrentTeamId().then(function (teamId) {\n  return cy.apiCreateChannel(teamId, 'test-channel', 'Test Channel');\n}).then(function (res) {\n  var channel = res.body;\n  assert(channel.type === 'O');\n  cy.visit(\"/admin_console/user_management/channels/\".concat(channel.id));\n  cy.get('#channel_profile').contains(channel.display_name);\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(1).click();\n  cy.get('#saveSetting').click();\n  cy.get('#confirmModalButton').click();\n  return cy.apiGetChannel(channel.id);\n}).then(function (res) {\n  var channel = res.body;\n  assert(channel.type === 'P');\n  cy.visit(\"/admin_console/user_management/channels/\".concat(channel.id));\n  cy.get('#channel_profile').contains(channel.display_name);\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(1).click();\n  cy.get('#saveSetting').click();\n  cy.get('#confirmModalButton').click();\n  return cy.apiGetChannel(channel.id);\n}).then(function (res) {\n  var channel = res.body;\n  assert(channel.type === 'O');\n});","err":{},"uuid":"79240274-7ff4-429a-b2ef-97efa0ba0894","parentUUID":"eaf135bf-159d-4d0b-859e-cdf12aeedbbd","isHook":false,"skipped":false},{"title":"Verify that resetting sync toggle doesn't alter channel privacy toggle","fullTitle":"Test channel public/private toggle Verify that resetting sync toggle doesn't alter channel privacy toggle","timedOut":null,"duration":2721,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.visit('/ad-1/channels/town-square');\ncy.getCurrentTeamId().then(function (teamId) {\n  return cy.apiCreateChannel(teamId, 'test-channel', 'Test Channel');\n}).then(function (res) {\n  var channel = res.body;\n  assert(channel.type === 'O');\n  cy.visit(\"/admin_console/user_management/channels/\".concat(channel.id));\n  cy.get('#channel_profile').contains(channel.display_name);\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(0).click();\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(0).click();\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(1).contains('Public');\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(1).click();\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(0).click();\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(0).click();\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(1).contains('Private');\n});","err":{},"uuid":"18561ee5-3054-413d-9811-375628f2b96b","parentUUID":"eaf135bf-159d-4d0b-859e-cdf12aeedbbd","isHook":false,"skipped":false},{"title":"Verify that toggles are disabled for default channel","fullTitle":"Test channel public/private toggle Verify that toggles are disabled for default channel","timedOut":null,"duration":1485,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.visit('/ad-1/channels/town-square');\ncy.getCurrentChannelId().then(function (id) {\n  cy.visit(\"/admin_console/user_management/channels/\".concat(id));\n  cy.get('#channel_profile').contains('Town Square');\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(0).should('have.class', 'false');\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(1).contains('Public');\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(0).should('have.class', 'disabled');\n  cy.get('#channel_manage .group-teams-and-channels--body').find('button').eq(1).should('have.class', 'disabled');\n});","err":{},"uuid":"e1592575-34ed-489f-b5da-12953b09eabf","parentUUID":"eaf135bf-159d-4d0b-859e-cdf12aeedbbd","isHook":false,"skipped":false}],"suites":[],"passes":["79240274-7ff4-429a-b2ef-97efa0ba0894","18561ee5-3054-413d-9811-375628f2b96b","e1592575-34ed-489f-b5da-12953b09eabf"],"failures":[],"pending":[],"skipped":[],"duration":9110,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"25b5963e-af51-4925-af64-1a964140bf7a","title":"","fullFile":"cypress/integration/enterprise/ldap_group/groups_assign_roles_spec.js","file":"cypress/integration/enterprise/ldap_group/groups_assign_roles_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"519903ce-982d-4239-8771-03c392e448d7","title":"System Console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-20058 - System Admin can map roles to teams and channels via group configuration page","fullTitle":"System Console MM-20058 - System Admin can map roles to teams and channels via group configuration page","timedOut":null,"duration":25524,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/ldap_group/groups_assign_roles_spec.js/System Console -- MM-20058 - System Admin can map roles to teams and channels via group configuration page (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/ldap_group/groups_assign_roles_spec.js/System Console -- MM-20058 - System Admin can map roles to teams and channels via group configuration page (failed).png\"\n}","code":"// # Go to system admin page and to team configuration page of channel \"eligendi\"\ncy.visit('/admin_console/user_management/groups');\ncy.get('#developers_group').then(function (el) {\n  if (el.text().includes('Edit')) {\n    cy.get('#developers_edit').then(function (buttonEl) {\n      // # Get the Group ID and remove all the teams and channels currently attached to it then click the button\n      var groupId = buttonEl[0].href.match(/\\/(?:.(?!\\/))+$/)[0].substring(1);\n      getTeamsAssociatedToGroupAndUnlink(groupId);\n      getChannelsAssociatedToGroupAndUnlink(groupId);\n      cy.get('#developers_edit').click();\n    });\n  } else {\n    // # Link the Group if its not linked before\n    if (el.find('.icon.fa-unlink').length > 0) {\n      el.find('.icon.fa-unlink').click();\n    } // # Get the Group ID and remove all the teams and channels currently attached to it then click the button\n\n    cy.get('#developers_configure').then(function (buttonEl) {\n      var groupId = buttonEl[0].href.match(/\\/(?:.(?!\\/))+$/)[0].substring(1);\n      getTeamsAssociatedToGroupAndUnlink(groupId);\n      getChannelsAssociatedToGroupAndUnlink(groupId);\n      cy.get('#developers_configure').click();\n    });\n  }\n}); // # Wait until the groups retrieved and show up\ncy.wait(500); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Add the first team in the group list then save\ncy.get('#add_team_or_channel').click();\ncy.get('#add_team').click();\ncy.get('#multiSelectList').should('be.visible').children().first().click({\n  force: true\n});\ncy.get('#saveItems').should('be.visible').click(); // # Add the first channel in the group list then save\ncy.get('#add_team_or_channel').click();\ncy.get('#add_channel').click();\ncy.get('#multiSelectList').children().first().click();\ncy.get('#saveItems').click(); // # Wait until the groups retrieved and show up\ncy.wait(500); //eslint-disable-line cypress/no-unnecessary-waiting\ncy.get('#team_and_channel_membership_table').then(function (el) {\n  // * Ensure that the text in the roles column is Member as default text for each row\n  var name = el[0].rows[1].cells[0].innerText;\n  cy.findByTestId(\"\".concat(name, \"_current_role\")).scrollIntoView().should('contain.text', 'Member'); // # Change the option to the admin roles (Channel Admin/Team Admin) for each row\n  cy.findByTestId(\"\".concat(name, \"_current_role\")).scrollIntoView().click();\n  cy.findByTestId(\"\".concat(name, \"_role_to_be\")).scrollIntoView().click(); // * Ensure that each row roles have changed successfully (by making sure that the Member text is not existent anymore)\n  cy.findByTestId(\"\".concat(name, \"_current_role\")).scrollIntoView().should('not.contain.text', 'Member');\n});","err":{"message":"CypressError: Timed out retrying: Unable to find an element by: [data-testid=\"elastic-1586772076488_role_to_be\"]","estack":"CypressError: Timed out retrying: Unable to find an element by: [data-testid=\"elastic-1586772076488_role_to_be\"]\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"7e62bc1e-d7c1-4593-8bec-8b7b136bfbdb","parentUUID":"519903ce-982d-4239-8771-03c392e448d7","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["7e62bc1e-d7c1-4593-8bec-8b7b136bfbdb"],"pending":[],"skipped":[],"duration":25524,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2542e310-f298-4d48-b042-17ffcc19befd","title":"","fullFile":"cypress/integration/enterprise/ldap_group/invite_bot_spec.js","file":"cypress/integration/enterprise/ldap_group/invite_bot_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"585398fd-ea60-4605-9a33-a734621fa4ca","title":"Group Synced Team - Bot invitation flow","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-21793 Invite and remove a bot within a group synced team","fullTitle":"Group Synced Team - Bot invitation flow MM-21793 Invite and remove a bot within a group synced team","timedOut":null,"duration":572,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var self = this,\n    args = arguments;\nreturn new Promise(function (resolve, reject) {\n  var gen = fn.apply(self, args);\n  function _next(value) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n  }\n  function _throw(err) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n  }\n  _next(undefined);\n});","err":{},"uuid":"4654f9dd-f2b8-41c9-bb9c-ac27b9e1ae9e","parentUUID":"585398fd-ea60-4605-9a33-a734621fa4ca","isHook":false,"skipped":false}],"suites":[],"passes":["4654f9dd-f2b8-41c9-bb9c-ac27b9e1ae9e"],"failures":[],"pending":[],"skipped":[],"duration":572,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"e7e3a635-5bce-4afc-8b41-4b9833fe6783","title":"","fullFile":"cypress/integration/enterprise/ldap_group/search_channels_spec.js","file":"cypress/integration/enterprise/ldap_group/search_channels_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"9b699f2d-4006-4e7a-bfb1-6b3e5bcbe998","title":"Search channels","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"loads with no search text","fullTitle":"Search channels loads with no search text","timedOut":null,"duration":2089,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check that text input loads empty.\ncy.findByTestId('search-input').should('be.visible').and('have.text', '');","err":{},"uuid":"8abc4b5b-6710-4c3e-906b-15fea5a6c5d1","parentUUID":"9b699f2d-4006-4e7a-bfb1-6b3e5bcbe998","isHook":false,"skipped":false},{"title":"returns results","fullTitle":"Search channels returns results","timedOut":null,"duration":1942,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var _this = this;\nvar displayName = (0, _v[\"default\"])();\ncy.apiGetTeams().then(function (response) {\n  var teamID = response.body[0].id; // # Create a channel.\n  cy.apiCreateChannel(teamID, 'channel-search', displayName).then(function (cResponse) {\n    _this.createdChannelIDs.push(cResponse.body.id);\n  }); // # Search for the channel.\n  cy.findByTestId('search-input').type(displayName + '{enter}'); // * Check that channel is in search results.\n  cy.findAllByTestId('channel-display-name').contains(displayName);\n});","err":{},"uuid":"bcd6ae0d-3c4c-4aa6-b8aa-1283ed893181","parentUUID":"9b699f2d-4006-4e7a-bfb1-6b3e5bcbe998","isHook":false,"skipped":false},{"title":"results are paginated","fullTitle":"Search channels results are paginated","timedOut":null,"duration":1810,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var _this2 = this;\nvar displayName = (0, _v[\"default\"])();\ncy.apiGetTeams().then(function (response) {\n  var teamID = response.body[0].id; // # Create enough new channels with common name prefixes to get multiple pages of search results.\n  for (var i = 0; i < PAGE_SIZE + 2; i++) {\n    cy.apiCreateChannel(teamID, 'channel-search-paged-' + i, displayName + ' ' + i).then(function (cResponse) {\n      _this2.createdChannelIDs.push(cResponse.body.id);\n    });\n  } // # Search using the common channel name prefix.\n\n  cy.findByTestId('search-input').type(displayName + '{enter}'); // * Check that the first page of results is full.\n  cy.findAllByTestId('channel-display-name').should('have.length', PAGE_SIZE); // # Click the next pagination arrow.\n  cy.findByTestId('page-link-next').should('be.enabled').click(); // * Check that the 2nd page of results has the expected amount.\n  cy.findAllByTestId('channel-display-name').should('have.length', 2);\n});","err":{},"uuid":"a8091293-9a1a-4792-b1e4-1128e19d51cd","parentUUID":"9b699f2d-4006-4e7a-bfb1-6b3e5bcbe998","isHook":false,"skipped":false},{"title":"clears the results when \"x\" is clicked","fullTitle":"Search channels clears the results when \"x\" is clicked","timedOut":null,"duration":2214,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var _this3 = this;\nvar displayName = (0, _v[\"default\"])();\ncy.apiGetTeams().then(function (response) {\n  var teamID = response.body[0].id; // # Create a new channel.\n  cy.apiCreateChannel(teamID, 'channel-search', displayName).then(function (cResponse) {\n    _this3.createdChannelIDs.push(cResponse.body.id);\n  }); // # Search for the channel.\n  cy.get('[data-testid=search-input]').as('searchInput').type(displayName + '{enter}'); // * Check that the list of channels is in search results mode.\n  cy.findAllByTestId('channel-display-name').should('have.length', 1); // # Click the x in the search input.\n  cy.findByTestId('clear-search').click(); // * Check that the search input text is cleared.\n  cy.get('@searchInput').should('be.visible').and('have.text', ''); // * Check that the search results are reset to the default page-load list.\n  cy.findAllByTestId('channel-display-name').should('have.length', PAGE_SIZE);\n});","err":{},"uuid":"d99d8d24-be35-4f4a-bc04-d59796d0cb2a","parentUUID":"9b699f2d-4006-4e7a-bfb1-6b3e5bcbe998","isHook":false,"skipped":false},{"title":"clears the results when the search term is deleted with backspace","fullTitle":"Search channels clears the results when the search term is deleted with backspace","timedOut":null,"duration":1505,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var _this4 = this;\nvar displayName = (0, _v[\"default\"])();\ncy.apiGetTeams().then(function (response) {\n  var teamID = response.body[0].id; // # Create a channel.\n  cy.apiCreateChannel(teamID, 'channel-search', displayName).then(function (cResponse) {\n    _this4.createdChannelIDs.push(cResponse.body.id);\n  }); // # Search for the channel.\n  cy.get('[data-testid=search-input]').as('searchInput').type(displayName + '{enter}'); // * Check that the list of teams is in search results mode.\n  cy.findAllByTestId('channel-display-name').should('have.length', 1); // # Clear the search input by deleting the search text.\n  cy.get('@searchInput').type('{selectall}{del}'); // * Check that the search results are reset to the default page-load list.\n  cy.findAllByTestId('channel-display-name').should('have.length', PAGE_SIZE);\n});","err":{},"uuid":"ccafeae5-072a-4ca1-bd58-0c2b2d398ecb","parentUUID":"9b699f2d-4006-4e7a-bfb1-6b3e5bcbe998","isHook":false,"skipped":false}],"suites":[],"passes":["8abc4b5b-6710-4c3e-906b-15fea5a6c5d1","bcd6ae0d-3c4c-4aa6-b8aa-1283ed893181","a8091293-9a1a-4792-b1e4-1128e19d51cd","d99d8d24-be35-4f4a-bc04-d59796d0cb2a","ccafeae5-072a-4ca1-bd58-0c2b2d398ecb"],"failures":[],"pending":[],"skipped":[],"duration":9560,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"e942f103-bb25-41ef-b2bf-92610e17eb4a","title":"","fullFile":"cypress/integration/enterprise/ldap_group/team_and_channel_assign_roles_spec.js","file":"cypress/integration/enterprise/ldap_group/team_and_channel_assign_roles_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"1796a092-c59d-4457-b992-a216bd9feab8","title":"System Console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-20059 - System Admin can map roles to groups from Team Configuration screen","fullTitle":"System Console MM-20059 - System Admin can map roles to groups from Team Configuration screen","timedOut":null,"duration":16368,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var teamName = 'eligendi'; // # Go to system admin page and to team configuration page of channel \"eligendi\"\ncy.visit('/admin_console/user_management/teams'); // # Search for the team.\ncy.findByTestId('search-input').type(\"\".concat(teamName, \"{enter}\"));\ncy.findByTestId(\"\".concat(teamName, \"edit\")).click(); // # Wait until the groups retrieved and show up\ncy.wait(5000); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Remove all existing groups\ncy.get('#groups-list--body').then(function (el) {\n  if (el[0].childNodes[0].innerText !== 'No groups specified yet') {\n    for (var i = 0; i < el[0].childNodes.length; i++) {\n      cy.get('#group-actions').click();\n    } // # Save the setting\n\n    cy.get('#saveSetting').click();\n    waitUntilConfigSave();\n  }\n}); // # Add the first group in the group list then save\ncy.findByTestId('add-group').click();\ncy.get('#multiSelectList>div').children().eq(0).get('.more-modal__actions').click();\ncy.get('#saveItems').click();\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // * Ensure default role is Member\ncy.findByTestId('current-role').should('have.text', 'Member').click(); // * Assert that only one option exists in the dropdown for changing roles\ncy.get('#role-to-be-menu').then(function (el) {\n  expect(el[0].firstElementChild.children.length).equal(1);\n}); // # Continue changing the role to Team Admin\ncy.get('#role-to-be').click();\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // # Reload to ensure it's been saved\ncy.reload(); // * Check to make the the current role text is displayed as Team Admin\ncy.findByTestId('current-role').should('have.text', 'Team Admin'); // # Change the role from Team Admin to Member\ncy.findByTestId('current-role').click(); // * Assert that only one option exists in the dropdown for changing roles\ncy.get('#role-to-be-menu').then(function (el) {\n  expect(el[0].firstElementChild.children.length).equal(1);\n}); // # Change role to member\ncy.get('#role-to-be').click();\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // # Reload to ensure it's been saved\ncy.reload(); // * Check to make the the current role text is displayed as Member\ncy.findByTestId('current-role').should('have.text', 'Member'); // # Remove all existing groups\ncy.get('#groups-list--body').then(function (el) {\n  if (el[0].childNodes[0].innerText !== 'No groups specified yet') {\n    for (var i = 0; i < el[0].childNodes.length; i++) {\n      cy.get('#group-actions').click();\n    } // # Save the setting\n\n    cy.get('#saveSetting').click();\n    waitUntilConfigSave();\n  }\n}); // # Wait to ensure it has saved before reloading\ncy.wait(500); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Reload to ensure it's been saved\ncy.reload(); // * Assert that the group was removed successfully\ncy.get('#groups-list--body').then(function (el) {\n  expect(el[0].childNodes[0].innerText).equal('No groups specified yet');\n});","err":{},"uuid":"96540cb3-5369-49b9-857a-e8591a83dd80","parentUUID":"1796a092-c59d-4457-b992-a216bd9feab8","isHook":false,"skipped":false},{"title":"MM-21789 - Add a group and change the role and then save and ensure the role was updated on team configuration page","fullTitle":"System Console MM-21789 - Add a group and change the role and then save and ensure the role was updated on team configuration page","timedOut":null,"duration":8332,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var teamName = 'eligendi'; // # Go to system admin page and to team configuration page of channel \"eligendi\"\ncy.visit('/admin_console/user_management/teams'); // # Search for the team.\ncy.findByTestId('search-input').type(\"\".concat(teamName, \"{enter}\"));\ncy.findByTestId(\"\".concat(teamName, \"edit\")).click(); // # Wait until the groups retrieved and show up\ncy.wait(5000); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Remove all existing groups\ncy.get('#groups-list--body').then(function (el) {\n  if (el[0].childNodes[0].innerText !== 'No groups specified yet') {\n    for (var i = 0; i < el[0].childNodes.length; i++) {\n      cy.get('#group-actions').click();\n    } // # Save the setting\n\n    cy.get('#saveSetting').click();\n    waitUntilConfigSave();\n  }\n}); // # Add the first group in the group list then save\ncy.findByTestId('add-group').click();\ncy.get('#multiSelectList>div').children().eq(0).get('.more-modal__actions').click();\ncy.get('#saveItems').click(); // * Ensure default role is Member\ncy.findByTestId('current-role').should('have.text', 'Member').click(); // * Assert that only one option exists in the dropdown for changing roles\ncy.get('#role-to-be-menu').then(function (el) {\n  expect(el[0].firstElementChild.children.length).equal(1);\n}); // # Continue changing the role to Team Admin\ncy.get('#role-to-be').click();\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // # Reload to ensure it's been saved\ncy.reload(); // * Check to make the the current role text is displayed as Team Admin\ncy.findByTestId('current-role').should('have.text', 'Team Admin');","err":{},"uuid":"7669eabd-f06d-4e88-826b-908dd044a6af","parentUUID":"1796a092-c59d-4457-b992-a216bd9feab8","isHook":false,"skipped":false},{"title":"MM-20646 - System Admin can map roles to groups from Channel Configuration screen","fullTitle":"System Console MM-20646 - System Admin can map roles to groups from Channel Configuration screen","timedOut":null,"duration":13588,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var channelName = 'autem'; // # Go to system admin page and to channel configuration page of channel \"autem\"\ncy.visit('/admin_console/user_management/channels'); // # Search for the channel.\ncy.findByTestId('search-input').type(\"\".concat(channelName, \"{enter}\"));\ncy.findByTestId(\"\".concat(channelName, \"edit\")).click(); // # Wait until the groups retrieved and show up\ncy.wait(5000); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Remove all existing groups\ncy.get('#groups-list--body').then(function (el) {\n  if (el[0].childNodes[0].innerText !== 'No groups specified yet') {\n    for (var i = 0; i < el[0].childNodes.length; i++) {\n      cy.get('#group-actions').click();\n    } // # Save the setting\n\n    cy.get('#saveSetting').click();\n    waitUntilConfigSave();\n  }\n}); // # Add the first group in the group list then save\ncy.findByTestId('add-group').click();\ncy.get('#multiSelectList>div').children().eq(0).get('.more-modal__actions').click();\ncy.get('#saveItems').click();\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // * Ensure default role is Member\ncy.findByTestId('current-role').should('have.text', 'Member').click(); // * Assert that only one option exists in the dropdown for changing roles\ncy.get('#role-to-be-menu').then(function (el) {\n  expect(el[0].firstElementChild.children.length).equal(1);\n}); // # Continue changing the role to Channel Admin\ncy.get('#role-to-be').click();\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // # Wait to ensure it has saved before reloading\ncy.wait(500); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Reload to ensure it's been saved\ncy.reload(); // * Check to make the the current role text is displayed as Channel Admin\ncy.findByTestId('current-role').should('have.text', 'Channel Admin'); // # Change the role from Channel Admin to member\ncy.findByTestId('current-role').click(); // * Assert that only one option exists in the dropdown for changing roles\ncy.get('#role-to-be-menu').then(function (el) {\n  expect(el[0].firstElementChild.children.length).equal(1);\n}); // # Change role to Member\ncy.get('#role-to-be').click();\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // # Reload to ensure it's been saved\ncy.reload(); // * Check to make the the current role text is displayed as Member\ncy.findByTestId('current-role').should('have.text', 'Member'); // # Remove all existing groups\ncy.get('#groups-list--body').then(function (el) {\n  if (el[0].childNodes[0].innerText !== 'No groups specified yet') {\n    for (var i = 0; i < el[0].childNodes.length; i++) {\n      cy.get('#group-actions').click();\n    } // # Save the setting\n\n    cy.get('#saveSetting').click();\n    waitUntilConfigSave();\n  }\n}); // # Wait to ensure it has saved before reloading\ncy.wait(500); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Reload to ensure it's been saved\ncy.reload(); // * Assert that the group was removed successfully\ncy.get('#groups-list--body').then(function (el) {\n  expect(el[0].childNodes[0].innerText).equal('No groups specified yet');\n});","err":{},"uuid":"1edeb02d-c710-433c-8bed-91c260b50415","parentUUID":"1796a092-c59d-4457-b992-a216bd9feab8","isHook":false,"skipped":false},{"title":"MM-21789 - Add a group and change the role and then save and ensure the role was updated on channel configuration page","fullTitle":"System Console MM-21789 - Add a group and change the role and then save and ensure the role was updated on channel configuration page","timedOut":null,"duration":8622,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var channelName = 'autem'; // # Go to system admin page and to channel configuration page of channel \"autem\"\ncy.visit('/admin_console/user_management/channels'); // # Search for the channel.\ncy.findByTestId('search-input').type(\"\".concat(channelName, \"{enter}\"));\ncy.findByTestId(\"\".concat(channelName, \"edit\")).click(); // # Wait until the groups retrieved and show up\ncy.wait(5000); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Remove all existing groups\ncy.get('#groups-list--body').then(function (el) {\n  if (el[0].childNodes[0].innerText !== 'No groups specified yet') {\n    for (var i = 0; i < el[0].childNodes.length; i++) {\n      cy.get('#group-actions').click();\n    } // # Save the setting\n\n    cy.get('#saveSetting').click();\n    waitUntilConfigSave();\n  }\n}); // # Add the first group in the group list then save\ncy.findByTestId('add-group').click();\ncy.get('#multiSelectList>div').children().eq(0).get('.more-modal__actions').click();\ncy.get('#saveItems').click(); // * Ensure default role is Member\ncy.findByTestId('current-role').should('have.text', 'Member').click(); // * Assert that only one option exists in the dropdown for changing roles\ncy.get('#role-to-be-menu').then(function (el) {\n  expect(el[0].firstElementChild.children.length).equal(1);\n}); // # Continue changing the role to Team Admin\ncy.get('#role-to-be').click();\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // # Reload to ensure it's been saved\ncy.reload(); // * Check to make the the current role text is displayed as Channel Admin\ncy.findByTestId('current-role').should('have.text', 'Channel Admin');","err":{},"uuid":"0a00942f-149e-44d4-9899-96e2dfea62fe","parentUUID":"1796a092-c59d-4457-b992-a216bd9feab8","isHook":false,"skipped":false}],"suites":[],"passes":["96540cb3-5369-49b9-857a-e8591a83dd80","7669eabd-f06d-4e88-826b-908dd044a6af","1edeb02d-c710-433c-8bed-91c260b50415","0a00942f-149e-44d4-9899-96e2dfea62fe"],"failures":[],"pending":[],"skipped":[],"duration":46910,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"db22d573-fc83-4144-a803-58e3acfbb3fc","title":"","fullFile":"cypress/integration/enterprise/ldap/ldap_login_spec.js","file":"cypress/integration/enterprise/ldap/ldap_login_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5a18b5db-8cc8-4eaf-a9e2-bb7f8f3d127a","title":"ldap","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"ae899604-2ba0-425f-a8f0-0af82d67cefb","title":"LDAP Login flow - Admin Login","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"LDAP login new MM admin, create team","fullTitle":"ldap LDAP Login flow - Admin Login LDAP login new MM admin, create team","timedOut":null,"duration":27699,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/ldap -- LDAP Login flow - Admin Login -- LDAP login new MM admin, create team (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/ldap -- LDAP Login flow - Admin Login -- LDAP login new MM admin, create team (failed).png\"\n}","code":"testSettings.user = admin1;\nnewConfig.LdapSettings.EnableAdminFilter = true;\nnewConfig.LdapSettings.AdminFilter = '(cn=dev*)';\ncy.apiUpdateConfig(newConfig).then(function () {\n  cy.doLDAPLogin(testSettings).then(function () {\n    // new user create team\n    var randomTeam = String((0, _utils.getRandomInt)(10000));\n    cy.skipOrCreateTeam(testSettings, randomTeam).then(function () {\n      cy.get('#headerTeamName').should('be.visible').then(function (teamName) {\n        testSettings.teamName = teamName.text();\n      });\n      cy.doLDAPLogout(testSettings);\n    });\n  });\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#headerTeamName', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#headerTeamName', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"8381ba31-8d59-4b8f-83d4-1a466235b3e6","parentUUID":"ae899604-2ba0-425f-a8f0-0af82d67cefb","isHook":false,"skipped":false},{"title":"LDAP login existing MM admin","fullTitle":"ldap LDAP Login flow - Admin Login LDAP login existing MM admin","timedOut":null,"duration":26831,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/ldap -- LDAP Login flow - Admin Login -- LDAP login existing MM admin (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/ldap -- LDAP Login flow - Admin Login -- LDAP login existing MM admin (failed).png\"\n}","code":"// existing user, verify and logout\ncy.doLDAPLogin(testSettings).then(function () {\n  cy.doLDAPLogout(testSettings);\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#headerUsername', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#headerUsername', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"f2495b31-f3e4-45c0-bd09-bb9462afa9dd","parentUUID":"ae899604-2ba0-425f-a8f0-0af82d67cefb","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["8381ba31-8d59-4b8f-83d4-1a466235b3e6","f2495b31-f3e4-45c0-bd09-bb9462afa9dd"],"pending":[],"skipped":[],"duration":54530,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"2d14e993-408a-49e3-93d4-ac8dfed06881","title":"LDAP Login flow - Member Login)","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Invalid login with user filter","fullTitle":"ldap LDAP Login flow - Member Login) Invalid login with user filter","timedOut":null,"duration":7545,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"testSettings.user = user1;\nnewConfig.LdapSettings.UserFilter = '(cn=no_users)';\ncy.apiLogin('sysadmin').then(function () {\n  cy.apiUpdateConfig(newConfig).then(function () {\n    cy.doLDAPLogin(testSettings).then(function () {\n      cy.checkLoginFailed(testSettings);\n    });\n  });\n});","err":{},"uuid":"f026cd3f-b1ce-447a-b552-411eb339fb41","parentUUID":"2d14e993-408a-49e3-93d4-ac8dfed06881","isHook":false,"skipped":false},{"title":"LDAP login, new MM user, no channels","fullTitle":"ldap LDAP Login flow - Member Login) LDAP login, new MM user, no channels","timedOut":null,"duration":30271,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/ldap -- LDAP Login flow - Member Login) -- LDAP login, new MM user, no channels (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/ldap -- LDAP Login flow - Member Login) -- LDAP login, new MM user, no channels (failed).png\"\n}","code":"testSettings.user = user1;\nnewConfig.LdapSettings.UserFilter = '(cn=test*)';\ncy.apiLogin('sysadmin').then(function () {\n  cy.apiUpdateConfig(newConfig).then(function () {\n    cy.doLDAPLogin(testSettings).then(function () {\n      cy.doMemberLogout(testSettings);\n    });\n  });\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#headerUsername', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#headerUsername', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"ab2ffc12-a169-4099-813f-c5d7999ecb0f","parentUUID":"2d14e993-408a-49e3-93d4-ac8dfed06881","isHook":false,"skipped":false}],"suites":[],"passes":["f026cd3f-b1ce-447a-b552-411eb339fb41"],"failures":["ab2ffc12-a169-4099-813f-c5d7999ecb0f"],"pending":[],"skipped":[],"duration":37816,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"d44a0299-750f-4e4b-81fa-5f810c879583","title":"LDAP Login flow - Guest Login","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Invalid login with guest filter","fullTitle":"ldap LDAP Login flow - Guest Login Invalid login with guest filter","timedOut":null,"duration":6878,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"testSettings.user = guest1;\nnewConfig.LdapSettings.GuestFilter = '(cn=no_guests)';\ncy.apiLogin('sysadmin').then(function () {\n  cy.apiUpdateConfig(newConfig).then(function () {\n    cy.doLDAPLogin(testSettings).then(function () {\n      cy.checkLoginFailed(testSettings);\n    });\n  });\n});","err":{},"uuid":"9d99b016-f0ff-4aaf-8b60-aafdd5ffc231","parentUUID":"d44a0299-750f-4e4b-81fa-5f810c879583","isHook":false,"skipped":false},{"title":"LDAP login, new guest, no channels","fullTitle":"ldap LDAP Login flow - Guest Login LDAP login, new guest, no channels","timedOut":null,"duration":26808,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/ldap -- LDAP Login flow - Guest Login -- LDAP login, new guest, no channels (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/ldap -- LDAP Login flow - Guest Login -- LDAP login, new guest, no channels (failed).png\"\n}","code":"testSettings.user = guest1;\nnewConfig.LdapSettings.GuestFilter = '(cn=board*)';\ncy.apiLogin('sysadmin').then(function () {\n  cy.apiUpdateConfig(newConfig).then(function () {\n    cy.doLDAPLogin(testSettings).then(function () {\n      cy.doGuestLogout(testSettings);\n    });\n  });\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#headerUsername', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#headerUsername', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"25d5416d-09c4-46bd-b52a-009ec17f0628","parentUUID":"d44a0299-750f-4e4b-81fa-5f810c879583","isHook":false,"skipped":false}],"suites":[],"passes":["9d99b016-f0ff-4aaf-8b60-aafdd5ffc231"],"failures":["25d5416d-09c4-46bd-b52a-009ec17f0628"],"pending":[],"skipped":[],"duration":33686,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"7f6e0ca6-0fbc-4ada-99b5-bea65d8beae1","title":"LDAP Add Member and Guest to teams and test logins","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"LDAP Member login with team invite","fullTitle":"ldap LDAP Add Member and Guest to teams and test logins LDAP Member login with team invite","timedOut":null,"duration":312,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/LDAP Member login with team invite -- before all hook (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/enterprise/ldap/ldap_login_spec.js/LDAP Member login with team invite -- before all hook (failed).png\"\n}","code":"testSettings.user = user1;\ncy.doLDAPLogin(testSettings).then(function () {\n  cy.doLDAPLogout(testSettings);\n});","err":{"message":"CypressError: cy.request() failed on:\n\nhttps://cypress.test.mattermost.com/api/v4/teams/name/\n\nThe response we received from your web server was:\n\n  > 404: Not Found\n\nThis was considered a failure because the status code was not '2xx' or '3xx'.\n\nIf you do not want status codes to cause failures pass the option: 'failOnStatusCode: false'\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: GET\nURL: https://cypress.test.mattermost.com/api/v4/teams/name/\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"X-Requested-With\": \"XMLHttpRequest\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/80.0.3987.116 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"cookie\": \"MMCSRF=nemq4eoupj8d7p5e5pm384rhhe; MMUSERID=hkpt8gdbat8hix3zn3kw6etg9h; MMAUTHTOKEN=5oihwgfn6bnb9qwrtas7cocgnw\",\n  \"accept-encoding\": \"gzip, deflate\"\n}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 404 - Not Found\nHeaders: {\n  \"server\": \"nginx/1.14.0 (Ubuntu)\",\n  \"date\": \"Mon, 13 Apr 2020 10:23:00 GMT\",\n  \"content-type\": \"text/plain; charset=utf-8\",\n  \"content-length\": \"256\",\n  \"connection\": \"keep-alive\"\n}\nBody: {\"id\":\"api.context.404.app_error\",\"message\":\"Sorry, we could not find the page.\",\"detailed_error\":\"There doesn't appear to be an api call for the url='/api/v4/teams/name/'.  Typo? are you missing a team_id or user_id as part of the url?\",\"status_code\":404}\n\n\nBecause this error occurred during a 'before all' hook we are skipping the remaining tests in the current suite: 'LDAP Add Member and Guest t...'","estack":"CypressError: cy.request() failed on:\n\nhttps://cypress.test.mattermost.com/api/v4/teams/name/\n\nThe response we received from your web server was:\n\n  > 404: Not Found\n\nThis was considered a failure because the status code was not '2xx' or '3xx'.\n\nIf you do not want status codes to cause failures pass the option: 'failOnStatusCode: false'\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: GET\nURL: https://cypress.test.mattermost.com/api/v4/teams/name/\nHeaders: {\n  \"Connection\": \"keep-alive\",\n  \"X-Requested-With\": \"XMLHttpRequest\",\n  \"user-agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/80.0.3987.116 Safari/537.36\",\n  \"accept\": \"*/*\",\n  \"cookie\": \"MMCSRF=nemq4eoupj8d7p5e5pm384rhhe; MMUSERID=hkpt8gdbat8hix3zn3kw6etg9h; MMAUTHTOKEN=5oihwgfn6bnb9qwrtas7cocgnw\",\n  \"accept-encoding\": \"gzip, deflate\"\n}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 404 - Not Found\nHeaders: {\n  \"server\": \"nginx/1.14.0 (Ubuntu)\",\n  \"date\": \"Mon, 13 Apr 2020 10:23:00 GMT\",\n  \"content-type\": \"text/plain; charset=utf-8\",\n  \"content-length\": \"256\",\n  \"connection\": \"keep-alive\"\n}\nBody: {\"id\":\"api.context.404.app_error\",\"message\":\"Sorry, we could not find the page.\",\"detailed_error\":\"There doesn't appear to be an api call for the url='/api/v4/teams/name/'.  Typo? are you missing a team_id or user_id as part of the url?\",\"status_code\":404}\n\n\nBecause this error occurred during a 'before all' hook we are skipping the remaining tests in the current suite: 'LDAP Add Member and Guest t...'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:139799:21\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165532:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"0d09e495-5ad9-4a46-afee-3706d527e0f5","parentUUID":"7f6e0ca6-0fbc-4ada-99b5-bea65d8beae1","isHook":false,"skipped":false},{"title":"LDAP Guest login with team invite","fullTitle":"ldap LDAP Add Member and Guest to teams and test logins LDAP Guest login with team invite","timedOut":null,"duration":0,"state":"skipped","speed":null,"pass":false,"fail":false,"pending":false,"context":null,"code":"testSettings.user = guest1;\ncy.doLDAPLogin(testSettings).then(function () {\n  cy.doGuestLogout(testSettings);\n});","err":{},"uuid":"7e932541-f6ef-4682-b990-56e452c3a3e2","parentUUID":"7f6e0ca6-0fbc-4ada-99b5-bea65d8beae1","isHook":false,"skipped":true}],"suites":[],"passes":[],"failures":["0d09e495-5ad9-4a46-afee-3706d527e0f5"],"pending":[],"skipped":["7e932541-f6ef-4682-b990-56e452c3a3e2"],"duration":312,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2d42723c-054a-43b3-b3bc-15d24b172deb","title":"","fullFile":"cypress/integration/enterprise/saml/saml_metadata_spec.js","file":"cypress/integration/enterprise/saml/saml_metadata_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"905137f6-3d61-4f56-942c-d7e83b7ebef6","title":"SystemConsole->SAML 2.0 - Get Metadata from Idp Flow","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"fail to fetch metadata from Idp Metadata Url","fullTitle":"SystemConsole->SAML 2.0 - Get Metadata from Idp Flow fail to fetch metadata from Idp Metadata Url","timedOut":null,"duration":3518,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"//verify that the metadata Url textbox is enabled and empty\ncy.findByTestId('SamlSettings.IdpMetadataUrlinput').scrollIntoView().should('be.visible').and('be.enabled').and('have.text', ''); //verify that the Get Metadata Url fetch button is disabled\ncy.get('#getSamlMetadataFromIDPButton').find('button').should('be.visible').and('be.disabled'); //type in the metadata Url in the metadata Url textbox\ncy.findByTestId('SamlSettings.IdpMetadataUrlinput').scrollIntoView().should('be.visible').focus().type(testSamlMetadataUrl + '{enter}', {\n  force: true\n}); //verify that we get the right error message\ncy.get('#getSamlMetadataFromIDPButton').should('be.visible').contains(getSamlMetadataErrorMessage); //verify that the IdpUrl textbox content has not been updated\ncy.findByTestId('SamlSettings.IdpUrlinput').then(function (elem) {\n  Cypress.$(elem).val() === config.SamlSettings.IdpUrl;\n}); //verify that the IdpDescriptorUrl textbox content has not been updated\ncy.findByTestId('SamlSettings.IdpDescriptorUrl').then(function (elem) {\n  Cypress.$(elem).val() === config.SamlSettings.IdpDescriptorUrl;\n}); //verify that we can successfully save the settings (we have not affected previous state)\ncy.get('#saveSetting').click();","err":{},"uuid":"09c8cf8e-400c-41db-a5d5-10db735ca15e","parentUUID":"905137f6-3d61-4f56-942c-d7e83b7ebef6","isHook":false,"skipped":false}],"suites":[],"passes":["09c8cf8e-400c-41db-a5d5-10db735ca15e"],"failures":[],"pending":[],"skipped":[],"duration":3518,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"5e1251bb-f4e5-4992-bef0-6a096052b651","title":"","fullFile":"cypress/integration/enterprise/system_console/channel_moderation_spec.js","file":"cypress/integration/enterprise/system_console/channel_moderation_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"506ae3dd-87fc-4094-bd75-b332ad10ae63","title":"Channel Moderation Test","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-22276 - Enable and Disable all channel moderated permissions","fullTitle":"Channel Moderation Test MM-22276 - Enable and Disable all channel moderated permissions","timedOut":null,"duration":16227,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var channelName = 'autem'; // # Go to system admin page and to channel configuration page of channel \"autem\"\ncy.apiLogin('sysadmin');\ncy.visit('/admin_console/user_management/channels'); // # Search for the channel.\ncy.findByTestId('search-input').type(\"\".concat(channelName, \"{enter}\"));\ncy.findByTestId(\"\".concat(channelName, \"edit\")).click(); // # Wait until the groups retrieved and show up\ncy.wait(1000); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Check all the boxes currently unchecked (align with the system scheme permissions)\nenableAllChannelModeratedPermissions(); // # Save if possible (if previous test ended abruptly all permissions may already be enabled)\ncy.get('#saveSetting').then(function (btn) {\n  if (!btn.disabled) {\n    btn.click();\n  }\n});\nwaitUntilConfigSave(); // # Reload to ensure it's been saved\ncy.reload(); // # Wait until the groups retrieved and show up\ncy.wait(1000); //eslint-disable-line cypress/no-unnecessary-waiting\n// * Ensure all checkboxes are checked\ncheckBoxes.forEach(function (buttonId) {\n  cy.findByTestId(buttonId).should('have.class', 'checked');\n}); // # Uncheck all the boxes currently checked\ndisableAllChannelModeratedPermissions(); // # Save the page and wait till saving is done\ncy.get('#saveSetting').click();\nwaitUntilConfigSave(); // # Reload to ensure it's been saved\ncy.reload(); // # Wait until the groups retrieved and show up\ncy.wait(1000); //eslint-disable-line cypress/no-unnecessary-waiting\n// * Ensure all checkboxes have the correct unchecked state\ncheckBoxes.forEach(function (buttonId) {\n  // * Ensure all checkboxes are unchecked\n  cy.findByTestId(buttonId).should('not.have.class', 'checked'); // * Ensure Channel Mentions are disabled due to Create Posts\n  if (buttonId.includes('use_channel_mentions')) {\n    cy.findByTestId(buttonId).should('be.disabled');\n    return;\n  } // * Ensure all other check boxes are still enabled\n\n  cy.findByTestId(buttonId).should('not.be.disabled');\n});","err":{},"uuid":"623f3c78-4ef0-4e81-afa0-3af382084046","parentUUID":"506ae3dd-87fc-4094-bd75-b332ad10ae63","isHook":false,"skipped":false}],"suites":[{"uuid":"7cfcde64-a55d-4558-b23c-eb3e845ad2fe","title":"MM-23102 - Create Posts","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Create Post option for Guests","fullTitle":"Channel Moderation Test MM-23102 - Create Posts Create Post option for Guests","timedOut":null,"duration":10838,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var loginAs = 'guest'; // # Go to channel configuration page of\nvisitAutemChannelConfigPage(); // # Uncheck the Create Posts option for Guests and Save\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_GUESTS);\nsaveConfig(); // # Login as a Guest user and visit the same channel\nvisitAutemChannel(loginAs); // # Check Guest user should not have the permission to create a post on a channel when the option is removed\n// * Guest user should see a message stating that this channel is read-only and the textbox area should be disabled\ncy.findByTestId('post_textbox_placeholder').should('have.text', 'This channel is read-only. Only members with permission can post here.');\ncy.findByTestId('post_textbox').should('be.disabled'); // # As a system admin, check the option to allow Create Posts for Guests and save\nvisitAutemChannelConfigPage();\nenableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_GUESTS);\nsaveConfig(); // # Login as a Guest user and visit the same channel\nvisitAutemChannel(loginAs); // # Check Guest user should have the permission to create a post on a channel when the option is allowed\n// * Guest user should see a message stating that this channel is read-only and the textbox area should be disabled\ncy.findByTestId('post_textbox').clear();\ncy.findByTestId('post_textbox_placeholder').should('have.text', 'Write to autem');\ncy.findByTestId('post_textbox').should('not.be.disabled');","err":{},"uuid":"176ddee7-7ced-441d-bd22-3af68838c890","parentUUID":"7cfcde64-a55d-4558-b23c-eb3e845ad2fe","isHook":false,"skipped":false},{"title":"Create Post option for Members","fullTitle":"Channel Moderation Test MM-23102 - Create Posts Create Post option for Members","timedOut":null,"duration":10911,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var loginAs = 'user-1'; // # Go to system admin page and to channel configuration page of channel \"autem\"\nvisitAutemChannelConfigPage(); // # Uncheck the Create Posts option for Members and Save\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_MEMBERS);\nsaveConfig(); // # Login as a Guest user and visit Autem channel\nvisitAutemChannel(loginAs); // # Check Member should not have the permission to create a post on a channel when the option is removed.\n// * User should see a message stating that this channel is read-only and the textbox area should be disabled\ncy.findByTestId('post_textbox_placeholder').should('have.text', 'This channel is read-only. Only members with permission can post here.');\ncy.findByTestId('post_textbox').should('be.disabled'); // # As a system admin, check the option to allow Create Posts for Members and save\nvisitAutemChannelConfigPage();\nenableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_MEMBERS);\nsaveConfig(); // # Login as a Member user and visit the same channel\nvisitAutemChannel(loginAs); // # Check Member should have the permission to create a post on a channel when the option is allowed\n// * Member user should see a message stating that this channel is read-only and the textbox area should be disabled\ncy.findByTestId('post_textbox').clear();\ncy.findByTestId('post_textbox_placeholder').should('have.text', 'Write to autem');\ncy.findByTestId('post_textbox').should('not.be.disabled');","err":{},"uuid":"06a70505-ab34-4402-b35e-4ac4a4531346","parentUUID":"7cfcde64-a55d-4558-b23c-eb3e845ad2fe","isHook":false,"skipped":false}],"suites":[],"passes":["176ddee7-7ced-441d-bd22-3af68838c890","06a70505-ab34-4402-b35e-4ac4a4531346"],"failures":[],"pending":[],"skipped":[],"duration":21749,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"f45e6201-61c4-4b5f-8ce6-0535afbfc4b3","title":"MM-23102 - Post Reactions","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Post Reactions option for Guests","fullTitle":"Channel Moderation Test MM-23102 - Post Reactions Post Reactions option for Guests","timedOut":null,"duration":16389,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var loginAs = 'guest';\nvisitAutemChannelConfigPage(); // # Uncheck the post reactions option for Guests and save\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.POST_REACTIONS_GUESTS);\nsaveConfig(); // # Login as a Guest user and visit the same channel\nvisitAutemChannel(loginAs); // # Check Guest user should not have the permission to react to any post on a channel when the option is removed.\n// * Guest user should not see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('not.exist');\n}); // # Visit Autem channel configuration page and enable post reactions for guest and save\nvisitAutemChannelConfigPage();\nenableChannelModeratedPermission(checkboxesTitleToIdMap.POST_REACTIONS_GUESTS);\nsaveConfig();\nvisitAutemChannel(loginAs); // # Check Guest user should have the permission to react to any post on a channel when the option is allowed.\n// * Guest user should see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('exist');\n});","err":{},"uuid":"4028cc1e-b39c-4120-ac8e-5b2093fcc6ad","parentUUID":"f45e6201-61c4-4b5f-8ce6-0535afbfc4b3","isHook":false,"skipped":false},{"title":"Post Reactions option for Members","fullTitle":"Channel Moderation Test MM-23102 - Post Reactions Post Reactions option for Members","timedOut":null,"duration":12744,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var loginAs = 'user-1';\nvisitAutemChannelConfigPage(); // # Uncheck the Create reactions option for Members and save\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.POST_REACTIONS_MEMBERS);\nsaveConfig(); // # Login as a Member user and visit the same channel\nvisitAutemChannel(loginAs); // # Check Member user should not have the permission to react to any post on a channel when the option is removed.\n// * Member user should not see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('not.exist');\n}); // # Visit Autem Channel configuration page and enable post reactions for memebers and save\nvisitAutemChannelConfigPage();\nenableChannelModeratedPermission(checkboxesTitleToIdMap.POST_REACTIONS_MEMBERS);\nsaveConfig(); // # Login as a Member user and visit the same channel\nvisitAutemChannel(loginAs); // # Check Member user should have the permission to react to any post on a channel when the option is allowed.\n// * Member user should see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('exist');\n});","err":{},"uuid":"6257c8b4-0fae-430f-b86c-48567d4377cd","parentUUID":"f45e6201-61c4-4b5f-8ce6-0535afbfc4b3","isHook":false,"skipped":false},{"title":"Post Reactions option removed for Guests and Members in System Scheme","fullTitle":"Channel Moderation Test MM-23102 - Post Reactions Post Reactions option removed for Guests and Members in System Scheme","timedOut":null,"duration":16079,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as sysadmin and visit the Permissions page in the system console.\n// # Edit the System Scheme and remove the Post Reaction option for Guests & Save.\ngoToSystemScheme();\ncy.get('#guests-reactions').click();\nsaveConfig(); // # Visit the Channels page and click on a channel.\nvisitAutemChannelConfigPage(); // * Assert that post reaction is disabled for guest and not disabled for members and a message is displayed\ncy.findByTestId('admin-channel_settings-channel_moderation-postReactions-disabledGuest').should('exist').and('have.text', 'Post reactions for guests are disabled in System Scheme.');\ncy.findByTestId(checkboxesTitleToIdMap.POST_REACTIONS_MEMBERS).should('not.be.disabled');\ncy.findByTestId(checkboxesTitleToIdMap.POST_REACTIONS_GUESTS).should('be.disabled'); // # Go to system admin page and then go to the system scheme and remove post reaction option for all members and save\ngoToSystemScheme();\ncy.get('#all_users-posts-reactions').click();\nsaveConfig();\nvisitAutemChannelConfigPage(); // * Post Reaction option should be disabled for a Members. A message Post reactions for guests & members are disabled in the System Scheme should be displayed.\ncy.findByTestId('admin-channel_settings-channel_moderation-postReactions-disabledBoth').should('exist').and('have.text', 'Post reactions for members and guests are disabled in System Scheme.');\ncy.findByTestId(checkboxesTitleToIdMap.POST_REACTIONS_MEMBERS).should('be.disabled');\ncy.findByTestId(checkboxesTitleToIdMap.POST_REACTIONS_GUESTS).should('be.disabled'); // # Login as a Guest user and visit the same channel\nvisitAutemChannel('guest'); // # Check Guest User should not have the permission to react to any post on any channel when the option is removed from the System Scheme.\n// * Guest user should not see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('not.exist');\n}); // # Login as a Member user and visit the same channel\nvisitAutemChannel('user-1'); // # Check Member should not have the permission to react to any post on any channel when the option is removed from the System Scheme.\n// * Member user should not see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('not.exist');\n});","err":{},"uuid":"b6d6318a-f03f-4a16-ab50-a12f38bea5a5","parentUUID":"f45e6201-61c4-4b5f-8ce6-0535afbfc4b3","isHook":false,"skipped":false},{"title":"Post Reactions option removed for Guests & Members in Team Override Scheme","fullTitle":"Channel Moderation Test MM-23102 - Post Reactions Post Reactions option removed for Guests & Members in Team Override Scheme","timedOut":null,"duration":17665,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var teamOverrideSchemeName = 'post_reactions'; // # Create a new team override scheme\ngoToPermissionsAndCreateTeamOverrideScheme(teamOverrideSchemeName);\nvisitAutemChannelConfigPage(); // * Assert that post reaction is disabled for members is not disabled\ncy.findByTestId(checkboxesTitleToIdMap.POST_REACTIONS_MEMBERS).should('not.be.disabled'); // # Go to system admin page and then go to the system scheme and remove post reaction option for all members and save\ndeleteOrEditTeamScheme('post_reactions', 'edit');\ncy.get('#all_users-posts-reactions').click();\nsaveConfig(false); // # Wait until the groups have been saved (since it redirects you)\ncy.wait(1000); //eslint-disable-line cypress/no-unnecessary-waiting\nvisitAutemChannelConfigPage(); // * Assert that post reaction is disabled for members\ncy.findByTestId('create_reactions-members').should('be.disabled'); // # Login as a Member user and visit the same channel\nvisitAutemChannel('user-1'); // # Check Member should not have the permission to react to any post on any channel in that team when the option is removed from the Team Override Scheme\n// * User should not see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('not.exist');\n});","err":{},"uuid":"0e16cd00-f77f-451d-a58b-1befbc09a84c","parentUUID":"f45e6201-61c4-4b5f-8ce6-0535afbfc4b3","isHook":false,"skipped":false}],"suites":[],"passes":["4028cc1e-b39c-4120-ac8e-5b2093fcc6ad","6257c8b4-0fae-430f-b86c-48567d4377cd","b6d6318a-f03f-4a16-ab50-a12f38bea5a5","0e16cd00-f77f-451d-a58b-1befbc09a84c"],"failures":[],"pending":[],"skipped":[],"duration":62877,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"8a2d5c55-0d89-46a5-aef0-a03db5bf9623","title":"MM-23102 - Manage Members","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"No option to Manage Members for Guests","fullTitle":"Channel Moderation Test MM-23102 - Manage Members No option to Manage Members for Guests","timedOut":null,"duration":7542,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitAutemChannelConfigPage(); // * Assert that Manage Members for Guests does not exist (checkbox is not there)\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_GUESTS).should('not.exist');\nvisitAutemChannel('guest'); // # View members modal\nviewManageChannelMembersModal('View'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('not.exist');","err":{},"uuid":"5dc005a0-78f3-42b0-9cce-b639f417dd60","parentUUID":"8a2d5c55-0d89-46a5-aef0-a03db5bf9623","isHook":false,"skipped":false},{"title":"Manage Members option for Members","fullTitle":"Channel Moderation Test MM-23102 - Manage Members Manage Members option for Members","timedOut":null,"duration":14964,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit Autem channel page and turn off the Manage members for Members and then save\nvisitAutemChannelConfigPage();\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS);\nsaveConfig();\nvisitAutemChannel('user-1');\nviewManageChannelMembersModal('View'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('not.exist'); // # Visit Autem channel page and turn off the Manage members for Members and then save\nvisitAutemChannelConfigPage();\nenableChannelModeratedPermission(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS);\nsaveConfig();\nvisitAutemChannel('user-1');\nviewManageChannelMembersModal('Manage'); // * Add Members button does exist\ncy.get('#showInviteModal').should('exist');","err":{},"uuid":"2164329e-6a09-4d65-abee-2e1c1264f759","parentUUID":"8a2d5c55-0d89-46a5-aef0-a03db5bf9623","isHook":false,"skipped":false},{"title":"Manage Members option removed for Members in System Scheme","fullTitle":"Channel Moderation Test MM-23102 - Manage Members Manage Members option removed for Members in System Scheme","timedOut":null,"duration":10904,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// Edit the System Scheme and remove the Manage Members option for Members & Save.\ngoToSystemScheme();\ncy.get('#all_users-public_channel-manage_public_channel_members').click();\nsaveConfig(); // # Visit Autem channel page and turn off the Manage members for Members and then save\nvisitAutemChannelConfigPage(); // * Assert that Manage Members option should be disabled for a Members.\n// * A message Manage members for members are disabled in the System Scheme should be displayed.\ncy.findByTestId('admin-channel_settings-channel_moderation-manageMembers-disabledMember').should('exist').and('have.text', 'Manage members for members are disabled in System Scheme.');\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('be.disabled');\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_GUESTS).should('not.exist');\nvisitAutemChannel('user-1');\nviewManageChannelMembersModal('View'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('not.exist');","err":{},"uuid":"be815d9e-73fc-43d0-b7cd-78bb4724502d","parentUUID":"8a2d5c55-0d89-46a5-aef0-a03db5bf9623","isHook":false,"skipped":false},{"title":"Manage Members option removed for Members in Team Override Scheme","fullTitle":"Channel Moderation Test MM-23102 - Manage Members Manage Members option removed for Members in Team Override Scheme","timedOut":null,"duration":16302,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create a new team override scheme and remove manage members option for members\ngoToPermissionsAndCreateTeamOverrideScheme('manage_members');\ndeleteOrEditTeamScheme('manage_members', 'edit');\ncy.get('#all_users-public_channel-manage_public_channel_members').click();\nsaveConfig(false);\ncy.wait(1000); //eslint-disable-line cypress/no-unnecessary-waiting\n// * Assert that Manage Members is disabled for members and a message is displayed\nvisitAutemChannelConfigPage();\ncy.findByTestId('admin-channel_settings-channel_moderation-manageMembers-disabledMember').should('exist').and('have.text', 'Manage members for members are disabled in manage_members Team Scheme.');\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('be.disabled');\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_GUESTS).should('not.exist');\nvisitAutemChannel('user-1');\nviewManageChannelMembersModal('View'); // * Add Members button does not exist in manage channel members modal\ncy.get('#showInviteModal').should('not.exist');","err":{},"uuid":"27e765ea-d1cd-4719-aa60-a110cc276ac2","parentUUID":"8a2d5c55-0d89-46a5-aef0-a03db5bf9623","isHook":false,"skipped":false}],"suites":[],"passes":["5dc005a0-78f3-42b0-9cce-b639f417dd60","2164329e-6a09-4d65-abee-2e1c1264f759","be815d9e-73fc-43d0-b7cd-78bb4724502d","27e765ea-d1cd-4719-aa60-a110cc276ac2"],"failures":[],"pending":[],"skipped":[],"duration":49712,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"e0dfe701-71f2-4a2a-a4f4-413e3b7e7dcb","title":"MM-23102 - Channel Mentions","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Channel Mentions option for Guests","fullTitle":"Channel Moderation Test MM-23102 - Channel Mentions Channel Mentions option for Guests","timedOut":null,"duration":24849,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Uncheck the Channel Mentions option for Guests and save\nvisitAutemChannelConfigPage();\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CHANNEL_MENTIONS_GUESTS);\nsaveConfig();\nvisitAutemChannel('guest'); // # Check Guest user has the permission to user special mentions like @all @channel and @here\npostChannelMentionsAndVerifySystemMessageExist(); // # Visit Channel page and Search for the channel.\nvisitAutemChannelConfigPage(); // # check the channel mentions option for guests and save\nenableChannelModeratedPermission(checkboxesTitleToIdMap.CHANNEL_MENTIONS_GUESTS);\nsaveConfig();\nvisitAutemChannel('guest'); // # Check Guest user has the permission to user special mentions like @all @channel and @here\npostChannelMentionsAndVerifySystemMessageNotExist();","err":{},"uuid":"65f3a8ec-6e13-486d-b6f5-0c078cf4e65f","parentUUID":"e0dfe701-71f2-4a2a-a4f4-413e3b7e7dcb","isHook":false,"skipped":false},{"title":"Channel Mentions option for Members","fullTitle":"Channel Moderation Test MM-23102 - Channel Mentions Channel Mentions option for Members","timedOut":null,"duration":24575,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit Channel page and Search for the channel.\nvisitAutemChannelConfigPage(); // # Uncheck the channel mentions option for guests and save\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CHANNEL_MENTIONS_MEMBERS);\nsaveConfig();\nvisitAutemChannel('user-1'); // # Check Member user does not has the permission to use special mentions like @all @channel and @here\npostChannelMentionsAndVerifySystemMessageExist(); // # Visit Channel page and Search for the channel.\nvisitAutemChannelConfigPage(); // # check the channel mentions option for guests and save\nenableChannelModeratedPermission(checkboxesTitleToIdMap.CHANNEL_MENTIONS_MEMBERS);\nsaveConfig();\nvisitAutemChannel('user-1'); // # Check Member user has the permission to user special mentions like @all @channel and @here\npostChannelMentionsAndVerifySystemMessageNotExist();","err":{},"uuid":"ff55ba24-78d7-4931-9294-c1d9b158f89f","parentUUID":"e0dfe701-71f2-4a2a-a4f4-413e3b7e7dcb","isHook":false,"skipped":false},{"title":"Channel Mentions option removed when Create Post is disabled","fullTitle":"Channel Moderation Test MM-23102 - Channel Mentions Channel Mentions option removed when Create Post is disabled","timedOut":null,"duration":6381,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit Channel page and Search for the channel.\nvisitAutemChannelConfigPage(); // # Uncheck the create posts option for guests\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_GUESTS); // * Option to allow Channel Mentions for Guests should also be disabled when Create Post option is disabled.\n// * A message Guests can not use channel mentions without the ability to create posts should be displayed.\ncy.findByTestId('admin-channel_settings-channel_moderation-channelMentions-disabledGuestsDueToCreatePosts').should('have.text', 'Guests can not use channel mentions without the ability to create posts.');\ncy.findByTestId(checkboxesTitleToIdMap.CHANNEL_MENTIONS_GUESTS).should('be.disabled'); // # check the create posts option for guests and uncheck for memebers\nenableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_GUESTS);\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_MEMBERS); // * Option to allow Channel Mentions for Members should also be disabled when Create Post option is disabled.\n// * A message Members can not use channel mentions without the ability to create posts should be displayed.\ncy.findByTestId('admin-channel_settings-channel_moderation-channelMentions-disabledMemberDueToCreatePosts').should('have.text', 'Members can not use channel mentions without the ability to create posts.');\ncy.findByTestId(checkboxesTitleToIdMap.CHANNEL_MENTIONS_MEMBERS).should('be.disabled'); // # Uncheck the create posts option for guests\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_GUESTS); // * Ensure that channel mentions for members and guests is disabled\n// * Ensure message Guests & Members can not use channel mentions without the ability to create posts\ncy.findByTestId('admin-channel_settings-channel_moderation-channelMentions-disabledBothDueToCreatePosts').should('have.text', 'Guests and members can not use channel mentions without the ability to create posts.');\ncy.findByTestId(checkboxesTitleToIdMap.CHANNEL_MENTIONS_GUESTS).should('be.disabled');\ncy.findByTestId(checkboxesTitleToIdMap.CHANNEL_MENTIONS_MEMBERS).should('be.disabled');","err":{},"uuid":"9e6422c1-7a74-4834-abdb-a580df9d63af","parentUUID":"e0dfe701-71f2-4a2a-a4f4-413e3b7e7dcb","isHook":false,"skipped":false},{"title":"Message when user without channel mention permission uses special channel mentions","fullTitle":"Channel Moderation Test MM-23102 - Channel Mentions Message when user without channel mention permission uses special channel mentions","timedOut":null,"duration":13651,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitAutemChannelConfigPage();\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CHANNEL_MENTIONS_MEMBERS);\nsaveConfig();\nvisitAutemChannel('user-1');\ncy.findByTestId('post_textbox').clear().type('@'); // * Ensure that @here, @all, and @channel do not show up in the autocomplete list\ncy.findAllByTestId('mentionSuggestion_here').should('not.exist');\ncy.findAllByTestId('mentionSuggestion_all').should('not.exist');\ncy.findAllByTestId('mentionSuggestion_channel').should('not.exist'); // * When you type @all, @enter, and @channel make sure that a system message shows up notifying you nothing happened.\npostChannelMentionsAndVerifySystemMessageExist();","err":{},"uuid":"399d114b-158a-47fa-b301-4a8b64ed5c19","parentUUID":"e0dfe701-71f2-4a2a-a4f4-413e3b7e7dcb","isHook":false,"skipped":false},{"title":"Confirm sending notifications while using special channel mentions","fullTitle":"Channel Moderation Test MM-23102 - Channel Mentions Confirm sending notifications while using special channel mentions","timedOut":null,"duration":13911,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit Channel page and Search for the channel.\nvisitAutemChannelConfigPage();\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CHANNEL_MENTIONS_MEMBERS);\nsaveConfig(); // # Set @channel and @all confirmation dialog to true\ncy.visit('admin_console/environment/notifications');\ncy.findByTestId('TeamSettings.EnableConfirmNotificationsToChanneltrue').check();\nsaveConfig(); // # Visit autem channel\nvisitAutemChannel('user-1'); // * Type at all and enter that no confirmation dialogue shows up\ncy.findByTestId('post_textbox').clear().type('@all{enter}');\ncy.get('#confirmModalLabel').should('not.exist'); // * Type at channel and enter that no confirmation dialogue shows up\ncy.findByTestId('post_textbox').clear().type('@channel{enter}');\ncy.get('#confirmModalLabel').should('not.exist'); // * Type at here and enter that no confirmation dialogue shows up\ncy.findByTestId('post_textbox').clear().type('@here{enter}');\ncy.get('#confirmModalLabel').should('not.exist');","err":{},"uuid":"8bdfe30f-2da9-41c5-977b-6d5262741e88","parentUUID":"e0dfe701-71f2-4a2a-a4f4-413e3b7e7dcb","isHook":false,"skipped":false}],"suites":[],"passes":["65f3a8ec-6e13-486d-b6f5-0c078cf4e65f","ff55ba24-78d7-4931-9294-c1d9b158f89f","9e6422c1-7a74-4834-abdb-a580df9d63af","399d114b-158a-47fa-b301-4a8b64ed5c19","8bdfe30f-2da9-41c5-977b-6d5262741e88"],"failures":[],"pending":[],"skipped":[],"duration":83367,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"55015bfa-20cd-4b24-878c-cbc74baaff67","title":"MM-23102 - Higher Scoped Scheme","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Effect of changing System Schemes on a Channel for which Channel Moderation Settings was modified","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Effect of changing System Schemes on a Channel for which Channel Moderation Settings was modified","timedOut":null,"duration":16187,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit Channel page and Search for the channel.\nvisitAutemChannelConfigPage();\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS);\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CHANNEL_MENTIONS_MEMBERS);\nsaveConfig(); // # check the channel mentions option for guests and save\nenableChannelModeratedPermission(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS);\nsaveConfig();\ngoToSystemScheme();\ncy.get('#all_users-public_channel-manage_public_channel_members').click();\nsaveConfig(); // * Ensure manange members for members is disabled\nvisitAutemChannelConfigPage();\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('be.disabled');\nvisitAutemChannel('user-1'); // # View members modal\nviewManageChannelMembersModal('View'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('not.exist');","err":{},"uuid":"d08126c2-fbc2-4aa2-ade6-386dcbd5fcb6","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false},{"title":"Effect of changing System Schemes on a Channel for which Channel Moderation Settings was never modified","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Effect of changing System Schemes on a Channel for which Channel Moderation Settings was never modified","timedOut":null,"duration":16157,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Reset system scheme to default and create a new channel to ensure that this channels moderation settings have never been modified\nvar randomChannelName = 'NeverModifiedChannel' + (0, _utils.getRandomInt)(1000);\ncreateNewChannel(randomChannelName, 'sysadmin');\ngoToSystemScheme();\ncy.get('#all_users-public_channel-manage_public_channel_members').click();\nsaveConfig(); // # Visit Channel page and Search for the channel.\n// * ensure manange members for members is disabled\nvisitChannelConfigPage(randomChannelName);\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('be.disabled');\nvisitChannel('user-1', randomChannelName.toLowerCase()); // # View members modal\nviewManageChannelMembersModal('View'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('not.exist');","err":{},"uuid":"1fa6c0df-1b05-40a0-8e43-8533bb0c354c","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false},{"title":"Effect of changing Team Override Schemes on a Channel for which Channel Moderation Settings was never modified","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Effect of changing Team Override Schemes on a Channel for which Channel Moderation Settings was never modified","timedOut":null,"duration":22204,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Reset system scheme to default and create a new channel to ensure that this channels moderation settings have never been modified\nvar randomChannelName = 'NeverModifiedChannel' + (0, _utils.getRandomInt)(1000);\ncreateNewChannel(randomChannelName, 'sysadmin');\ngoToPermissionsAndCreateTeamOverrideScheme(\"\".concat(randomChannelName));\ndeleteOrEditTeamScheme(\"\".concat(randomChannelName), 'edit');\ncy.get('#all_users-public_channel-manage_public_channel_members').click();\nsaveConfig(false); // # Visit Channel page and Search for the channel.\n// * Assert message for manage member for members appears and that it's disabled\nvisitChannelConfigPage(randomChannelName);\ncy.findByTestId('admin-channel_settings-channel_moderation-manageMembers-disabledMember').should('have.text', \"Manage members for members are disabled in \".concat(randomChannelName, \" Team Scheme.\"));\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('be.disabled');\nvisitChannel('user-1', randomChannelName.toLowerCase()); // # View members modal\nviewManageChannelMembersModal('View'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('not.exist');","err":{},"uuid":"eb976488-c786-423a-a431-5912a361d6cf","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false},{"title":"Effect of changing Team Override Schemes on a Channel for which Channel Moderation Settings was modified","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Effect of changing Team Override Schemes on a Channel for which Channel Moderation Settings was modified","timedOut":null,"duration":23560,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var teamOverrideSchemeName = 'autem' + (0, _utils.getRandomInt)(1000); // # Reset system scheme to default and create a new channel to ensure that this channels moderation settings have never been modified\nvisitAutemChannelConfigPage();\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS);\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CHANNEL_MENTIONS_MEMBERS);\nsaveConfig();\nenableChannelModeratedPermission(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS);\nsaveConfig();\ngoToPermissionsAndCreateTeamOverrideScheme(\"\".concat(teamOverrideSchemeName));\ndeleteOrEditTeamScheme(\"\".concat(teamOverrideSchemeName), 'edit');\ncy.get('#all_users-public_channel-manage_public_channel_members').click();\nsaveConfig(false); // # Visit Channel page and Search for the channel.\n// * Assert message shows and manage members for members is disabled\nvisitAutemChannelConfigPage();\ncy.findByTestId('admin-channel_settings-channel_moderation-manageMembers-disabledMember').should('have.text', \"Manage members for members are disabled in \".concat(teamOverrideSchemeName, \" Team Scheme.\"));\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('be.disabled');\nvisitAutemChannel(); // # View members modal\nviewManageChannelMembersModal('View'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('not.exist');","err":{},"uuid":"e614417b-a976-478a-a37b-867636d6abfd","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false},{"title":"Manage Members removed for Public Channels","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Manage Members removed for Public Channels","timedOut":null,"duration":17267,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var teamOverrideSchemeName = 'autem' + (0, _utils.getRandomInt)(1000); // # Create a new team override scheme and remove manage public channel members\ngoToPermissionsAndCreateTeamOverrideScheme(\"\".concat(teamOverrideSchemeName));\ndeleteOrEditTeamScheme(\"\".concat(teamOverrideSchemeName), 'edit');\ncy.get('#all_users-public_channel-manage_public_channel_members').click(); // * Ensure that manage private channel members is checked\ncy.get('#all_users-private_channel-manage_private_channel_members').children().should('have.class', 'checked');\nsaveConfig(false); // # Visit Channel page and Search for the channel.\n// * Ensure message is disabled and manage members for members is disabled\nvisitAutemChannelConfigPage();\ncy.findByTestId('allow-all-toggle').should('has.have.text', 'Public');\ncy.findByTestId('admin-channel_settings-channel_moderation-manageMembers-disabledMember').should('have.text', \"Manage members for members are disabled in \".concat(teamOverrideSchemeName, \" Team Scheme.\"));\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('be.disabled'); // # Turn channel into a private channel\ncy.findByTestId('allow-all-toggle').click();\nsaveConfig(true, true); // * Ensure it is private and no error message is shown and that manage members for members is not disabled\ncy.findByTestId('allow-all-toggle').should('has.have.text', 'Private');\ncy.findByTestId('admin-channel_settings-channel_moderation-manageMembers-disabledMember').should('not.have.text', \"Manage members for members are disabled in \".concat(teamOverrideSchemeName, \" Team Scheme.\"));\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('not.be.disabled'); // # Turn channel back to public channel\ncy.findByTestId('allow-all-toggle').click();\nsaveConfig(true, true); // * ensure it got reverted back to a Public channel\ncy.findByTestId('allow-all-toggle').should('has.have.text', 'Public');","err":{},"uuid":"1e204ca1-0165-4ed7-ac42-d0ead94744b4","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false},{"title":"Manage Members removed for Private Channels / Permissions inherited when channel converted from Public to Private","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Manage Members removed for Private Channels / Permissions inherited when channel converted from Public to Private","timedOut":null,"duration":17338,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var teamOverrideSchemeName = 'autem' + (0, _utils.getRandomInt)(1000); // # Create a new team override scheme and remove manage private channel members from it\n// * Ensure that manage public channel members is checked\ngoToPermissionsAndCreateTeamOverrideScheme(\"\".concat(teamOverrideSchemeName));\ndeleteOrEditTeamScheme(\"\".concat(teamOverrideSchemeName), 'edit');\ncy.get('#all_users-private_channel-manage_private_channel_members').click();\ncy.get('#all_users-public_channel-manage_public_channel_members').children().should('have.class', 'checked');\nsaveConfig(false); // # Visit Channel page and Search for the channel.\nvisitAutemChannelConfigPage(); // * Ensure that error message is not displayed and manage members for members is not disabled\ncy.findByTestId('allow-all-toggle').should('has.have.text', 'Public');\ncy.findByTestId('admin-channel_settings-channel_moderation-manageMembers-disabledMember').should('not.have.text', \"Manage members for members are disabled in \".concat(teamOverrideSchemeName, \" Team Scheme.\"));\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('not.be.disabled'); // # Turn it into a private channel\ncy.findByTestId('allow-all-toggle').click();\nsaveConfig(true, true); // * Ensure it is a private channel and that a message is disabled and also manage members for members is disabled\ncy.findByTestId('allow-all-toggle').should('has.have.text', 'Private');\ncy.findByTestId('admin-channel_settings-channel_moderation-manageMembers-disabledMember').should('have.text', \"Manage members for members are disabled in \".concat(teamOverrideSchemeName, \" Team Scheme.\"));\ncy.findByTestId(checkboxesTitleToIdMap.MANAGE_MEMBERS_MEMBERS).should('be.disabled'); // # Turn channel back to public channel\ncy.findByTestId('allow-all-toggle').click();\nsaveConfig(true, true); // * Ensure it got reset back to a public channel\ncy.findByTestId('allow-all-toggle').should('has.have.text', 'Public');","err":{},"uuid":"8e713b4b-40cc-4358-8c89-6b8ad1974c34","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false},{"title":"Check if user is allowed to Edit or Delete their own posts on a Read-Only channel","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Check if user is allowed to Edit or Delete their own posts on a Read-Only channel","timedOut":null,"duration":17345,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitAutemChannel('user-1');\ncy.findByTestId('post_textbox').clear().type('testMessage123123{enter}');\ncy.findByTestId('post_textbox_placeholder').should('not.have.text', 'This channel is read-only. Only members with permission can post here.');\ncy.findByTestId('post_textbox').should('not.be.disabled');\nvisitChannelConfigPage('autem');\ndisableChannelModeratedPermission(checkboxesTitleToIdMap.CREATE_POSTS_MEMBERS);\nsaveConfig();\nvisitAutemChannel('user-1'); // * user should see a message stating that this channel is read-only and the textbox area should be disabled\ncy.findByTestId('post_textbox_placeholder').should('have.text', 'This channel is read-only. Only members with permission can post here.');\ncy.findByTestId('post_textbox').should('be.disabled');\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostDotMenu(postId); // * As per test case, ensure edit and delete button show up\n  cy.get(\"#edit_post_\".concat(postId)).should('exist');\n  cy.get(\"#delete_post_\".concat(postId)).should('exist');\n});","err":{},"uuid":"e83e5f4d-80f0-4dce-9315-66101172bc03","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false},{"title":"Channel Moderation Settings should not be applied for Channel Admins","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Channel Moderation Settings should not be applied for Channel Admins","timedOut":null,"duration":12813,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"enableDisableAllChannelModeratedPermissionsViaAPI(autemChannelId, false);\nvisitAutemChannel('user-1');\ncy.apiGetMe().then(function (res) {\n  promoteToChannelOrTeamAdmin(res.body.id, autemChannelId);\n}); // * Assert user can post message and user channel mentions\npostChannelMentionsAndVerifySystemMessageNotExist(); // # Check Channel Admin have the permission to react to any post on a channel when all channel moderation permissions are off.\n// * Channel Admin should see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('exist');\n}); // # View members modal\nviewManageChannelMembersModal('Manage'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('exist');\ncy.apiGetMe().then(function (res) {\n  demoteToChannelOrTeamMember(res.body.id, autemChannelId);\n});","err":{},"uuid":"64fbdd18-b4e7-4e2a-ab82-06c888d3ada5","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false},{"title":"Channel Moderation Settings should not be applied for Team Admins","fullTitle":"Channel Moderation Test MM-23102 - Higher Scoped Scheme Channel Moderation Settings should not be applied for Team Admins","timedOut":null,"duration":12786,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"enableDisableAllChannelModeratedPermissionsViaAPI(autemChannelId, false);\nvisitAutemChannel('user-1');\ncy.apiGetMe().then(function (res) {\n  cy.getCurrentTeamId().then(function (teamId) {\n    promoteToChannelOrTeamAdmin(res.body.id, teamId, 'teams');\n  });\n}); // * Assert user can post message and user channel mentions\npostChannelMentionsAndVerifySystemMessageNotExist(); // # Check Channel Admin have the permission to react to any post on a channel when all channel moderation permissions are off.\n// * Channel Admin should see the smiley face that allows a user to react to a post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.findByTestId('post-reaction-emoji-icon').should('exist');\n}); // # View members modal\nviewManageChannelMembersModal('Manage'); // * Add Members button does not exist\ncy.get('#showInviteModal').should('exist');\ncy.apiGetMe().then(function (res) {\n  cy.getCurrentTeamId().then(function (teamId) {\n    demoteToChannelOrTeamMember(res.body.id, teamId, 'teams');\n  });\n});","err":{},"uuid":"aa474819-de1c-4765-9ddb-312f86176dde","parentUUID":"55015bfa-20cd-4b24-878c-cbc74baaff67","isHook":false,"skipped":false}],"suites":[],"passes":["d08126c2-fbc2-4aa2-ade6-386dcbd5fcb6","1fa6c0df-1b05-40a0-8e43-8533bb0c354c","eb976488-c786-423a-a431-5912a361d6cf","e614417b-a976-478a-a37b-867636d6abfd","1e204ca1-0165-4ed7-ac42-d0ead94744b4","8e713b4b-40cc-4358-8c89-6b8ad1974c34","e83e5f4d-80f0-4dce-9315-66101172bc03","64fbdd18-b4e7-4e2a-ab82-06c888d3ada5","aa474819-de1c-4765-9ddb-312f86176dde"],"failures":[],"pending":[],"skipped":[],"duration":155657,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":["623f3c78-4ef0-4e81-afa0-3af382084046"],"failures":[],"pending":[],"skipped":[],"duration":16227,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"ef3d5ca4-7fcd-4d4b-8f34-61683389dcc7","title":"","fullFile":"cypress/integration/enterprise/system_console/sidebar_link_navigation_spec.js","file":"cypress/integration/enterprise/system_console/sidebar_link_navigation_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","title":"System Console - Enterprise","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"can navigate to Groups (Beta)","fullTitle":"System Console - Enterprise can navigate to Groups (Beta)","timedOut":null,"duration":3632,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"76c6f0d0-dfdf-458c-846b-cf9cca925885","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Mattermost Teams","fullTitle":"System Console - Enterprise can navigate to Mattermost Teams","timedOut":null,"duration":1470,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"c3a60541-1aef-4889-b4cc-c47044dbf103","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Mattermost Channels","fullTitle":"System Console - Enterprise can navigate to Mattermost Channels","timedOut":null,"duration":1403,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"2205c44d-9dfe-499e-9c29-c01c403a3e76","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Permission Schemes","fullTitle":"System Console - Enterprise can navigate to Permission Schemes","timedOut":null,"duration":1456,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"17086702-2b14-4dbf-a9ea-97fc9aa6f3df","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Elasticsearch","fullTitle":"System Console - Enterprise can navigate to Elasticsearch","timedOut":null,"duration":1632,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"c9e9c87e-062c-4a3b-9852-e5753ece0444","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to High Availability","fullTitle":"System Console - Enterprise can navigate to High Availability","timedOut":null,"duration":1451,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"625a8e9f-92d7-42ad-94e8-d56ecf1b4985","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Performance Monitoring","fullTitle":"System Console - Enterprise can navigate to Performance Monitoring","timedOut":null,"duration":1466,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"9957340d-bbd1-4004-9e0f-af54487b2d66","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Announcement Banner","fullTitle":"System Console - Enterprise can navigate to Announcement Banner","timedOut":null,"duration":1461,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"f5704d98-8dce-4c71-a7bc-04902b4894eb","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to AD/LDAP","fullTitle":"System Console - Enterprise can navigate to AD/LDAP","timedOut":null,"duration":1654,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"7973f0e0-41dd-49b2-8fc8-d7f87fa6bf64","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to SAML 2.0","fullTitle":"System Console - Enterprise can navigate to SAML 2.0","timedOut":null,"duration":1582,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"6bb8b69b-9a39-4c53-a9d1-bbacfedad6e2","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to OAuth 2.0","fullTitle":"System Console - Enterprise can navigate to OAuth 2.0","timedOut":null,"duration":1568,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"4dc384dc-5e43-4e0b-ad0b-6e114fb72776","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Guest Access (Beta)","fullTitle":"System Console - Enterprise can navigate to Guest Access (Beta)","timedOut":null,"duration":1603,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"b935b885-c3be-4b4d-8367-aaeef2774cf5","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Data Retention Policy","fullTitle":"System Console - Enterprise can navigate to Data Retention Policy","timedOut":null,"duration":1665,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"6b15472d-beaa-4718-8aa5-ca480df221d1","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Compliance Export (Beta)","fullTitle":"System Console - Enterprise can navigate to Compliance Export (Beta)","timedOut":null,"duration":1748,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"a6a9b2e4-160b-46f5-9ad0-207f8880b362","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Compliance Monitoring","fullTitle":"System Console - Enterprise can navigate to Compliance Monitoring","timedOut":null,"duration":2364,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"8500a484-e381-441c-b71a-233c175b474c","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false},{"title":"can navigate to Custom Terms of Service (Beta)","fullTitle":"System Console - Enterprise can navigate to Custom Terms of Service (Beta)","timedOut":null,"duration":2838,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and('have.text', testCase.header);\n});","err":{},"uuid":"c2aae24a-20fd-428f-a46b-b6b1ec955cba","parentUUID":"5d15c6bd-bc66-4864-b2d2-0f8a79bebc8c","isHook":false,"skipped":false}],"suites":[],"passes":["76c6f0d0-dfdf-458c-846b-cf9cca925885","c3a60541-1aef-4889-b4cc-c47044dbf103","2205c44d-9dfe-499e-9c29-c01c403a3e76","17086702-2b14-4dbf-a9ea-97fc9aa6f3df","c9e9c87e-062c-4a3b-9852-e5753ece0444","625a8e9f-92d7-42ad-94e8-d56ecf1b4985","9957340d-bbd1-4004-9e0f-af54487b2d66","f5704d98-8dce-4c71-a7bc-04902b4894eb","7973f0e0-41dd-49b2-8fc8-d7f87fa6bf64","6bb8b69b-9a39-4c53-a9d1-bbacfedad6e2","4dc384dc-5e43-4e0b-ad0b-6e114fb72776","b935b885-c3be-4b4d-8367-aaeef2774cf5","6b15472d-beaa-4718-8aa5-ca480df221d1","a6a9b2e4-160b-46f5-9ad0-207f8880b362","8500a484-e381-441c-b71a-233c175b474c","c2aae24a-20fd-428f-a46b-b6b1ec955cba"],"failures":[],"pending":[],"skipped":[],"duration":28993,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b1ba08e8-1d90-4d02-8569-fdfd84c1db89","title":"","fullFile":"cypress/integration/enterprise/system_console/team_guest_channel_spec.js","file":"cypress/integration/enterprise/system_console/team_guest_channel_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5d11aea4-6461-4670-9e46-b53a9bcef612","title":"Team Scheme Guest Permissions Test","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM- - Enable and Disable all guest permission","fullTitle":"Team Scheme Guest Permissions Test MM- - Enable and Disable all guest permission","timedOut":null,"duration":7329,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to team override scheme.\ncy.visit('/admin_console/user_management/permissions/team_override_scheme'); // # create unique scheme name\nvar uniqueNumber = (0, _utils.getRandomInt)(1000);\ncy.get('#scheme-name').type(\"TestScheme-\".concat(uniqueNumber, \"{enter}\")); // // # Wait until the groups retrieved and show up\n// cy.wait(TIMEOUTS.TINY); //eslint-disable-line cypress/no-unnecessary-waiting\n// # Check all the boxes currently unchecked\nenableAllGuestPermissions(); // # Save if possible (if previous test ended abruptly all permissions may already be enabled)\ncy.get('#saveSetting').click().wait(TIMEOUTS.TINY); // # Reload the team scheme.\ncy.findByText(\"TestScheme-\".concat(uniqueNumber)).siblings('.actions').children('.edit-button').click().wait(TIMEOUTS.TINY); // * Ensure all checkboxes are checked\nverifyAllGuestPermissions(true); // # Uncheck all the boxes currently checked\ndisableAllGuestPermissions(); // # Save the page\ncy.get('#saveSetting').click().wait(TIMEOUTS.TINY); // #Reload the team scheme.\ncy.findByText(\"TestScheme-\".concat(uniqueNumber)).siblings('.actions').children('.edit-button').click().wait(TIMEOUTS.TINY); // * Ensure all checkboxes have the correct unchecked state\nverifyAllGuestPermissions(false);\ncy.get('.cancel-button').click(); //Clean up - Delete scheme\ncy.findByText(\"TestScheme-\".concat(uniqueNumber)).siblings('.actions').children('.delete-button').click().wait(TIMEOUTS.TINY);\ncy.get('#confirmModalButton').click();","err":{},"uuid":"cc166f2a-1c62-455c-8fcb-dd53c3c0ad72","parentUUID":"5d11aea4-6461-4670-9e46-b53a9bcef612","isHook":false,"skipped":false}],"suites":[],"passes":["cc166f2a-1c62-455c-8fcb-dd53c3c0ad72"],"failures":[],"pending":[],"skipped":[],"duration":7329,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"1a32649f-8df5-49ad-9b9b-21ef9d785a97","title":"","fullFile":"cypress/integration/enterprise/system_console/ui_and_api/notifications_spec.js","file":"cypress/integration/enterprise/system_console/ui_and_api/notifications_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"88740e3e-44ea-430b-a300-9adc222b5543","title":"System Console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Push Notification Contents","fullTitle":"System Console Push Notification Contents","timedOut":null,"duration":4819,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify that setting is visible and matches text content\ncy.findByTestId('EmailSettings.PushNotificationContents').scrollIntoView().should('be.visible').find('label').should('be.visible').and('have.text', 'Push Notification Contents:'); // * Verify that the help text is visible and matches text content\ncy.findByTestId('EmailSettings.PushNotificationContentshelp-text').should('be.visible').within(function (el) {\n  var contents = ['Generic description with only sender name', ' - Includes only the name of the person who sent the message in push notifications, with no information about channel name or message contents. ', 'Generic description with sender and channel names', ' - Includes the name of the person who sent the message and the channel it was sent in, but not the message contents. ', 'Full message content sent in the notification payload', ' - Includes the message contents in the push notification payload that is relayed through Apple\\'s Push Notification Service (APNS) or Google\\'s Firebase Cloud Messaging (FCM). It is ', 'highly recommended', ' this option only be used with an \"https\" protocol to encrypt the connection and protect confidential information sent in messages.', 'Full message content fetched from the server on receipt', ' - The notification payload relayed through APNS or FCM contains no message content, instead it contains a unique message ID used to fetch message content from the server when a push notification is received by a device. If the server cannot be reached, a generic notification will be displayed.'];\n  cy.wrap(el).should('have.text', contents.join(''));\n  cy.get('strong').eq(0).should('have.text', contents[0]);\n  cy.get('strong').eq(1).should('have.text', contents[2]);\n  cy.get('strong').eq(2).should('have.text', contents[4]);\n  cy.get('strong').eq(3).should('have.text', contents[6]);\n  cy.get('strong').eq(4).should('have.text', contents[8]);\n}); // * Verify that the option/dropdown is visible and has default value\ncy.findByTestId('EmailSettings.PushNotificationContentsdropdown').should('be.visible').and('have.value', 'full');\nvar options = [{\n  label: 'Generic description with only sender name',\n  value: 'generic_no_channel'\n}, {\n  label: 'Generic description with sender and channel names',\n  value: 'generic'\n}, {\n  label: 'Full message content sent in the notification payload',\n  value: 'full'\n}, {\n  label: 'Full message content fetched from the server on receipt',\n  value: 'id_loaded'\n}]; // # Select each value and save\n// * Verify that the config is correctly saved in the server\noptions.forEach(function (option) {\n  cy.findByTestId('EmailSettings.PushNotificationContentsdropdown').select(option.label).and('have.value', option.value);\n  cy.get('#saveSetting').click();\n  cy.apiGetConfig().then(function (response) {\n    expect(response.body.EmailSettings.PushNotificationContents).to.equal(option.value);\n  });\n});","err":{},"uuid":"e56e7d4a-a82d-4160-9bb3-bb4f5501054c","parentUUID":"88740e3e-44ea-430b-a300-9adc222b5543","isHook":false,"skipped":false}],"suites":[],"passes":["e56e7d4a-a82d-4160-9bb3-bb4f5501054c"],"failures":[],"pending":[],"skipped":[],"duration":4819,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"267339d7-2b03-457b-a279-2aaab6c2ee71","title":"","fullFile":"cypress/integration/enterprise/system_console/use_channel_mentions_system_scheme_spec.js","file":"cypress/integration/enterprise/system_console/use_channel_mentions_system_scheme_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"337480cb-4d8d-49d9-9104-774a08b400a7","title":"System Scheme Channel Mentions Permissions Test","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-23018 - Enable and Disable Channel Mentions","fullTitle":"System Scheme Channel Mentions Permissions Test MM-23018 - Enable and Disable Channel Mentions","timedOut":null,"duration":47382,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var permissionName = 'use_channel_mentions';\nvar guestsTestId = \"guests-\".concat(permissionName, \"-checkbox\");\nvar usersTestId = \"all_users-posts-\".concat(permissionName, \"-checkbox\");\nvar channelTestId = \"channel_admin-posts-\".concat(permissionName, \"-checkbox\");\nvar teamTestId = \"team_admin-posts-\".concat(permissionName, \"-checkbox\");\nvar testIds = [guestsTestId, usersTestId, channelTestId, teamTestId]; // # Setup user as a regular channel member and team member\nsetUserTeamAndChannelMemberships(); // * Ensure user can use channel mentions by default\nchannelMentionsPermissionCheck(true); // # Go to system permissions scheme page as sysadmin\ncy.apiLogin('sysadmin');\ncy.visit('/admin_console/user_management/permissions/system_scheme'); // * Ensure permission is enabled at each scope by default\ntestIds.forEach(function (testId) {\n  cy.findByTestId(testId).should('have.class', 'checked');\n}); // # Remove permission from guests and save\nremovePermission(guestsTestId);\nsaveConfig(); // * Ensure that the permission removed is now removed\ncy.findByTestId(guestsTestId).should('not.have.class', 'checked'); // # Remove permission from all users and save\nremovePermission(usersTestId);\nsaveConfig(); // * Ensure that the permission is not removed from all roles except All Members\ncy.findByTestId(usersTestId).should('not.have.class', 'checked');\ncy.findByTestId(channelTestId).should('have.class', 'checked');\ncy.findByTestId(teamTestId).should('have.class', 'checked'); // # Remove permission for channel admins and save\nremovePermission(channelTestId);\nsaveConfig(); // * Ensure that the permission is removed from all roles except team admins\ncy.findByTestId(teamTestId).should('have.class', 'checked');\ncy.findByTestId(channelTestId).should('not.have.class', 'checked');\ncy.findByTestId(usersTestId).should('not.have.class', 'checked'); // # Enable permission for channel admins and save\nenablePermission(channelTestId);\nsaveConfig(); // * Ensure that the permission is only removed from regular users\ncy.findByTestId(teamTestId).should('have.class', 'checked');\ncy.findByTestId(channelTestId).should('have.class', 'checked');\ncy.findByTestId(usersTestId).should('not.have.class', 'checked'); // # Setup user as a regular channel member\nsetUserTeamAndChannelMemberships(); // * Ensure user cannot use channel mentions\nchannelMentionsPermissionCheck(false); // # Setup user as a channel admin\nsetUserTeamAndChannelMemberships(true, false); // * Ensure user can use channel mentions as channel admin\nchannelMentionsPermissionCheck(true); // # Navigate back to system scheme as sysadmin and remove permission from channel admins\ncy.apiLogin('sysadmin');\ncy.visit('/admin_console/user_management/permissions/system_scheme');\nremovePermission(channelTestId);\nsaveConfig(); // # Log back in as regular user\ncy.apiLogin('user-1');\ncy.visit(channelUrl); // * Ensure user cannot use channel mentions as channel admin\nchannelMentionsPermissionCheck(false); // # Setup user as a team admin\nsetUserTeamAndChannelMemberships(true, true); // * Ensure user can use channel mentions as team admin\nchannelMentionsPermissionCheck(true); // # Navigate back to system scheme as sysadmin and remove permission from team admins\ncy.apiLogin('sysadmin');\ncy.visit('/admin_console/user_management/permissions/system_scheme');\nremovePermission(teamTestId);\nsaveConfig(); // # Log back in as regular user\ncy.apiLogin('user-1');\ncy.visit(channelUrl); // * Ensure user cannot use channel mentions as team admin\nchannelMentionsPermissionCheck(false); // # Reset permissions back to defaults\nresetPermissionsToDefault();","err":{},"uuid":"2c3de4a4-967f-4dc4-9a28-db44f4389a30","parentUUID":"337480cb-4d8d-49d9-9104-774a08b400a7","isHook":false,"skipped":false}],"suites":[],"passes":["2c3de4a4-967f-4dc4-9a28-db44f4389a30"],"failures":[],"pending":[],"skipped":[],"duration":47382,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"34ba2f46-0d0c-4aaf-9cf9-3d71dfa2bb3d","title":"","fullFile":"cypress/integration/enterprise/system_console/use_channel_mentions_team_scheme_spec.js","file":"cypress/integration/enterprise/system_console/use_channel_mentions_team_scheme_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"3d358e1e-3bdb-4b6f-9143-bc7187d7cb6a","title":"Team Scheme Channel Mentions Permissions Test","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-23018 - Create a team override scheme","fullTitle":"Team Scheme Channel Mentions Permissions Test MM-23018 - Create a team override scheme","timedOut":null,"duration":6995,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the permissions page\ncy.visit('/admin_console/user_management/permissions/team_override_scheme'); // # Give the new team scheme a name\ncy.get('#scheme-name').type('Test Team Scheme'); // # Assign the new team scheme to the eligendi team using the add teams modal\ncy.findByTestId('add-teams').click();\ncy.get('#selectItems').type('eligendi');\ncy.get('.team-info-block').then(function (el) {\n  el.click();\n});\ncy.get('#saveItems').click(); // # Save config\ncy.get('#saveSetting').click(); // * Ensure that the team scheme was created and assigned to the team\ncy.findByTestId('permissions-scheme-summary').within(function () {\n  cy.get('.permissions-scheme-summary--header').should('include.text', 'Test Team Scheme');\n  cy.get('.permissions-scheme-summary--teams').should('include.text', 'eligendi');\n});","err":{},"uuid":"93ae1319-9445-464e-8b4e-623b21da2781","parentUUID":"3d358e1e-3bdb-4b6f-9143-bc7187d7cb6a","isHook":false,"skipped":false},{"title":"MM-23018 - Enable and Disable Channel Mentions for team scheme","fullTitle":"Team Scheme Channel Mentions Permissions Test MM-23018 - Enable and Disable Channel Mentions for team scheme","timedOut":null,"duration":33248,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var permissionName = 'use_channel_mentions'; // # Setup user as a regular channel member\nsetUserTeamAndChannelMemberships(); // * Ensure user can use channel mentions by default\nchannelMentionsPermissionCheck(true); // # Login as sysadmin again\ncy.apiLogin('sysadmin'); // # Get team scheme URL\ncy.apiGetSchemes('team').then(function (res) {\n  var teamScheme = res.body[0];\n  var url = \"admin_console/user_management/permissions/team_override_scheme/\".concat(teamScheme.id); // todo: add checks for guests once mattermost-webapp/pull/5061 is merged\n  var usersTestId = \"all_users-posts-\".concat(permissionName, \"-checkbox\");\n  var channelTestId = \"\".concat(teamScheme.default_channel_admin_role, \"-posts-\").concat(permissionName, \"-checkbox\");\n  var teamTestId = \"\".concat(teamScheme.default_team_admin_role, \"-posts-\").concat(permissionName, \"-checkbox\");\n  var testIds = [usersTestId, channelTestId, teamTestId]; // # Visit the scheme page\n  cy.visit(url); // * Ensure permission is enabled at each scope by default\n  testIds.forEach(function (testId) {\n    cy.findByTestId(testId).should('have.class', 'checked');\n  }); // # Remove permission from all users and save\n  removePermission(usersTestId);\n  cy.get('#saveSetting').click();\n  cy.visit(url); // * Ensure that the permission is not removed for channel admins and team admins\n  cy.findByTestId(usersTestId).should('not.have.class', 'checked');\n  cy.findByTestId(channelTestId).should('have.class', 'checked');\n  cy.findByTestId(teamTestId).should('have.class', 'checked'); // # Remove permission for channel admins and save\n  removePermission(channelTestId);\n  cy.get('#saveSetting').click();\n  cy.visit(url); // * Ensure that the permission is removed from all roles except team admins\n  cy.findByTestId(teamTestId).should('have.class', 'checked');\n  cy.findByTestId(channelTestId).should('not.have.class', 'checked');\n  cy.findByTestId(usersTestId).should('not.have.class', 'checked'); // # Enable permission for channel admins and save\n  enablePermission(channelTestId);\n  cy.get('#saveSetting').click();\n  cy.visit(url); // * Ensure that the permission is only removed from all users\n  cy.findByTestId(teamTestId).should('have.class', 'checked');\n  cy.findByTestId(channelTestId).should('have.class', 'checked');\n  cy.findByTestId(usersTestId).should('not.have.class', 'checked'); // # Setup user as a regular channel member\n  setUserTeamAndChannelMemberships(); // * Ensure user cannot use channel mentions\n  channelMentionsPermissionCheck(false); // # Setup user as a channel admin\n  setUserTeamAndChannelMemberships(true, false); // * Ensure user can use channel mentions as channel admin\n  channelMentionsPermissionCheck(true); // # Navigate back to team scheme as sysadmin\n  cy.apiLogin('sysadmin');\n  cy.visit(url); // # Remove permission from channel admins and save\n  removePermission(channelTestId);\n  cy.get('#saveSetting').click();\n  cy.visit(url); // # Log back in as regular user\n  cy.apiLogin('user-1');\n  cy.visit(channelUrl); // * Ensure user cannot use channel mentions as channel admin\n  channelMentionsPermissionCheck(false); // # Setup user as a team admin\n  setUserTeamAndChannelMemberships(true, true); // * Ensure user can use channel mentions as team admin\n  channelMentionsPermissionCheck(true); // # Navigate back to system scheme as sysadmin\n  cy.apiLogin('sysadmin');\n  cy.visit(url); // # Remove permission from team admins and save\n  removePermission(teamTestId);\n  cy.get('#saveSetting').click();\n  cy.visit(url); // # Log back in as regular user\n  cy.apiLogin('user-1');\n  cy.visit(channelUrl); // * Ensure user cannot use channel mentions as team admin\n  channelMentionsPermissionCheck(false);\n});","err":{},"uuid":"50e92fc0-f8ff-43b9-a2b8-3ec2645ae1ed","parentUUID":"3d358e1e-3bdb-4b6f-9143-bc7187d7cb6a","isHook":false,"skipped":false}],"suites":[],"passes":["93ae1319-9445-464e-8b4e-623b21da2781","50e92fc0-f8ff-43b9-a2b8-3ec2645ae1ed"],"failures":[],"pending":[],"skipped":[],"duration":40243,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"dfa16ba9-bd59-4be5-98f6-e9408e491e08","title":"","fullFile":"cypress/integration/enterprise/teams/search_teams_spec.js","file":"cypress/integration/enterprise/teams/search_teams_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"ff936326-8547-45d0-b3a4-d8595fe11755","title":"Search teams","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"loads with no search text","fullTitle":"Search teams loads with no search text","timedOut":null,"duration":1996,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check the search input is empty.\ncy.findByTestId('search-input').should('be.visible').and('have.text', '');","err":{},"uuid":"eb7d4b46-bc15-45ad-ae4b-de585b90b8e7","parentUUID":"ff936326-8547-45d0-b3a4-d8595fe11755","isHook":false,"skipped":false},{"title":"returns results","fullTitle":"Search teams returns results","timedOut":null,"duration":1739,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var _this = this;\nvar displayName = (0, _v[\"default\"])(); // # Create a new team.\ncy.apiCreateTeam('team-search', displayName).then(function (response) {\n  _this.createdTeamIDs.push(response.body.id);\n}); // # Search for the new team.\ncy.findByTestId('search-input').type(displayName + '{enter}'); // * Check that the search results contain the team.\ncy.findAllByTestId('team-display-name').contains(displayName);","err":{},"uuid":"e5532bed-9b8d-4c42-a023-beae67b46dbb","parentUUID":"ff936326-8547-45d0-b3a4-d8595fe11755","isHook":false,"skipped":false},{"title":"results are paginated","fullTitle":"Search teams results are paginated","timedOut":null,"duration":2481,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var _this2 = this;\nvar displayName = (0, _v[\"default\"])(); // # Create enough new teams with common name prefixes to get multiple pages of search results.\nfor (var i = 0; i < PAGE_SIZE + 2; i++) {\n  cy.apiCreateTeam('team-search-paged-' + i, displayName + ' ' + i).then(function (response) {\n    _this2.createdTeamIDs.push(response.body.id);\n  });\n} // # Search using the common team name prefix.\n\ncy.findByTestId('search-input').type(displayName + '{enter}'); // * Check that the first page of results is full.\ncy.findAllByTestId('team-display-name').should('have.length', PAGE_SIZE); // # Click the next pagination arrow.\ncy.findByTestId('page-link-next').should('be.enabled').click(); // * Check that the 2nd page of results has the expected amount.\ncy.findAllByTestId('team-display-name').should('have.length', 2);","err":{},"uuid":"2b67cabb-d9e3-4a5e-af69-4b07e4916795","parentUUID":"ff936326-8547-45d0-b3a4-d8595fe11755","isHook":false,"skipped":false},{"title":"clears the results when \"x\" is clicked","fullTitle":"Search teams clears the results when \"x\" is clicked","timedOut":null,"duration":1894,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var _this3 = this;\nvar displayName = (0, _v[\"default\"])(); // # Create a new team.\ncy.apiCreateTeam('team-search', displayName).then(function (response) {\n  _this3.createdTeamIDs.push(response.body.id);\n}); // # Search for the team.\ncy.get('[data-testid=search-input]').as('searchInput').type(displayName + '{enter}'); // * Check that the list of teams is in search results mode.\ncy.findAllByTestId('team-display-name').should('have.length', 1); // # Click the x in the search input.\ncy.findByTestId('clear-search').click(); // * Check that the search input text is cleared.\ncy.get('@searchInput').should('be.visible').and('have.text', ''); // * Check that the search results are reset to the default page-load list.\ncy.findAllByTestId('team-display-name').should('have.length', PAGE_SIZE);","err":{},"uuid":"48daf172-f6be-45dd-9c19-5ddacdd9af7b","parentUUID":"ff936326-8547-45d0-b3a4-d8595fe11755","isHook":false,"skipped":false},{"title":"clears the results when the search term is deleted with backspace","fullTitle":"Search teams clears the results when the search term is deleted with backspace","timedOut":null,"duration":1858,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var _this4 = this;\nvar displayName = (0, _v[\"default\"])(); // # Create a team.\ncy.apiCreateTeam('team-search', displayName).then(function (response) {\n  _this4.createdTeamIDs.push(response.body.id);\n}); // # Search for the team.\ncy.get('[data-testid=search-input]').as('searchInput').type(displayName + '{enter}'); // * Check that the list of teams is in search results mode.\ncy.findAllByTestId('team-display-name').should('have.length', 1); // # Clear the search input by deleting the search text.\ncy.get('@searchInput').type('{selectall}{del}'); // * Check that the search results are reset to the default page-load list.\ncy.findAllByTestId('team-display-name').should('have.length', PAGE_SIZE);","err":{},"uuid":"e08a0739-6e3b-456c-b191-2f9ce2866bc8","parentUUID":"ff936326-8547-45d0-b3a4-d8595fe11755","isHook":false,"skipped":false}],"suites":[],"passes":["eb7d4b46-bc15-45ad-ae4b-de585b90b8e7","e5532bed-9b8d-4c42-a023-beae67b46dbb","2b67cabb-d9e3-4a5e-af69-4b07e4916795","48daf172-f6be-45dd-9c19-5ddacdd9af7b","e08a0739-6e3b-456c-b191-2f9ce2866bc8"],"failures":[],"pending":[],"skipped":[],"duration":9968,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"877920c0-4b9b-401f-8138-eb1c326e2daa","title":"","fullFile":"cypress/integration/integrations/builtin_commands/common_commands_spec.js","file":"cypress/integration/integrations/builtin_commands/common_commands_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"7ef6d193-b9a1-4130-8e68-088c1e27f5ec","title":"I18456 Built-in slash commands: common","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"/ autocomplete list can scroll","fullTitle":"I18456 Built-in slash commands: common / autocomplete list can scroll","timedOut":null,"duration":23292,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/integrations/builtin_commands/common_commands_spec.js/I18456 Built-in slash commands common --  autocomplete list can scroll (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/integrations/builtin_commands/common_commands_spec.js/I18456 Built-in slash commands common --  autocomplete list can scroll (failed).png\"\n}","code":"// # Clear post textbox\ncy.get('#post_textbox').clear().type('/'); // * Suggestion list should be visible\n// # Scroll to bottom and verify that the last command \"/shrug\" is visible\ncy.get('#suggestionList').should('be.visible').scrollTo('bottom').then(function (container) {\n  cy.findByText(/\\/away/, {\n    container: container\n  }).should('not.be.visible');\n  cy.findByText(/\\/shrug/, {\n    container: container\n  }).should('be.visible');\n}); // # Scroll to top and verify that the first command \"/away\" is visible\ncy.get('#suggestionList').scrollTo('top').then(function (container) {\n  cy.findByText(/\\/away/, {\n    container: container\n  }).should('be.visible');\n  cy.findByText(/\\/shrug/, {\n    container: container\n  }).should('not.be.visible');\n});","err":{"message":"CypressError: Timed out retrying: Unable to find an element with the text: /\\/shrug/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.","estack":"CypressError: Timed out retrying: Unable to find an element with the text: /\\/shrug/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"0fe30ab1-f525-4277-9fb0-3876b4536835","parentUUID":"7ef6d193-b9a1-4130-8e68-088c1e27f5ec","isHook":false,"skipped":false},{"title":"/shrug test","fullTitle":"I18456 Built-in slash commands: common /shrug test","timedOut":null,"duration":8536,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as user-2 and post a message\nloginAndVisitDefaultChannel('user-2');\ncy.postMessage('hello from user-2'); // # Login as user-1 and post \"/shrug test\"\nloginAndVisitDefaultChannel('user-1');\ncy.postMessage('/shrug test{enter}'); // * Verify that it posted message as expected from user-1\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).find('.user-popover').should('have.text', 'user-1');\n  cy.get(\"#postMessageText_\".concat(postId)).should('have.text', 'test ¯\\\\_(ツ)_/¯');\n}); // * Login as user-2 and verify that it read the same message as expected from user-1\nloginAndVisitDefaultChannel('user-2');\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).find('.user-popover').should('have.text', 'user-1');\n  cy.get(\"#postMessageText_\".concat(postId)).should('have.text', 'test ¯\\\\_(ツ)_/¯');\n});","err":{},"uuid":"3dd7d25b-4ab2-4001-9093-028d15484f6d","parentUUID":"7ef6d193-b9a1-4130-8e68-088c1e27f5ec","isHook":false,"skipped":false}],"suites":[],"passes":["3dd7d25b-4ab2-4001-9093-028d15484f6d"],"failures":["0fe30ab1-f525-4277-9fb0-3876b4536835"],"pending":[],"skipped":[],"duration":31828,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"44e7cb4b-67f3-4934-9f29-f1c36f6f486d","title":"","fullFile":"cypress/integration/integrations/builtin_commands/user_status_commands_spec.js","file":"cypress/integration/integrations/builtin_commands/user_status_commands_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"868c07a1-68cb-4cda-8126-e69418d77578","title":"Integrations","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"I18456 Built-in slash commands: change user status via post","fullTitle":"Integrations I18456 Built-in slash commands: change user status via post","timedOut":null,"duration":7482,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.apiSaveMessageDisplayPreference('compact');\ncy.visit('/ad-1/channels/town-square');\ntestCases.forEach(function (testCase) {\n  cy.postMessage(testCase.command + ' ');\n  verifyUserStatus(testCase, true);\n});","err":{},"uuid":"f05bae26-ca70-4db3-9913-6995e45b6948","parentUUID":"868c07a1-68cb-4cda-8126-e69418d77578","isHook":false,"skipped":false},{"title":"I18456 Built-in slash commands: change user status via suggestion list","fullTitle":"Integrations I18456 Built-in slash commands: change user status via suggestion list","timedOut":null,"duration":22177,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/integrations/builtin_commands/user_status_commands_spec.js/Integrations -- I18456 Built-in slash commands change user status via suggestion list (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/integrations/builtin_commands/user_status_commands_spec.js/Integrations -- I18456 Built-in slash commands change user status via suggestion list (failed).png\"\n}","code":"cy.apiSaveMessageDisplayPreference('clean');\ncy.visit('/ad-1/channels/town-square');\ntestCases.forEach(function (testCase) {\n  // # Type \"/\" on textbox\n  cy.get('#post_textbox').clear().type('/'); // # Verify that the suggestion list is visible\n  cy.get('#suggestionList').should('be.visible').then(function (container) {\n    // # Find command and click\n    cy.findByText(new RegExp(testCase.command), {\n      container: container\n    }).click({\n      force: true\n    });\n  }); // # Hit enter and verify user status\n  cy.get('#post_textbox').type(' {enter}');\n  verifyUserStatus(testCase, false);\n});","err":{"message":"CypressError: Timed out retrying: Unable to find an element with the text: /\\/away/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.","estack":"CypressError: Timed out retrying: Unable to find an element with the text: /\\/away/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"07f648ca-000d-4141-bf99-5375370c6047","parentUUID":"868c07a1-68cb-4cda-8126-e69418d77578","isHook":false,"skipped":false}],"suites":[],"passes":["f05bae26-ca70-4db3-9913-6995e45b6948"],"failures":["07f648ca-000d-4141-bf99-5375370c6047"],"pending":[],"skipped":[],"duration":29659,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"6e787c5e-1d57-4df5-9997-ac7a2c54225e","title":"","fullFile":"cypress/integration/integrations/integrations_spec.js","file":"cypress/integration/integrations/integrations_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"2984b83f-fc1a-48dd-a56a-3be62b8ee797","title":"Integrations page","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should should display correct message when incoming webhook not found","fullTitle":"Integrations page should should display correct message when incoming webhook not found","timedOut":null,"duration":2959,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open incoming web hooks page\ncy.get('#incomingWebhooks').click(); // # Add web 'include', '/newPage'hook\ncy.get('#addIncomingWebhook').click(); // # Pick the channel\ncy.get('#channelSelect').select('Town Square'); // # Save\ncy.get('#saveWebhook').click(); // * Validate that save succeeded\ncy.get('#formTitle').should('have.text', 'Setup Successful'); // # Close the Add dialog\ncy.get('#doneButton').click(); // # Type random stuff into the search box\nvar searchString = \"some random stuff \".concat(Date.now());\ncy.get('#searchInput').type(\"\".concat(searchString, \"{enter}\")); // * Validate that the correct empty message is shown\ncy.get('#emptySearchResultsMessage').should('be.visible').and('have.text', \"No incoming webhooks match \".concat(searchString));","err":{},"uuid":"5bc6f047-9831-4eed-876d-882f7e4d3376","parentUUID":"2984b83f-fc1a-48dd-a56a-3be62b8ee797","isHook":false,"skipped":false},{"title":"should should display correct message when outgoing webhook not found","fullTitle":"Integrations page should should display correct message when outgoing webhook not found","timedOut":null,"duration":1368,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open outgoing web hooks page\ncy.get('#outgoingWebhooks').click(); // # Add web hook\ncy.get('#addOutgoingWebhook').click(); // # Pick the channel and dummy callback\ncy.get('#channelSelect').select('Town Square');\ncy.get('#callbackUrls').type('https://dummy'); // # Save\ncy.get('#saveWebhook').click(); // * Validate that save succeeded\ncy.get('#formTitle').should('have.text', 'Setup Successful'); // # Close the Add dialog\ncy.get('#doneButton').click(); // # Type random stuff into the search box\nvar searchString = \"some random stuff \".concat(Date.now());\ncy.get('#searchInput').type(\"\".concat(searchString, \"{enter}\")); // * Validate that the correct empty message is shown\ncy.get('#emptySearchResultsMessage').should('be.visible').and('have.text', \"No outgoing webhooks match \".concat(searchString));","err":{},"uuid":"0cf368cd-6f8b-4f47-847f-c17e03a53d15","parentUUID":"2984b83f-fc1a-48dd-a56a-3be62b8ee797","isHook":false,"skipped":false},{"title":"should should display correct message when slash command not found","fullTitle":"Integrations page should should display correct message when slash command not found","timedOut":null,"duration":1653,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open slash command page\ncy.get('#slashCommands').click(); // # Add new command\ncy.get('#addSlashCommand').click(); // # Pick a dummy trigger and callback\ncy.get('#trigger').type(\"test-trigger\".concat(Date.now()));\ncy.get('#url').type('https://dummy'); // # Save\ncy.get('#saveCommand').click(); // * Validate that save succeeded\ncy.get('#formTitle').should('have.text', 'Setup Successful'); // # Close the Add dialog\ncy.get('#doneButton').click(); // # Type random stuff into the search box\nvar searchString = \"some random stuff \".concat(Date.now());\ncy.get('#searchInput').type(\"\".concat(searchString, \"{enter}\")); // * Validate that the correct empty message is shown\ncy.get('#emptySearchResultsMessage').should('be.visible').and('have.text', \"No commands match \".concat(searchString));","err":{},"uuid":"0332b9c9-3502-4a87-9b59-7dc0f6327e90","parentUUID":"2984b83f-fc1a-48dd-a56a-3be62b8ee797","isHook":false,"skipped":false},{"title":"should should display correct message when OAuth app not found","fullTitle":"Integrations page should should display correct message when OAuth app not found","timedOut":null,"duration":2089,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open OAuth apps page\ncy.get('#oauthApps').click(); // # Add new command\ncy.get('#addOauthApp').click(); // # Fill in dummy details\ncy.get('#name').type(\"test-name\".concat((0, _utils.getRandomInt)(10000)));\ncy.get('#description').type(\"test-descr\".concat((0, _utils.getRandomInt)(10000)));\ncy.get('#homepage').type(\"https://dummy\".concat((0, _utils.getRandomInt)(10000)));\ncy.get('#callbackUrls').type('https://dummy'); // # Save\ncy.get('#saveOauthApp').click(); // * Validate that save succeeded\ncy.get('#formTitle').should('have.text', 'Setup Successful'); // # Close the Add dialog\ncy.get('#doneButton').click(); // # Type random stuff into the search box\nvar searchString = \"some random stuff \".concat(Date.now());\ncy.get('#searchInput').type(\"\".concat(searchString, \"{enter}\")); // * Validate that the correct empty message is shown\ncy.get('#emptySearchResultsMessage').should('be.visible').and('have.text', \"No OAuth 2.0 Applications match \".concat(searchString));","err":{},"uuid":"95425a4b-73df-4bf6-bb55-55d3de836b54","parentUUID":"2984b83f-fc1a-48dd-a56a-3be62b8ee797","isHook":false,"skipped":false},{"title":"should should display correct message when bot account not found","fullTitle":"Integrations page should should display correct message when bot account not found","timedOut":null,"duration":1303,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Open  bot account page\ncy.get('#botAccounts').click(); // # Add new bot\ncy.get('#addBotAccount').click(); // # Fill in dummy details\ncy.get('#username').type(\"test-bot\".concat((0, _utils.getRandomInt)(10000))); // # Save\ncy.get('#saveBot').click(); // # Click done button\ncy.get('#doneButton').click(); // * Make sure we are done saving\ncy.url().should('contain', '/integrations/bots'); // # Type random stuff into the search box\nvar searchString = \"some random stuff \".concat(Date.now());\ncy.get('#searchInput').type(\"\".concat(searchString, \"{enter}\")); // * Validate that the correct empty message is shown\ncy.get('#emptySearchResultsMessage').should('be.visible').and('have.text', \"No bot accounts match \".concat(searchString));","err":{},"uuid":"b0a99fef-4c4d-4030-824b-944721fb255f","parentUUID":"2984b83f-fc1a-48dd-a56a-3be62b8ee797","isHook":false,"skipped":false}],"suites":[],"passes":["5bc6f047-9831-4eed-876d-882f7e4d3376","0cf368cd-6f8b-4f47-847f-c17e03a53d15","0332b9c9-3502-4a87-9b59-7dc0f6327e90","95425a4b-73df-4bf6-bb55-55d3de836b54","b0a99fef-4c4d-4030-824b-944721fb255f"],"failures":[],"pending":[],"skipped":[],"duration":9372,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"4c1d11ea-06f9-4e4c-9d21-115a340a03f5","title":"","fullFile":"cypress/integration/interactive_dialog/boolean_spec.js","file":"cypress/integration/interactive_dialog/boolean_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"f6fbf5b1-cae7-42f3-8e31-4818820e1a01","title":"Interactive Dialog","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"ID21034 - Boolean element check","fullTitle":"Interactive Dialog ID21034 - Boolean element check","timedOut":null,"duration":4843,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible').within(function () {\n  // * Verify that the header of modal contains icon URL, title and close button\n  cy.get('.modal-header').should('be.visible').within(function ($elForm) {\n    cy.get('#interactiveDialogIconUrl').should('be.visible').and('have.attr', 'src', simpleDialog.dialog.icon_url);\n    cy.get('#interactiveDialogModalLabel').should('be.visible').and('have.text', simpleDialog.dialog.title);\n    cy.wrap($elForm).find('button.close').should('be.visible').and('contain', '×').and('contain', 'Close');\n  }); // * Verify that the body contains the boolean element\n  cy.get('.modal-body').should('be.visible').children().should('have.length', 1).each(function ($elForm, index) {\n    var element = simpleDialog.dialog.elements[index];\n    cy.wrap($elForm).find('label.control-label').scrollIntoView().should('be.visible').and('have.text', \"\".concat(element.display_name, \" \").concat(element.optional ? '(optional)' : '*'));\n    expect(element.name).to.equal('boolean_input');\n    cy.wrap($elForm).find('.checkbox').should('be.visible').within(function () {\n      cy.get('#boolean_input').should('be.visible').and('be.checked');\n      cy.get('span').should('have.text', element.placeholder);\n    });\n    if (element.help_text) {\n      cy.wrap($elForm).find('.help-text').should('be.visible').and('have.text', element.help_text);\n    }\n  }); // * Verify that the footer contains cancel and submit buttons\n  cy.get('.modal-footer').should('be.visible').within(function ($elForm) {\n    cy.wrap($elForm).find('#interactiveDialogCancel').should('be.visible').and('have.text', 'Cancel');\n    cy.wrap($elForm).find('#interactiveDialogSubmit').should('be.visible').and('have.text', simpleDialog.dialog.submit_label);\n  });\n  closeInteractiveDialog();\n});","err":{},"uuid":"2b20d4b8-8a9e-48a7-958f-801d674663be","parentUUID":"f6fbf5b1-cae7-42f3-8e31-4818820e1a01","isHook":false,"skipped":false}],"suites":[],"passes":["2b20d4b8-8a9e-48a7-958f-801d674663be"],"failures":[],"pending":[],"skipped":[],"duration":4843,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"3b7a61c4-5a92-42ce-96db-3c08185242f2","title":"","fullFile":"cypress/integration/interactive_dialog/full_dialog_spec.js","file":"cypress/integration/interactive_dialog/full_dialog_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"73abe593-4f55-476d-b74d-36ec151725a9","title":"Interactive Dialog","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"ID15888 - UI check","fullTitle":"Interactive Dialog ID15888 - UI check","timedOut":null,"duration":30437,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/interactive_dialog/full_dialog_spec.js/Interactive Dialog -- ID15888 - UI check (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/interactive_dialog/full_dialog_spec.js/Interactive Dialog -- ID15888 - UI check (failed).png\"\n}","code":"// # Post a slash command\ncy.get('#postListContent').should('be.visible');\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible').within(function () {\n  // * Verify that the header of modal contains icon URL, title and close button\n  cy.get('.modal-header').should('be.visible').within(function ($elForm) {\n    cy.get('#interactiveDialogIconUrl').should('be.visible').and('have.attr', 'src', fullDialog.dialog.icon_url);\n    cy.get('#interactiveDialogModalLabel').should('be.visible').and('have.text', fullDialog.dialog.title);\n    cy.wrap($elForm).find('button.close').should('be.visible').and('contain', '×').and('contain', 'Close');\n    cy.get('#interactiveDialogModalLabel').should('be.visible').and('have.text', fullDialog.dialog.title);\n  }); // * Verify that the body contains all the elements\n  cy.get('.modal-body').should('be.visible').children().each(function ($elForm, index) {\n    var element = fullDialog.dialog.elements[index];\n    cy.wrap($elForm).find('label.control-label').scrollIntoView().should('exist').and('have.text', \"\".concat(element.display_name, \" \").concat(element.optional ? '(optional)' : '*'));\n    if (['someuserselector', 'somechannelselector', 'someoptionselector'].includes(element.name)) {\n      cy.wrap($elForm).find('input').should('be.visible').and('have.attr', 'autocomplete', 'off').and('have.attr', 'placeholder', element.placeholder); // * Verify that the suggestion list or autocomplete open up on click of input element\n      cy.wrap($elForm).find('#suggestionList').should('not.be.visible');\n      cy.wrap($elForm).find('input').click();\n      cy.wrap($elForm).find('#suggestionList').scrollIntoView().should('be.visible').children().then(function (el) {\n        if (element.name === 'someuserselector' && config.ElasticsearchSettings.EnableIndexing) {\n          return;\n        }\n        cy.wrap(el).should('have.length', optionsLength[element.name]);\n      });\n    } else if (element.name === 'someradiooptions') {\n      cy.wrap($elForm).find('input').should('be.visible').and('have.length', optionsLength[element.name]); // * Verify that no option is selected by default\n      cy.wrap($elForm).find('input').each(function ($elInput) {\n        cy.wrap($elInput).should('not.be.checked');\n      });\n    } else if (element.name === 'boolean_input') {\n      cy.wrap($elForm).find('.checkbox').should('be.visible').within(function () {\n        cy.get('#boolean_input').should('be.visible').and('be.checked');\n        cy.get('span').should('have.text', element.placeholder);\n      });\n    } else {\n      cy.wrap($elForm).find(\"#\".concat(element.name)).should('be.visible').and('have.value', element[\"default\"]).and('have.attr', 'placeholder', element.placeholder);\n    } // * Verify that input element are given with the correct type of \"input\", \"email\", \"number\" and \"password\".\n    // * To take advantage of supported built-in validation.\n\n    if (inputTypes[element.name]) {\n      cy.wrap($elForm).find(\"#\".concat(element.name)).should('have.attr', 'type', inputTypes[element.name]);\n    }\n    if (element.help_text) {\n      cy.wrap($elForm).find('.help-text').should('exist').and('have.text', element.help_text);\n    }\n  }); // * Verify that the footer contains cancel and submit buttons\n  cy.get('.modal-footer').should('be.visible').within(function ($elForm) {\n    cy.wrap($elForm).find('#interactiveDialogCancel').should('be.visible').and('have.text', 'Cancel');\n    cy.wrap($elForm).find('#interactiveDialogSubmit').should('be.visible').and('have.text', fullDialog.dialog.submit_label);\n  });\n  closeInteractiveDialog();\n});","err":{"message":"CypressError: Timed out retrying: expected '[ <input>, 1 more... ]' to be 'visible'\n\nThis element '[ <input>, 1 more... ]' is not visible because it has CSS property: 'position: fixed' and its being covered by another element:\n\n<div class=\"mentions__name\" role=\"button\" tabindex=\"-1\">Option2</div>","estack":"CypressError: Timed out retrying: expected '[ <input>, 1 more... ]' to be 'visible'\n\nThis element '[ <input>, 1 more... ]' is not visible because it has CSS property: 'position: fixed' and its being covered by another element:\n\n<div class=\"mentions__name\" role=\"button\" tabindex=\"-1\">Option2</div>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"a24ef710-1e00-47cd-97ee-492825507914","parentUUID":"73abe593-4f55-476d-b74d-36ec151725a9","isHook":false,"skipped":false},{"title":"ID15888 - Cancel button works","fullTitle":"Interactive Dialog ID15888 - Cancel button works","timedOut":null,"duration":2437,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible'); // # Click cancel from the modal\ncy.get('#interactiveDialogCancel').click(); // * Verify that the interactive dialog modal is closed\ncy.get('#interactiveDialogModal').should('not.be.visible');","err":{},"uuid":"595a0c9c-ce3f-4110-9463-e4c016ff7c43","parentUUID":"73abe593-4f55-476d-b74d-36ec151725a9","isHook":false,"skipped":false},{"title":"ID15888 - \"X\" closes the dialog","fullTitle":"Interactive Dialog ID15888 - \"X\" closes the dialog","timedOut":null,"duration":2225,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible'); // # Click \"X\" button from the modal\ncy.get('.modal-header').should('be.visible').within(function ($elForm) {\n  cy.wrap($elForm).find('button.close').should('be.visible').click();\n}); // * Verify that the interactive dialog modal is closed\ncy.get('#interactiveDialogModal').should('not.be.visible');","err":{},"uuid":"a446c73d-4fd1-4f22-a452-96809108438d","parentUUID":"73abe593-4f55-476d-b74d-36ec151725a9","isHook":false,"skipped":false},{"title":"ID15888 - Correct error messages displayed if empty form is submitted","fullTitle":"Interactive Dialog ID15888 - Correct error messages displayed if empty form is submitted","timedOut":null,"duration":2439,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible'); // # Click submit button from the modal\ncy.get('#interactiveDialogSubmit').click(); // * Verify that the interactive dialog modal is still open\ncy.get('#interactiveDialogModal').should('be.visible'); // * Verify that not optional element without text value shows an error and vice versa\ncy.get('.modal-body').should('be.visible').children().each(function ($elForm, index) {\n  var element = fullDialog.dialog.elements[index];\n  if (!element.optional && !element[\"default\"]) {\n    cy.wrap($elForm).find('div.error-text').scrollIntoView().should('be.visible').and('have.text', 'This field is required.').and('have.css', 'color', 'rgb(253, 89, 96)');\n  } else {\n    cy.wrap($elForm).find('div.error-text').should('not.be.visible');\n  }\n});\ncloseInteractiveDialog();","err":{},"uuid":"c7b48e08-8c9b-49cc-991a-623490262410","parentUUID":"73abe593-4f55-476d-b74d-36ec151725a9","isHook":false,"skipped":false},{"title":"ID15888 - Email validation","fullTitle":"Interactive Dialog ID15888 - Email validation","timedOut":null,"duration":3192,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible'); // # Enter invalid and valid email\n// Verify that error is: shown for invalid email and not shown for valid email.\n[{\n  valid: false,\n  value: 'invalid-email'\n}, {\n  valid: true,\n  value: 'test@mattermost.com'\n}].forEach(function (testCase) {\n  cy.get('#someemail').scrollIntoView().clear().type(testCase.value);\n  cy.get('#interactiveDialogSubmit').click();\n  cy.get('.modal-body').should('be.visible').children().eq(1).within(function ($elForm) {\n    if (testCase.valid) {\n      cy.wrap($elForm).find('div.error-text').should('not.be.visible');\n    } else {\n      cy.wrap($elForm).find('div.error-text').should('be.visible').and('have.text', 'Must be a valid email address.').and('have.css', 'color', 'rgb(253, 89, 96)');\n    }\n  });\n});\ncloseInteractiveDialog();","err":{},"uuid":"985eb0c0-05e7-4c10-a896-f50aa5efee8d","parentUUID":"73abe593-4f55-476d-b74d-36ec151725a9","isHook":false,"skipped":false},{"title":"ID15888 - Number validation","fullTitle":"Interactive Dialog ID15888 - Number validation","timedOut":null,"duration":2849,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.postMessage(\"/\".concat(createdCommand.trigger));\ncy.get('#interactiveDialogModal').should('be.visible'); // # Enter invalid and valid number\n// Verify that error is: shown for invalid number and not shown for valid number.\n[{\n  valid: false,\n  value: 'invalid-number'\n}, {\n  valid: true,\n  value: 12\n}].forEach(function (testCase) {\n  cy.get('#somenumber').scrollIntoView().clear().type(testCase.value);\n  cy.get('#interactiveDialogSubmit').click();\n  cy.get('.modal-body').should('be.visible').children().eq(2).within(function ($elForm) {\n    if (testCase.valid) {\n      cy.wrap($elForm).find('div.error-text').should('not.be.visible');\n    } else {\n      cy.wrap($elForm).find('div.error-text').should('be.visible').and('have.text', 'This field is required.').and('have.css', 'color', 'rgb(253, 89, 96)');\n    }\n  });\n});\ncloseInteractiveDialog();","err":{},"uuid":"ad825b65-1d7c-4eb3-b91d-251b46adf958","parentUUID":"73abe593-4f55-476d-b74d-36ec151725a9","isHook":false,"skipped":false}],"suites":[],"passes":["595a0c9c-ce3f-4110-9463-e4c016ff7c43","a446c73d-4fd1-4f22-a452-96809108438d","c7b48e08-8c9b-49cc-991a-623490262410","985eb0c0-05e7-4c10-a896-f50aa5efee8d","ad825b65-1d7c-4eb3-b91d-251b46adf958"],"failures":["a24ef710-1e00-47cd-97ee-492825507914"],"pending":[],"skipped":[],"duration":43579,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"75531cbc-af50-4229-87ce-25132bce965e","title":"","fullFile":"cypress/integration/interactive_dialog/scrollable_spec.js","file":"cypress/integration/interactive_dialog/scrollable_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"0f1073e9-865c-4364-b543-9273bce4a370","title":"Interactive Dialog","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"ID21031 - Individual \"User\" and \"Channel\" screens are scrollable","fullTitle":"Interactive Dialog ID21031 - Individual \"User\" and \"Channel\" screens are scrollable","timedOut":null,"duration":12288,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible').within(function () {\n  // * Verify that the header of modal contains icon URL, title and close button\n  cy.get('.modal-header').should('be.visible').within(function ($elForm) {\n    cy.get('#interactiveDialogIconUrl').should('be.visible').and('have.attr', 'src', userAndChannelDialog.dialog.icon_url);\n    cy.get('#interactiveDialogModalLabel').should('be.visible').and('have.text', userAndChannelDialog.dialog.title);\n    cy.wrap($elForm).find('button.close').should('be.visible').and('contain', '×').and('contain', 'Close');\n  }); // * Verify that the body contains the both elements\n  cy.get('.modal-body').should('be.visible').children().should('have.length', 2).each(function ($elForm, index) {\n    var element = userAndChannelDialog.dialog.elements[index];\n    cy.wrap($elForm).find('label.control-label').scrollIntoView().should('be.visible').and('have.text', \"\".concat(element.display_name, \" \").concat(element.optional ? '(optional)' : '*'));\n    cy.wrap($elForm).find('input').should('be.visible').and('have.attr', 'autocomplete', 'off').and('have.attr', 'placeholder', element.placeholder); // * Verify that the suggestion list or autocomplete open up on click of input element\n    cy.wrap($elForm).find('#suggestionList').should('not.be.visible');\n    cy.wrap($elForm).find('input').click();\n    cy.wrap($elForm).find('#suggestionList').scrollIntoView().should('be.visible').children();\n    if (index === 0) {\n      expect(element.name).to.equal('someuserselector');\n      cy.wrap($elForm).find('.suggestion-list__item').first().should('be.visible');\n      cy.wrap($elForm).find('.form-control').type('{downarrow}'.repeat(10));\n      cy.wrap($elForm).find('.suggestion-list__item').first().should('not.be.visible');\n      cy.wrap($elForm).find('.form-control').type('{uparrow}'.repeat(10));\n      cy.wrap($elForm).find('.suggestion-list__item').first().should('be.visible');\n    } else if (index === 1) {\n      expect(element.name).to.equal('somechannelselector');\n      cy.wrap($elForm).find('.mentions__name').first().should('be.visible');\n      cy.wrap($elForm).find('.form-control').type('{downarrow}'.repeat(10));\n      cy.wrap($elForm).find('.mentions__name').first().should('not.be.visible');\n      cy.wrap($elForm).find('.form-control').type('{uparrow}'.repeat(10));\n      cy.wrap($elForm).find('.mentions__name').first().should('be.visible');\n    } // # Select one element to close the dropdown\n\n    cy.wrap($elForm).find('.mentions__name').first().click();\n    if (element.help_text) {\n      cy.wrap($elForm).find('.help-text').should('be.visible').and('have.text', element.help_text);\n    }\n  }); // * Verify that the footer contains cancel and submit buttons\n  cy.get('.modal-footer').should('be.visible').within(function ($elForm) {\n    cy.wrap($elForm).find('#interactiveDialogCancel').should('be.visible').and('have.text', 'Cancel');\n    cy.wrap($elForm).find('#interactiveDialogSubmit').should('be.visible').and('have.text', userAndChannelDialog.dialog.submit_label);\n  }); // # Close interactive dialog\n  cy.get('.modal-header').should('be.visible').within(function ($elForm) {\n    cy.wrap($elForm).find('button.close').should('be.visible').click();\n  });\n  cy.get('#interactiveDialogModal').should('not.be.visible');\n});","err":{},"uuid":"dde7a81f-af16-4448-9a88-8ee5ffb16042","parentUUID":"0f1073e9-865c-4364-b543-9273bce4a370","isHook":false,"skipped":false}],"suites":[],"passes":["dde7a81f-af16-4448-9a88-8ee5ffb16042"],"failures":[],"pending":[],"skipped":[],"duration":12288,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"edcba6cb-d79f-4166-b130-3388d01be05f","title":"","fullFile":"cypress/integration/interactive_dialog/simple_dialog_spec.js","file":"cypress/integration/interactive_dialog/simple_dialog_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5d4165ca-e66a-4222-81e5-aabed2ee9602","title":"Interactive Dialog","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"b7e59e31-1851-4e71-bcbf-9c83117c722c","title":"ID17212 Interactive Dialog without element","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"UI check","fullTitle":"Interactive Dialog ID17212 Interactive Dialog without element UI check","timedOut":null,"duration":3544,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible').within(function () {\n  // * Verify that the header of modal contains icon URL, title and close button\n  cy.get('.modal-header').should('be.visible').within(function ($elForm) {\n    cy.get('#interactiveDialogIconUrl').should('be.visible').and('have.attr', 'src', simpleDialog.dialog.icon_url);\n    cy.get('#interactiveDialogModalLabel').should('be.visible').and('have.text', simpleDialog.dialog.title);\n    cy.wrap($elForm).find('button.close').should('be.visible').and('contain', '×').and('contain', 'Close');\n  }); // * Verify that the body is not present\n  cy.get('.modal-body').should('not.be.visible'); // * Verify that the footer contains cancel and submit buttons\n  cy.get('.modal-footer').should('be.visible').within(function ($elForm) {\n    cy.wrap($elForm).find('#interactiveDialogCancel').should('be.visible').and('have.text', 'Cancel');\n    cy.wrap($elForm).find('#interactiveDialogSubmit').should('be.visible').and('have.text', simpleDialog.dialog.submit_label);\n  });\n  closeInteractiveDialog();\n});","err":{},"uuid":"db6ef3f8-21f5-41f0-afc9-b12440445afe","parentUUID":"b7e59e31-1851-4e71-bcbf-9c83117c722c","isHook":false,"skipped":false},{"title":"\"X\" closes the dialog","fullTitle":"Interactive Dialog ID17212 Interactive Dialog without element \"X\" closes the dialog","timedOut":null,"duration":6495,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible'); // # Click \"X\" button from the modal\ncy.get('.modal-header').should('be.visible').within(function ($elForm) {\n  cy.wrap($elForm).find('button.close').should('be.visible').click().wait(TIMEOUTS.SMALL);\n}); // * Verify that the interactive dialog modal is closed\ncy.get('#interactiveDialogModal').should('not.be.visible'); // * Verify that the last post states that the dialog is cancelled\ncy.getLastPost().should('contain', 'Dialog cancelled');","err":{},"uuid":"0e161945-7cd0-40b7-a197-dbfdb35a65df","parentUUID":"b7e59e31-1851-4e71-bcbf-9c83117c722c","isHook":false,"skipped":false},{"title":"Cancel button works","fullTitle":"Interactive Dialog ID17212 Interactive Dialog without element Cancel button works","timedOut":null,"duration":6633,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible'); // # Click cancel from the modal\ncy.get('#interactiveDialogCancel').click().wait(TIMEOUTS.SMALL); // * Verify that the interactive dialog modal is closed\ncy.get('#interactiveDialogModal').should('not.be.visible'); // * Verify that the last post states that the dialog is cancelled\ncy.getLastPost().should('contain', 'Dialog cancelled');","err":{},"uuid":"0eb314b2-1a7d-4eaf-9e4c-716389d915ea","parentUUID":"b7e59e31-1851-4e71-bcbf-9c83117c722c","isHook":false,"skipped":false},{"title":"Submit button works","fullTitle":"Interactive Dialog ID17212 Interactive Dialog without element Submit button works","timedOut":null,"duration":1501,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a slash command\ncy.postMessage(\"/\".concat(createdCommand.trigger)); // * Verify that the interactive dialog modal open up\ncy.get('#interactiveDialogModal').should('be.visible'); // # Click submit from the modal\ncy.get('#interactiveDialogSubmit').click(); // * Verify that the interactive dialog modal is closed\ncy.get('#interactiveDialogModal').should('not.be.visible'); // * Verify that the last post states that the dialog is submitted\ncy.getLastPost().should('contain', 'Dialog submitted');","err":{},"uuid":"88019667-de59-4759-a9ab-75674778cc65","parentUUID":"b7e59e31-1851-4e71-bcbf-9c83117c722c","isHook":false,"skipped":false}],"suites":[],"passes":["db6ef3f8-21f5-41f0-afc9-b12440445afe","0e161945-7cd0-40b7-a197-dbfdb35a65df","0eb314b2-1a7d-4eaf-9e4c-716389d915ea","88019667-de59-4759-a9ab-75674778cc65"],"failures":[],"pending":[],"skipped":[],"duration":18173,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"d9caee05-6ddc-41d6-aa25-c24ce9349e81","title":"","fullFile":"cypress/integration/interactive_menu/basic_options_spec.js","file":"cypress/integration/interactive_menu/basic_options_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"55d41da4-b019-4a0e-a643-f6cd2fc78014","title":"Interactive Menu","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"matches elements","fullTitle":"Interactive Menu matches elements","timedOut":null,"duration":4449,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post an incoming webhook\nvar payload = (0, _utils.getMessageMenusPayload)({\n  options: options\n});\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: payload\n}); // # Get message attachment from the last post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#messageAttachmentList_\".concat(postId)).as('messageAttachmentList');\n}); // * Verify each element of message attachment list\ncy.get('@messageAttachmentList').scrollIntoView().within(function () {\n  cy.get('.attachment__thumb-pretext').should('be.visible').and('have.text', payload.attachments[0].pretext);\n  cy.get('.post-message__text-container').should('be.visible').and('have.text', payload.attachments[0].text);\n  cy.get('.attachment-actions').should('be.visible');\n  cy.get('.select-suggestion-container').should('be.visible'); // * Suggestion list should not be visible before dropdown is clicked\n  cy.get('#suggestionList').should('not.be.visible'); // # Click on the suggestion dropdown input\n  cy.findByPlaceholderText('Select an option...').scrollIntoView().should('be.visible').click(); // * Suggestion list should now be open\n  cy.get('#suggestionList').should('be.visible').children().should('have.length', options.length);\n  cy.get('#suggestionList').children().each(function ($el, index) {\n    cy.wrap($el).should('have.text', options[index].text);\n  });\n}); // * Close suggestion list by clicking on other element\ncy.get('body').click();","err":{},"uuid":"03a79d1e-cac0-4e62-9bd1-daca45a6b041","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM15887 - Selected Option is displayed, Ephemeral message is posted","fullTitle":"Interactive Menu IM15887 - Selected Option is displayed, Ephemeral message is posted","timedOut":null,"duration":1444,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post an incoming webhook\nvar payload = (0, _utils.getMessageMenusPayload)({\n  options: options\n});\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: payload\n}); // # Get message attachment from the last post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#messageAttachmentList_\".concat(postId)).within(function () {\n    // # Select option 1 by typing exact text and press enter\n    cy.findByPlaceholderText('Select an option...').scrollIntoView().click().clear({\n      force: true\n    }).type(\"\".concat(options[0].text, \"{enter}\")); // * Verify that the input is updated with the selected option\n    cy.findByDisplayValue(options[0].text).should('exist');\n  });\n}); // # Checking if we got the ephemeral message with the selection we made\nverifyEphemeralMessage('Ephemeral | select option: option1');","err":{},"uuid":"8434c314-6d7f-4aab-ab4d-47830c1a9b5a","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM15887 - Reply is displayed in center channel with \"commented on [user's] message: [text]\"","fullTitle":"Interactive Menu IM15887 - Reply is displayed in center channel with \"commented on [user's] message: [text]\"","timedOut":null,"duration":1951,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var user1 = _users[\"default\"]['user-1']; // # Add user to channel\ncy.apiGetUserByEmail(user1.email).then(function (res) {\n  var user = res.body;\n  cy.apiAddUserToChannel(channel.id, user.id);\n}); // # Post an incoming webhook\nvar payload = (0, _utils.getMessageMenusPayload)({\n  options: options\n});\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: payload\n}); // # Get last post\ncy.getLastPostId().then(function (parentMessageId) {\n  // # Post another message\n  cy.postMessageAs({\n    sender: user1,\n    message: 'Just another message',\n    channelId: channel.id\n  }); // # Click comment icon to open RHS\n  cy.clickPostCommentIcon(parentMessageId); // * Check that the RHS is open\n  cy.get('#rhsContainer').should('be.visible'); // # Have another user reply to the webhook message\n  cy.postMessageAs({\n    sender: user1,\n    message: 'Reply to webhook',\n    channelId: channel.id,\n    rootId: parentMessageId\n  }); // # Get the latest post\n  cy.getLastPostId().then(function (replyMessageId) {\n    // * Verify that the reply is in the channel view with matching text\n    cy.get(\"#post_\".concat(replyMessageId)).within(function () {\n      cy.get('.post__link').should('be.visible').and('have.text', \"Commented on webhook's message: \".concat(payload.attachments[0].pretext));\n      cy.get(\"#postMessageText_\".concat(replyMessageId)).should('be.visible').and('have.text', 'Reply to webhook');\n    }); // * Verify that the reply is in the RHS with matching text\n    cy.get(\"#rhsPost_\".concat(replyMessageId)).within(function () {\n      cy.get('.post__link').should('not.be.visible');\n      cy.get(\"#rhsPostMessageText_\".concat(replyMessageId)).should('be.visible').and('have.text', 'Reply to webhook');\n    }); // # Close RHS\n    cy.closeRHS();\n  });\n});","err":{},"uuid":"b36917a6-9dd3-469d-bbac-ef2deec10866","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21039 - Searching within the list of options","fullTitle":"Interactive Menu IM21039 - Searching within the list of options","timedOut":null,"duration":795,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var searchOptions = [{\n  text: 'SearchOption1',\n  value: 'searchoption1'\n}, {\n  text: 'SearchOption2',\n  value: 'searchoption2'\n}].concat(options);\nvar searchOptionsPayload = (0, _utils.getMessageMenusPayload)({\n  options: searchOptions\n}); // # Post an incoming webhook for interactive menu with search options\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: searchOptionsPayload\n}); // # Get message attachment from the last post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#messageAttachmentList_\".concat(postId)).as('messageAttachmentList');\n});\ncy.get('@messageAttachmentList').within(function () {\n  cy.findByPlaceholderText('Select an option...').scrollIntoView().click().clear({\n    force: true\n  }).type('sea'); // * Message attachment menu dropdown should now be open\n  cy.get('#suggestionList').should('exist').children().should('have.length', 2); // # Checking values inside the attachment menu dropdown\n  cy.get('#suggestionList').within(function () {\n    // * Each dropdown should contain the searchOptions text\n    cy.findByText(searchOptions[0].text).should('exist');\n    cy.findByText(searchOptions[1].text).should('exist');\n  });\n});","err":{},"uuid":"3aac3022-13c9-4d24-be5e-7c4207e4a17c","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21042 - \"No items match\" feedback","fullTitle":"Interactive Menu IM21042 - \"No items match\" feedback","timedOut":null,"duration":949,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var missingUser = Date.now();\nvar userOptions = (0, _utils.getMessageMenusPayload)({\n  dataSource: 'users'\n}); // # Post an incoming webhook for interactive menu with user options\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: userOptions\n}); // # Get message attachment from the last post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#messageAttachmentList_\".concat(postId)).within(function () {\n    // # Type the missing user in the select input\n    cy.findByPlaceholderText('Select an option...').scrollIntoView().click().clear({\n      force: true\n    }).type(\"\".concat(missingUser));\n    cy.get('#suggestionList').within(function () {\n      // * Check if we get appropriate message when no options matches entered text\n      cy.get('.suggestion-list__no-results').should('be.visible').should('have.text', \"No items match \".concat(missingUser));\n    });\n  });\n});","err":{},"uuid":"8ea18500-b1cb-4d87-9519-c6054c0f5db2","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21043 - Using up/down arrow keys to make selection","fullTitle":"Interactive Menu IM21043 - Using up/down arrow keys to make selection","timedOut":null,"duration":798,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var basicOptions = (0, _utils.getMessageMenusPayload)({\n  options: options\n}); // # Post an incoming webhook for interactive menu with basic options\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: basicOptions\n}); // # Get message attachment from the last post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#messageAttachmentList_\".concat(postId)).as('messageAttachmentList');\n});\ncy.get('@messageAttachmentList').within(function () {\n  cy.findByPlaceholderText('Select an option...').scrollIntoView().as('optionInputField');\n  cy.get('@optionInputField').click();\n  cy.get('#suggestionList').should('be.visible'); // # Hit the down arrow two times\n  cy.get('@optionInputField').type('{downarrow}{downarrow}'); // # Verify the correct option has been selected\n  cy.get('#suggestionList').within(function () {\n    cy.get('.suggestion--selected').should('have.text', options[2].text);\n  }); // # Hit the up arrow two times\n  cy.get('@optionInputField').type('{uparrow}{uparrow}'); // # Verify the correct option has been selected\n  cy.get('#suggestionList').within(function () {\n    cy.get('.suggestion--selected').should('have.text', options[0].text);\n  });\n});","err":{},"uuid":"9838cb43-d538-4b29-b4b4-fb15125da529","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"should truncate properly the selected long basic option","fullTitle":"Interactive Menu should truncate properly the selected long basic option","timedOut":null,"duration":1634,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var withLongBasicOption = [{\n  text: 'Option 0 - This is with very long option',\n  value: 'option0'\n}].concat(options);\nvar basicOptions = (0, _utils.getMessageMenusPayload)({\n  options: withLongBasicOption\n}); // # Post an incoming webhook for interactive menu with basic options and verify the post\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: basicOptions\n}).then(function () {\n  verifyLastPost();\n});","err":{},"uuid":"56aaf515-6ccd-4a75-a6f5-b760a2ddfae9","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"should truncate properly the selected long username option","fullTitle":"Interactive Menu should truncate properly the selected long username option","timedOut":null,"duration":1748,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var userOptions = (0, _utils.getMessageMenusPayload)({\n  dataSource: 'users'\n}); // # Post an incoming webhook for interactive menu with user options and verify the post\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: userOptions\n}).then(function () {\n  verifyLastPost();\n});","err":{},"uuid":"af149714-8746-4dc8-a45b-b0c2b48bd07b","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"should truncate properly the selected long channel display name option","fullTitle":"Interactive Menu should truncate properly the selected long channel display name option","timedOut":null,"duration":2632,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var channelOptions = (0, _utils.getMessageMenusPayload)({\n  dataSource: 'channels'\n});\ncy.getCurrentTeamId().then(function (teamId) {\n  // # Create channel with long display name\n  cy.apiCreateChannel(teamId, 'test-channel', \"AAAA Very Long Display Name of a Channel \".concat(Date.now())).then(function () {\n    // # Post an incoming webhook for interactive menu with channel options and verify the post\n    cy.postIncomingWebhook({\n      url: incomingWebhook.url,\n      data: channelOptions\n    }).then(function () {\n      verifyLastPost();\n    });\n  });\n});","err":{},"uuid":"3d7f8d50-57cf-464b-b52d-1e842f4db901","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21037 - Clicking in / Tapping on the message attachment menu box opens list of selections","fullTitle":"Interactive Menu IM21037 - Clicking in / Tapping on the message attachment menu box opens list of selections","timedOut":null,"duration":759,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create a message attachment with menu\nvar basicOptionPayload = (0, _utils.getMessageMenusPayload)({\n  options: options\n});\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: basicOptionPayload\n}); // # Get the last posted message id\ncy.getLastPostId().then(function (lastPostId) {\n  // # Get the last messages attachment container\n  cy.get(\"#messageAttachmentList_\".concat(lastPostId)).within(function () {\n    // * Message attachment menu dropdown should be closed\n    cy.get('#suggestionList').should('not.exist'); // // # Open the message attachment menu dropdown\n    cy.findByPlaceholderText('Select an option...').scrollIntoView().click(); // * Message attachment menu dropdown should now be open\n    cy.get('#suggestionList').should('exist').children().should('have.length', options.length); // # Checking values inside the attachment menu dropdown\n    cy.get('#suggestionList').within(function () {\n      // * Each dropdown should contain the options text\n      cy.findByText(options[0].text).should('exist');\n      cy.findByText(options[1].text).should('exist');\n      cy.findByText(options[2].text).should('exist');\n    });\n  }); // # Close message attachment menu dropdown\n  cy.get('body').click();\n});","err":{},"uuid":"43e43064-1549-4812-a52b-333714ce8ba5","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21036 - Enter selects the option","fullTitle":"Interactive Menu IM21036 - Enter selects the option","timedOut":null,"duration":1828,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create a message attachment with menu\nvar distinctOptions = _interactive_message_menus_options[\"default\"]['distinct-options'];\nvar distinctOptionsPayload = (0, _utils.getMessageMenusPayload)({\n  options: distinctOptions\n});\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: distinctOptionsPayload\n}); // # Get the last posted message id\ncy.getLastPostId().then(function (lastPostId) {\n  // # Get the last messages attachment container\n  cy.get(\"#messageAttachmentList_\".concat(lastPostId)).within(function () {\n    // # Find the message attachment menu and assign it to a variable for later use\n    cy.findByPlaceholderText('Select an option...').scrollIntoView().as('optionInputField'); // # Open the options menu\n    cy.get('@optionInputField').click(); // * Message attachment menu dropdown should now be open\n    cy.get('#suggestionList').should('exist').children().should('have.length', distinctOptions.length); // # Lets make the last option we are interested in finding\n    var selectedOption = distinctOptions[5].text; // # Type the selected word to find in the list\n    cy.get('@optionInputField').type(selectedOption); // # Checking values inside the attachment menu dropdown\n    cy.get('#suggestionList').within(function () {\n      // * All other options should not be there\n      cy.findByText(distinctOptions[0].text).should('not.exist');\n      cy.findByText(distinctOptions[1].text).should('not.exist');\n      cy.findByText(distinctOptions[2].text).should('not.exist');\n      cy.findByText(distinctOptions[3].text).should('not.exist');\n      cy.findByText(distinctOptions[4].text).should('not.exist'); // * Selected option should be there in the search list\n      cy.findByText(selectedOption).should('exist'); // * Other matched option should also be there\n      cy.findByText(distinctOptions[6].text).should('exist');\n    }); // # Enter is clicked to select the correct match\n    cy.get('@optionInputField').type('{enter}'); // * Since option was clicked dropdown should be closed\n    cy.get('#suggestionList').should('not.exist'); // * Verify the input has the selected value\n    cy.findByDisplayValue(selectedOption).should('exist');\n  });\n}); // # Get the emphemirical message from webhook, which is only visible to us\nverifyEphemeralMessage('Ephemeral | select option: mango');","err":{},"uuid":"c6d4e55e-dbcf-4605-bc57-2010707be3c8","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21035 - Long lists of selections are scrollable","fullTitle":"Interactive Menu IM21035 - Long lists of selections are scrollable","timedOut":null,"duration":1304,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var manyOptions = _interactive_message_menus_options[\"default\"]['many-options'];\nvar manyOptionsPayload = (0, _utils.getMessageMenusPayload)({\n  options: manyOptions\n}); // # Create a message attachment with long menu options\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: manyOptionsPayload\n}); // # Get the last posted message id\ncy.getLastPostId().then(function (lastPostId) {\n  // # Get the last messages attachment container\n  cy.get(\"#messageAttachmentList_\".concat(lastPostId)).within(function () {\n    // * Message attachment menu dropdown should be closed\n    cy.get('#suggestionList').should('not.exist'); // // # Open the message attachment menu dropdown\n    cy.findByPlaceholderText('Select an option...').scrollIntoView().click(); // * Message attachment menu dropdown should now be open\n    cy.get('#suggestionList').should('exist').children().should('have.length', manyOptions.length);\n    var lenghtOfLongListOptions = manyOptions.length; // # Scroll to bottom of the options\n    cy.get('#suggestionList').scrollTo('bottom').then(function (listContainer) {\n      // * When scrolled to bottom, the top options should be not visible but should exist in dom\n      cy.findByText(manyOptions[0].text, {\n        listContainer: listContainer\n      }).should('exist').and('not.be.visible');\n      cy.findByText(manyOptions[1].text, {\n        listContainer: listContainer\n      }).should('exist').and('not.be.visible'); // # But the last options should be visible\n      cy.findByText(manyOptions[lenghtOfLongListOptions - 1].text, {\n        listContainer: listContainer\n      }).scrollIntoView().should('exist').and('be.visible');\n      cy.findByText(manyOptions[lenghtOfLongListOptions - 2].text, {\n        listContainer: listContainer\n      }).scrollIntoView().should('exist').and('be.visible');\n    }); // # Scroll to top of the options\n    cy.get('#suggestionList').scrollTo('top').then(function (listContainer) {\n      // * When scrolled to top, the bottom options should be not visible\n      cy.findByText(manyOptions[lenghtOfLongListOptions - 1].text, {\n        listContainer: listContainer\n      }).should('not.be.visible');\n      cy.findByText(manyOptions[lenghtOfLongListOptions - 2].text, {\n        listContainer: listContainer\n      }).should('not.be.visible'); // # But the top options should be visible\n      cy.findByText(manyOptions[0].text, {\n        listContainer: listContainer\n      }).should('be.visible');\n      cy.findByText(manyOptions[1].text, {\n        listContainer: listContainer\n      }).should('be.visible');\n    });\n  }); // # Close message attachment menu dropdown\n  cy.get('body').click();\n});","err":{},"uuid":"61e2472d-9813-441b-b164-29476469ba75","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21040 - Selection is mirrored in RHS / Message Thread","fullTitle":"Interactive Menu IM21040 - Selection is mirrored in RHS / Message Thread","timedOut":null,"duration":2592,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create a webhook with distinct options\nvar distinctOptions = _interactive_message_menus_options[\"default\"]['distinct-options'];\nvar distinctListOptionPayload = (0, _utils.getMessageMenusPayload)({\n  options: distinctOptions\n});\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: distinctListOptionPayload\n});\nvar selectedItem = distinctOptions[2].text;\nvar firstFewLettersOfSelectedItem = selectedItem.substring(0, 3); // Make sure the options have minimum length of 3\n// # Get the last posted message id\ncy.getLastPostId().then(function (lastPostId) {\n  // # Get the last messages attachment container\n  cy.get(\"#messageAttachmentList_\".concat(lastPostId)).within(function () {\n    // # Start typing only first few letters in the input\n    cy.findByPlaceholderText('Select an option...').scrollIntoView().clear({\n      force: true\n    }).type(\"\".concat(firstFewLettersOfSelectedItem)); // * Message attachment dropdown with the selected item should be visible\n    cy.get('#suggestionList').should('exist').within(function () {\n      cy.findByText(selectedItem).should('exist');\n    }); // # Now that we know selected option appeared in the list, Click enter on input field\n    cy.findByPlaceholderText('Select an option...').scrollIntoView().clear({\n      force: true\n    }).type('{enter}'); // * Verify the input has the selected value\n    cy.findByDisplayValue(selectedItem).should('exist');\n  });\n}); // # Checking if we got the ephemeral message with the selection we made\nverifyEphemeralMessage('Ephemeral | select option: banana');\ncy.getNthPostId(-2).then(function (webhookMessageId) {\n  // # Click on reply icon to open message in RHS\n  cy.clickPostCommentIcon(webhookMessageId); // * Verify RHS has opened\n  cy.get('#rhsContainer').should('exist'); // # Same id as parent post in center, only opened in RHS\n  cy.get(\"#rhsPost_\".concat(webhookMessageId)).within(function () {\n    // * Verify the input has the selected value same as that of Center\n    cy.findByDisplayValue(selectedItem).should('exist');\n  }); // # Close RHS\n  cy.closeRHS();\n});","err":{},"uuid":"3a3f27df-21e3-490c-ac6d-f6f4f1287412","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21044 - Change selection in RHS / Message Thread","fullTitle":"Interactive Menu IM21044 - Change selection in RHS / Message Thread","timedOut":null,"duration":3352,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create a webhook with distinct options\nvar distinctOptions = _interactive_message_menus_options[\"default\"]['distinct-options'];\nvar distinctListOptionPayload = (0, _utils.getMessageMenusPayload)({\n  options: distinctOptions\n});\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: distinctListOptionPayload\n});\nvar firstSelectedItem = distinctOptions[2].text;\nvar secondSelectedItem = distinctOptions[7].text; // # Verify the webhook posted the message\ncy.getLastPostId().then(function (parentPostId) {\n  // # Get the last messages attachment container\n  cy.get(\"#messageAttachmentList_\".concat(parentPostId)).within(function () {\n    // # Open the message attachment menu dropdown by clickin on input\n    cy.findByPlaceholderText('Select an option...').scrollIntoView().click(); // * Message attachment dropdown with the selected item should be visible\n    cy.get('#suggestionList').should('exist').within(function () {\n      // # Make a first selection from the given options\n      cy.findByText(firstSelectedItem).should('exist').click();\n    }); // * Verify the input has the selected value you clicked\n    cy.findByDisplayValue(firstSelectedItem).should('exist');\n  }); // # Checking if we got the ephemeral message with the selection we made\n  verifyEphemeralMessage('Ephemeral | select option: banana'); // # Click on reply icon to original message with attachment message in RHS\n  cy.clickPostCommentIcon(parentPostId); // * Verify RHS has opened\n  cy.get('#rhsContainer').should('exist'); // # Same id as parent post in center should be opened in RHS since we clicked reply button\n  cy.get(\"#rhsPost_\".concat(parentPostId)).within(function () {\n    // * Verify the input has the selected value same as that of Center and open dropdown to make new selection\n    cy.findByDisplayValue(firstSelectedItem).should('exist').click(); // * Message attachment dropdown with the selected item should be visible\n    cy.get('#suggestionList').should('exist').within(function () {\n      // # Make a second selection different from first from options\n      cy.findByText(secondSelectedItem).should('exist').click();\n    }); // * Verify the input has the new selected value in the RHS message\n    cy.findByDisplayValue(secondSelectedItem).should('exist');\n  }); // * Verify the original message with attacment's selection is also changed\n  cy.get(\"#messageAttachmentList_\".concat(parentPostId)).within(function () {\n    // * Verify the input in center has the new selected value i.e secondSelectedItem\n    cy.findByDisplayValue(secondSelectedItem).should('exist');\n  }); // # Checking if we got updated ephemeral message with the new selection we made\n  verifyEphemeralMessage('Ephemeral | select option: avacodo');\n  cy.closeRHS();\n});","err":{},"uuid":"b43a88c7-2baf-46c4-9009-47974fab6289","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false},{"title":"IM21038 - Selected options with long usernames are not cut off in the RHS","fullTitle":"Interactive Menu IM21038 - Selected options with long usernames are not cut off in the RHS","timedOut":null,"duration":5735,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.getCurrentTeamId().then(function (teamId) {\n  longUsername = \"name-of-64-abcdefghijklmnopqrstuvwxyz-123456789-\".concat(Date.now()); // # Create a new user with 64 chars length\n  cy.apiCreateNewUser({\n    username: longUsername\n  }, [teamId]).then(function (user) {\n    cy.visit(\"/ad-1/channels/\".concat(channel.name));\n    cy.apiAddUserToChannel(channel.id, user.id); // # Make webhook request to get list of all the users\n    var userOptions = (0, _utils.getMessageMenusPayload)({\n      dataSource: 'users'\n    });\n    cy.postIncomingWebhook({\n      url: incomingWebhook.url,\n      data: userOptions\n    }); // # Go to last webhook message with users list\n    cy.getLastPostId().then(function (lastPostId) {\n      // # Get the last messages attachment container\n      cy.get(\"#messageAttachmentList_\".concat(lastPostId)).within(function () {\n        // # Find and select the user, we just added\n        cy.findByPlaceholderText('Select an option...').scrollIntoView().clear({\n          force: true\n        }).type(\"\".concat(longUsername));\n        cy.get('#suggestionList').within(function () {\n          // * Newly added username should be there in the search list\n          cy.findByText(\"@\".concat(longUsername)).should('exist').click();\n        }); // * Verify the input has the complete username value\n        cy.findByDisplayValue(longUsername).should('exist');\n      }); // # Click on reply icon to open message in RHS\n      cy.clickPostCommentIcon(lastPostId); // * Verify RHS has opened\n      cy.get('#rhsContainer').should('exist'); // # Same id as parent post in center, only opened in RHS\n      cy.get(\"#rhsPost_\".concat(lastPostId)).within(function () {\n        // * Verify the input has the selected value same as that of Center\n        //   and verify that it has truncation css applied\n        cy.findByDisplayValue(longUsername).should('exist').and('have.css', 'text-overflow', 'ellipsis');\n      }); // # Close RHS\n      cy.closeRHS();\n    });\n  });\n});","err":{},"uuid":"b82fdc87-a55a-4831-be0c-5e08dc28cb33","parentUUID":"55d41da4-b019-4a0e-a643-f6cd2fc78014","isHook":false,"skipped":false}],"suites":[],"passes":["03a79d1e-cac0-4e62-9bd1-daca45a6b041","8434c314-6d7f-4aab-ab4d-47830c1a9b5a","b36917a6-9dd3-469d-bbac-ef2deec10866","3aac3022-13c9-4d24-be5e-7c4207e4a17c","8ea18500-b1cb-4d87-9519-c6054c0f5db2","9838cb43-d538-4b29-b4b4-fb15125da529","56aaf515-6ccd-4a75-a6f5-b760a2ddfae9","af149714-8746-4dc8-a45b-b0c2b48bd07b","3d7f8d50-57cf-464b-b52d-1e842f4db901","43e43064-1549-4812-a52b-333714ce8ba5","c6d4e55e-dbcf-4605-bc57-2010707be3c8","61e2472d-9813-441b-b164-29476469ba75","3a3f27df-21e3-490c-ac6d-f6f4f1287412","b43a88c7-2baf-46c4-9009-47974fab6289","b82fdc87-a55a-4831-be0c-5e08dc28cb33"],"failures":[],"pending":[],"skipped":[],"duration":31970,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c35ad930-d09c-46ac-8a37-f2dabd78fda2","title":"","fullFile":"cypress/integration/interactive_menu/select_with_keys_spec.js","file":"cypress/integration/interactive_menu/select_with_keys_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"6c87e5ca-379c-4f28-b009-4366801f81d2","title":"Interactive Menu","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"IM21041 - Using up/down keys to make a selection from SEARCH results","fullTitle":"Interactive Menu IM21041 - Using up/down keys to make a selection from SEARCH results","timedOut":null,"duration":5809,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var searchOptionsPayload = (0, _utils.getMessageMenusPayload)({\n  options: searchOptions\n}); // # Post an incoming webhook for interactive menu with search options\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: searchOptionsPayload\n}); // # Get message attachment from the last post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#messageAttachmentList_\".concat(postId)).as('messageAttachmentList');\n});\ncy.get('@messageAttachmentList').within(function () {\n  cy.findByPlaceholderText('Select an option...').click().clear().type('sea'); // * Message attachment menu dropdown should now be open\n  cy.get('#suggestionList').should('exist').children().should('have.length', 2); // # Checking values inside the attachment menu dropdown\n  cy.get('#suggestionList').within(function () {\n    // * Each dropdown should contain the searchOptions text\n    cy.findByText(searchOptions[0].text).should('exist');\n    cy.findByText(searchOptions[1].text).should('exist'); // * First coincident element of the search should be hightlighted and the rest should not\n    cy.findByText(searchOptions[0].text).should('have.class', 'suggestion--selected');\n    cy.findByText(searchOptions[1].text).should('not.have.class', 'suggestion--selected');\n  }); // # Type downarrow to select next option\n  cy.findByPlaceholderText('Select an option...').type('{downarrow}');\n  cy.get('#suggestionList').within(function () {\n    // * Second element should be highlighted and first should not\n    cy.findByText(searchOptions[0].text).should('not.have.class', 'suggestion--selected');\n    cy.findByText(searchOptions[1].text).should('have.class', 'suggestion--selected');\n  }); // # Type uparrow to select previous option\n  cy.findByPlaceholderText('Select an option...').type('{uparrow}');\n  cy.get('#suggestionList').within(function () {\n    // * First element should be highlighted and second should not\n    cy.findByText(searchOptions[0].text).should('have.class', 'suggestion--selected');\n    cy.findByText(searchOptions[1].text).should('not.have.class', 'suggestion--selected');\n  });\n});","err":{},"uuid":"5b928a47-ba6d-4834-b2f1-3c1883ef4615","parentUUID":"6c87e5ca-379c-4f28-b009-4366801f81d2","isHook":false,"skipped":false}],"suites":[],"passes":["5b928a47-ba6d-4834-b2f1-3c1883ef4615"],"failures":[],"pending":[],"skipped":[],"duration":5809,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c87e10ed-0c72-4528-a9ce-8d7c2e13ec3f","title":"","fullFile":"cypress/integration/interactive_menu/slack_parsing_message_button_spec.js","file":"cypress/integration/interactive_menu/slack_parsing_message_button_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5bd1acb5-4a70-44af-a403-7f34ae0a0b0e","title":"Interactive Menu","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should parse text into Slack-compatible markdown depending on \"skip_slack_parsing\" property on response","fullTitle":"Interactive Menu should parse text into Slack-compatible markdown depending on \"skip_slack_parsing\" property on response","timedOut":null,"duration":5930,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var payload = getPayload(Cypress.env().webhookBaseUrl); // # Post an incoming webhook\ncy.postIncomingWebhook({\n  url: incomingWebhook.url,\n  data: payload\n}); // # Click on \"Skip Parsing\" button\ncy.findByText('Skip Parsing').should('be.visible').click({\n  force: true\n});\ncy.wait(TIMEOUTS.TINY); // * Verify that it renders original \"spoiler\" text\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).should('have.html', '<p>a &lt; a | b &gt; a</p>');\n}); // # Click on \"Do Parsing\" button\ncy.findByText('Do Parsing').should('be.visible').click({\n  force: true\n});\ncy.wait(TIMEOUTS.TINY); // * Verify that it renders markdown with link\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).should('have.html', '<p>a <a class=\"theme markdown__link\" href=\"http://a\" rel=\"noreferrer\" target=\"_blank\"> b </a> a</p>');\n});","err":{},"uuid":"40e4c36e-9275-438c-88ca-a565b329173b","parentUUID":"5bd1acb5-4a70-44af-a403-7f34ae0a0b0e","isHook":false,"skipped":false}],"suites":[],"passes":["40e4c36e-9275-438c-88ca-a565b329173b"],"failures":[],"pending":[],"skipped":[],"duration":5930,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"1e1efaa0-3070-41f6-9a0d-f98d2ebd4444","title":"","fullFile":"cypress/integration/keyboard_shortcuts/alt_option_plus_up_down_spec.js","file":"cypress/integration/keyboard_shortcuts/alt_option_plus_up_down_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"57923c52-b39e-4e19-b587-87243dd634e2","title":"Keyboard Shortcuts","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Alt/Option + Up","fullTitle":"Keyboard Shortcuts Alt/Option + Up","timedOut":null,"duration":5493,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.visit(\"/\".concat(team.name, \"/messages/@sysadmin\")); // * Verify that the channel is loaded\ncy.get('#channelHeaderTitle').should('contain', 'sysadmin'); // * Switch to channels by Alt+Up/Down keypress and verify\nverifyChannelSwitch(team.name, privateChannel, sysadmin, '{uparrow}');\nverifyChannelSwitch(team.name, townSquare, privateChannel, '{uparrow}');\nverifyChannelSwitch(team.name, publicChannel, townSquare, '{uparrow}');\nverifyChannelSwitch(team.name, offTopic, publicChannel, '{uparrow}'); // * Should switch to bottom of channel list when current channel is at the very top\nverifyChannelSwitch(team.name, sysadmin, offTopic, '{uparrow}');","err":{},"uuid":"1c97a764-d67a-4bc3-ab36-53292efc6e48","parentUUID":"57923c52-b39e-4e19-b587-87243dd634e2","isHook":false,"skipped":false},{"title":"Alt/Option + Down","fullTitle":"Keyboard Shortcuts Alt/Option + Down","timedOut":null,"duration":2273,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.visit(\"/\".concat(team.name, \"/channels/off-topic\")); // * Verify that the channel is loaded\ncy.get('#channelHeaderTitle').should('contain', 'Off-Topic'); // # Switch to channels by Alt+Up/Down keypress and verify\nverifyChannelSwitch(team.name, publicChannel, offTopic, '{downarrow}');\nverifyChannelSwitch(team.name, townSquare, publicChannel, '{downarrow}');\nverifyChannelSwitch(team.name, privateChannel, townSquare, '{downarrow}');\nverifyChannelSwitch(team.name, sysadmin, privateChannel, '{downarrow}'); // * Should switch to top of channel list when current channel is at the very bottom\nverifyChannelSwitch(team.name, offTopic, sysadmin, '{downarrow}');","err":{},"uuid":"1bfaf0aa-f0fa-43a9-8241-9b2e2a41cb36","parentUUID":"57923c52-b39e-4e19-b587-87243dd634e2","isHook":false,"skipped":false}],"suites":[],"passes":["1c97a764-d67a-4bc3-ab36-53292efc6e48","1bfaf0aa-f0fa-43a9-8241-9b2e2a41cb36"],"failures":[],"pending":[],"skipped":[],"duration":7766,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"cbbc4324-dd91-4b6b-875b-5252546cea5f","title":"","fullFile":"cypress/integration/mark_as_unread/mark_as_unread_spec.js","file":"cypress/integration/mark_as_unread/mark_as_unread_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","title":"Mark as Unread","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Channel should appear unread after switching away from channel and be read after switching back","fullTitle":"Mark as Unread Channel should appear unread after switching away from channel and be read after switching back","timedOut":null,"duration":5830,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// Starts unread\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beUnread);\nswitchToChannel(channelA); // Then becomes read when you view the channel\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beRead);\nmarkAsUnreadFromPost(post2); // Then becomes unread when the channel is marked as unread\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beUnread);\nswitchToChannel(channelB); // Then stays unread when switching away\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beUnread);\nswitchToChannel(channelA); // And becomes read when switching back\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beRead);","err":{},"uuid":"b4aaa133-1f1c-425f-b055-490c58483bd0","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false},{"title":"New messages line should remain after switching back to channel","fullTitle":"Mark as Unread New messages line should remain after switching back to channel","timedOut":null,"duration":5476,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"switchToChannel(channelA); // Starts not visible\ncy.get('.NotificationSeparator').should('not.exist');\nmarkAsUnreadFromPost(post2); // Then becomes visible\ncy.get('.NotificationSeparator').should('exist');\nswitchToChannel(channelB);\nswitchToChannel(channelA); // Then stays visible when switching back to channel\ncy.get('.NotificationSeparator').should('exist');\nswitchToChannel(channelB);\nswitchToChannel(channelA); // Then finally disappears when switching back a second time\ncy.get('.NotificationSeparator').should('not.exist');","err":{},"uuid":"2a84db32-405b-41c7-aac7-48e518e2a4f2","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false},{"title":"Should be able to mark channel as unread by alt-clicking","fullTitle":"Mark as Unread Should be able to mark channel as unread by alt-clicking","timedOut":null,"duration":2954,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"switchToChannel(channelA);\nmarkAsUnreadFromPost(post2); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post2');\nmarkAsUnreadFromPost(post1); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post1');\nmarkAsUnreadFromPost(post3); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post3');","err":{},"uuid":"c10583d7-25a3-4483-acaf-066cb9b72bbf","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false},{"title":"Should be able to mark channel as unread from post menu","fullTitle":"Mark as Unread Should be able to mark channel as unread from post menu","timedOut":null,"duration":22323,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/mark_as_unread/mark_as_unread_spec.js/Mark as Unread -- Should be able to mark channel as unread from post menu (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/mark_as_unread/mark_as_unread_spec.js/Mark as Unread -- Should be able to mark channel as unread from post menu (failed).png\"\n}","code":"switchToChannel(channelA);\nmarkAsUnreadFromMenu(post2); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post2');\nmarkAsUnreadFromMenu(post1); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post1');\nmarkAsUnreadFromMenu(post3); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post3');","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#post_npgginkcojfajb6od7cft7mq4e .post__dropdown', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#post_npgginkcojfajb6od7cft7mq4e .post__dropdown', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"bec416a0-5331-4abb-8890-42781fda1927","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false},{"title":"Should be able to mark channel as unread by alt-clicking on RHS","fullTitle":"Mark as Unread Should be able to mark channel as unread by alt-clicking on RHS","timedOut":null,"duration":3398,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"switchToChannel(channelA); // Show the RHS\ncy.get(\"#CENTER_commentIcon_\".concat(post3.id)).click({\n  force: true\n});\nmarkAsUnreadFromPost(post1, true); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post1');\nmarkAsUnreadFromPost(post3, true); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post3');","err":{},"uuid":"26a90fae-59f2-4977-bdc3-133ecf30ee81","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false},{"title":"Should be able to mark channel as unread from RHS post menu","fullTitle":"Mark as Unread Should be able to mark channel as unread from RHS post menu","timedOut":null,"duration":22819,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/mark_as_unread/mark_as_unread_spec.js/Mark as Unread -- Should be able to mark channel as unread from RHS post menu (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/mark_as_unread/mark_as_unread_spec.js/Mark as Unread -- Should be able to mark channel as unread from RHS post menu (failed).png\"\n}","code":"switchToChannel(channelA); // Show the RHS\ncy.get(\"#CENTER_commentIcon_\".concat(post3.id)).click({\n  force: true\n});\nmarkAsUnreadFromMenu(post1, true); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post1');\nmarkAsUnreadFromMenu(post3, true); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post3');","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#rhsPost_8iyxeh4u87rtufqpst11dxntwy .post__dropdown', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#rhsPost_8iyxeh4u87rtufqpst11dxntwy .post__dropdown', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"f4ad7958-1062-4d3e-8ac2-37ec5f32246d","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false},{"title":"Should show cursor pointer when holding down alt","fullTitle":"Mark as Unread Should show cursor pointer when holding down alt","timedOut":null,"duration":3684,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var showCursor = function showCursor(items) {\n  cy.expect(items).to.have.length(1);\n  expect(items[0].className).to.match(/cursor--pointer/);\n};\nvar notShowCursor = function notShowCursor(items) {\n  cy.expect(items).to.have.length(1);\n  expect(items[0].className).to.not.match(/cursor--pointer/);\n};\nvar componentIds = [\"#post_\".concat(post1.id), \"#post_\".concat(post2.id), \"#post_\".concat(post3.id), \"#rhsPost_\".concat(post1.id), \"#rhsPost_\".concat(post3.id)];\nswitchToChannel(channelA); // Show the RHS\ncy.get(\"#CENTER_commentIcon_\".concat(post3.id)).click({\n  force: true\n}); // Should not show when moused over without holding alt\nfor (var _i = 0, _componentIds = componentIds; _i < _componentIds.length; _i++) {\n  var componentId = _componentIds[_i];\n  cy.get(componentId).should(notShowCursor);\n}\ncy.get('body').trigger('keydown', {\n  altKey: true\n}); // Should show when holding alt\nfor (var _i2 = 0, _componentIds2 = componentIds; _i2 < _componentIds2.length; _i2++) {\n  var _componentId = _componentIds2[_i2];\n  cy.get(_componentId).should(showCursor);\n}\ncy.get('body').trigger('keyup', {\n  altKey: false\n}); // Should not show after having released alt\nfor (var _i3 = 0, _componentIds3 = componentIds; _i3 < _componentIds3.length; _i3++) {\n  var _componentId2 = _componentIds3[_i3];\n  cy.get(_componentId2).trigger('mouseover');\n  cy.get(_componentId2).should(notShowCursor);\n  cy.get(_componentId2).trigger('mouseout');\n}","err":{},"uuid":"80fbb665-6ef5-4f28-811e-39d3539913a9","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false},{"title":"Marking a channel as unread from another session while viewing channel","fullTitle":"Mark as Unread Marking a channel as unread from another session while viewing channel","timedOut":null,"duration":5656,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"switchToChannel(channelA);\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beRead);\nmarkAsUnreadFromAnotherSession(post2); // The channel should now be unread\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beUnread); // The New Messages line should appear above the selected post\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post2');\nswitchToChannel(channelB); // Then stays unread when switching away\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beUnread);\nswitchToChannel(channelA); // And becomes read when switching back\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beRead);\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post2');","err":{},"uuid":"db26518f-e218-46c9-b86c-1f768824ee2d","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false},{"title":"Marking a channel as unread from another session while viewing another channel","fullTitle":"Mark as Unread Marking a channel as unread from another session while viewing another channel","timedOut":null,"duration":3669,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"switchToChannel(channelA);\nswitchToChannel(channelB);\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beRead);\nmarkAsUnreadFromAnotherSession(post2); // The channel should now be unread\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beUnread);\nswitchToChannel(channelA); // And becomes read when switching back\ncy.get(\"#sidebarItem_\".concat(channelA.name)).should(beRead);\ncy.get('.NotificationSeparator').should('exist');\ncy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post2');","err":{},"uuid":"63a8e7fc-8063-467c-afaa-996e1e1b7f05","parentUUID":"c9a1b2f0-f0ca-41ed-b080-c6685c959aa1","isHook":false,"skipped":false}],"suites":[],"passes":["b4aaa133-1f1c-425f-b055-490c58483bd0","2a84db32-405b-41c7-aac7-48e518e2a4f2","c10583d7-25a3-4483-acaf-066cb9b72bbf","26a90fae-59f2-4977-bdc3-133ecf30ee81","80fbb665-6ef5-4f28-811e-39d3539913a9","db26518f-e218-46c9-b86c-1f768824ee2d","63a8e7fc-8063-467c-afaa-996e1e1b7f05"],"failures":["bec416a0-5331-4abb-8890-42781fda1927","f4ad7958-1062-4d3e-8ac2-37ec5f32246d"],"pending":[],"skipped":[],"duration":75809,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"646568cb-3b39-4027-8b96-7a2fdd2faa59","title":"","fullFile":"cypress/integration/markdown/markdown_image_spec.js","file":"cypress/integration/markdown/markdown_image_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"e7495326-78a2-464e-86a5-d59dddc0634a","title":"Markdown","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"with in-line images 1","fullTitle":"Markdown with in-line images 1","timedOut":null,"duration":3832,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile('markdown/markdown_inline_images_1.md'); // * Verify that HTML Content is correct.\n// Note we check width and height to verify that img element is actually loaded\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).find('div.markdown-inline-img__container').should('contain', 'Mattermost/platform build status:  ');\n  cy.get(\"#postMessageText_\".concat(postId)).find('img').should('have.class', 'markdown-inline-img').and('have.class', 'markdown-inline-img--hover').and('have.class', 'markdown-inline-img--no-border').and('have.attr', 'alt', 'Build Status').and('have.attr', 'src', \"\".concat(baseUrl, \"/api/v4/image?url=https%3A%2F%2Ftravis-ci.org%2Fmattermost%2Fplatform.svg%3Fbranch%3Dmaster\")).and(function (inlineImg) {\n    expect(inlineImg.height()).to.be.closeTo(20, 0.9);\n  }).and('have.css', 'width', '98px');\n});","err":{},"uuid":"7911e258-c0bc-480d-958b-0731273e2f44","parentUUID":"e7495326-78a2-464e-86a5-d59dddc0634a","isHook":false,"skipped":false},{"title":"with in-line images 2","fullTitle":"Markdown with in-line images 2","timedOut":null,"duration":940,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile('markdown/markdown_inline_images_2.md'); // * Verify that HTML Content is correct.\n// Note we check width and height to verify that img element is actually loaded\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).find('div').should('have.text', 'GitHub favicon:  ').and('have.class', 'markdown-inline-img__container');\n  cy.get(\"#postMessageText_\".concat(postId)).find('img').should('have.class', 'markdown-inline-img').and('have.class', 'markdown-inline-img--hover').and('have.class', 'cursor--pointer').and('have.class', 'a11y--active').and('have.attr', 'alt', 'Github').and('have.attr', 'src', \"\".concat(baseUrl, \"/api/v4/image?url=https%3A%2F%2Fgithub.githubassets.com%2Ffavicon.ico\")).and('have.css', 'height', '34px').and('have.css', 'width', '34px');\n});","err":{},"uuid":"8fa325d1-728d-4f62-8ba8-4d1c909e8af6","parentUUID":"e7495326-78a2-464e-86a5-d59dddc0634a","isHook":false,"skipped":false},{"title":"opens image preview window when image is clicked","fullTitle":"Markdown opens image preview window when image is clicked","timedOut":null,"duration":21303,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/markdown/markdown_image_spec.js/Markdown -- opens image preview window when image is clicked (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/markdown/markdown_image_spec.js/Markdown -- opens image preview window when image is clicked (failed).png\"\n}","code":"// For example a png image\n// #  Post markdown message\ncy.postMessageFromFile('markdown/markdown_inline_images_6.md');\ncy.getLastPostId().then(function (postId) {\n  // # Get the image and simulate a click.\n  cy.get(\"#postMessageText_\".concat(postId)).should('be.visible').within(function () {\n    cy.get('.markdown-inline-img').should('be.visible').and(function (inlineImg) {\n      expect(inlineImg.height()).to.be.closeTo(143, 2);\n      expect(inlineImg.width()).to.be.closeTo(893, 2);\n    }).click();\n  }); // * Verify that the preview modal opens\n  cy.get('div.modal-image__content').should('be.visible'); // # Close the modal\n  cy.get('div.modal-close').should('exist').click({\n    force: true\n  });\n});","err":{"message":"CypressError: Timed out retrying: expected 906 to be close to 893 +/- 2","estack":"CypressError: Timed out retrying: expected 906 to be close to 893 +/- 2\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"5a105d89-285c-462e-86a8-2f38cb83e453","parentUUID":"e7495326-78a2-464e-86a5-d59dddc0634a","isHook":false,"skipped":false},{"title":"opens file preview window when icon image is clicked","fullTitle":"Markdown opens file preview window when icon image is clicked","timedOut":null,"duration":1273,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// Icon (.ico) files are opened in a file preview window\n// #  Post markdown message\ncy.postMessageFromFile('markdown/markdown_inline_images_2.md');\ncy.getLastPostId().then(function (postId) {\n  // # Get the image and simulate a click.\n  cy.get(\"#postMessageText_\".concat(postId)).should('be.visible').within(function () {\n    cy.get('.markdown-inline-img').should('be.visible').should('have.css', 'height', '34px').and('have.css', 'width', '34px').click();\n  }); // * Verify that the preview modal opens\n  cy.get('div.file-details__container').should('be.visible'); // # Close the modal\n  cy.get('div.modal-close').should('exist').click({\n    force: true\n  });\n});","err":{},"uuid":"ee7635ca-28a5-4ec6-b2ad-950ff5888034","parentUUID":"e7495326-78a2-464e-86a5-d59dddc0634a","isHook":false,"skipped":false},{"title":"channel header is markdown image","fullTitle":"Markdown channel header is markdown image","timedOut":null,"duration":3084,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Update channel header\ncy.updateChannelHeader('![MM Logo](https://www.mattermost.org/wp-content/uploads/2016/03/logoHorizontal.png)'); // * Verify image in header\ncy.get('#channelHeaderDescription').find('div.markdown__paragraph-inline').as('imageDiv');\ncy.get('@imageDiv').find('img.markdown-inline-img').should('have.class', 'markdown-inline-img--hover').and('have.class', 'cursor--pointer').and('have.class', 'a11y--active').and('have.css', 'height', '18px'); // * Verify image in system message\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).find('img.markdown-inline-img').should('have.class', 'markdown-inline-img--hover').and('have.class', 'cursor--pointer').and('have.class', 'a11y--active').and('have.class', 'markdown-inline-img--scaled-down').and('have.css', 'height', '18px');\n});","err":{},"uuid":"886722c5-5bde-49f4-b74a-487b5f2ac8f4","parentUUID":"e7495326-78a2-464e-86a5-d59dddc0634a","isHook":false,"skipped":false},{"title":"channel header is markdown image that is also a link","fullTitle":"Markdown channel header is markdown image that is also a link","timedOut":null,"duration":3376,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Update channel header\ncy.updateChannelHeader('[![Build Status](https://travis-ci.org/mattermost/platform.svg?branch=master)](https://travis-ci.org/mattermost/platform)'); // * Verify image in header\ncy.get('#channelHeaderDescription').find('div.markdown__paragraph-inline').as('imageDiv');\ncy.get('@imageDiv').find('img.markdown-inline-img').should('have.class', 'markdown-inline-img--hover').and('have.class', 'markdown-inline-img--no-border').and('have.css', 'height', '18px'); // * Verify image in system message\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).find('img.markdown-inline-img--no-border').should('have.class', 'markdown-inline-img--hover').and('have.class', 'markdown-inline-img').and('have.class', 'markdown-inline-img--scaled-down').and('have.css', 'height', '18px');\n});","err":{},"uuid":"8938e30e-9b15-4ae5-872b-9a4915b99e32","parentUUID":"e7495326-78a2-464e-86a5-d59dddc0634a","isHook":false,"skipped":false}],"suites":[],"passes":["7911e258-c0bc-480d-958b-0731273e2f44","8fa325d1-728d-4f62-8ba8-4d1c909e8af6","ee7635ca-28a5-4ec6-b2ad-950ff5888034","886722c5-5bde-49f4-b74a-487b5f2ac8f4","8938e30e-9b15-4ae5-872b-9a4915b99e32"],"failures":["5a105d89-285c-462e-86a8-2f38cb83e453"],"pending":[],"skipped":[],"duration":33808,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c5dbd08f-ce32-4f2e-bed2-45176851e487","title":"","fullFile":"cypress/integration/markdown/markdown_text_spec.js","file":"cypress/integration/markdown/markdown_text_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"24edf154-660b-44da-97c7-4d9b0e719da8","title":"Markdown message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Markdown - basic","fullTitle":"Markdown message Markdown - basic","timedOut":null,"duration":8793,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"987efc9c-080e-46cc-919a-d88f3239cdc3","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - text style","fullTitle":"Markdown message Markdown - text style","timedOut":null,"duration":6023,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"40cc3553-6f2d-4535-97e4-fbe8d7dc2386","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - carriage return","fullTitle":"Markdown message Markdown - carriage return","timedOut":null,"duration":5945,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"19c68a87-645f-4fab-b943-f67283ba8d05","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - code block","fullTitle":"Markdown message Markdown - code block","timedOut":null,"duration":5956,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"52a4c6ce-7fd8-4dd6-b566-ae8192402205","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - should not render inside the code block","fullTitle":"Markdown message Markdown - should not render inside the code block","timedOut":null,"duration":5982,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"ef526cf8-c6ba-467b-a992-7a721b625da3","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - should not auto-link or generate previews","fullTitle":"Markdown message Markdown - should not auto-link or generate previews","timedOut":null,"duration":5998,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"7a2a883b-59f9-48c7-a79b-335faa10e2cb","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - should appear as a carriage return separating two lines of text","fullTitle":"Markdown message Markdown - should appear as a carriage return separating two lines of text","timedOut":null,"duration":5986,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"6204d6db-925e-4edd-a360-c1b8ba16b6d4","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - in-line code","fullTitle":"Markdown message Markdown - in-line code","timedOut":null,"duration":6060,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"89cac5bd-5636-4951-9873-ee30e7d7e098","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - lines","fullTitle":"Markdown message Markdown - lines","timedOut":null,"duration":5981,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"d05761ea-ead6-4045-b909-ae1e29dec6a7","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - headings","fullTitle":"Markdown message Markdown - headings","timedOut":null,"duration":6011,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"1016290f-1f96-4059-b16d-22979c2797c2","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - escape characters","fullTitle":"Markdown message Markdown - escape characters","timedOut":null,"duration":5991,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"52b958d6-a575-4688-89df-823403056802","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - block quotes 1","fullTitle":"Markdown message Markdown - block quotes 1","timedOut":null,"duration":6083,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// #  Post markdown message\ncy.postMessageFromFile(\"markdown/\".concat(testCase.fileKey, \".md\")).wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.compareLastPostHTMLContentFromFile(\"markdown/\".concat(testCase.fileKey, \".html\"));","err":{},"uuid":"3778473a-848a-4128-9505-245a21119b15","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false},{"title":"Markdown - block quotes 2","fullTitle":"Markdown message Markdown - block quotes 2","timedOut":null,"duration":6109,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var baseUrl = Cypress.config('baseUrl');\nvar expectedHtml = \"<h3 class=\\\"markdown__heading\\\">Block Quotes</h3><p><strong>The following markdown should render within the block quote:</strong></p>\\n<blockquote>\\n<h4 class=\\\"markdown__heading\\\">Heading 4</h4><p><em>Italics</em>, <em>Italics</em>, <strong>Bold</strong>, <strong><em>Bold-italics</em></strong>, <strong><em>Bold-italics</em></strong>, <del>Strikethrough</del>\\n<span data-emoticon=\\\"slightly_smiling_face\\\"><span alt=\\\":slightly_smiling_face:\\\" class=\\\"emoticon\\\" title=\\\":slightly_smiling_face:\\\" style=\\\"background-image: url(&quot;\".concat(baseUrl, \"/static/emoji/1f642.png&quot;);\\\"></span></span> <span data-emoticon=\\\"slightly_smiling_face\\\"><span alt=\\\":slightly_smiling_face:\\\" class=\\\"emoticon\\\" title=\\\":slightly_smiling_face:\\\" style=\\\"background-image: url(&quot;\").concat(baseUrl, \"/static/emoji/1f642.png&quot;);\\\"></span></span> <span data-emoticon=\\\"wink\\\"><span alt=\\\":wink:\\\" class=\\\"emoticon\\\" title=\\\":wink:\\\" style=\\\"background-image: url(&quot;\").concat(baseUrl, \"/static/emoji/1f609.png&quot;);\\\"></span></span> <span data-emoticon=\\\"scream\\\"><span alt=\\\":scream:\\\" class=\\\"emoticon\\\" title=\\\":scream:\\\" style=\\\"background-image: url(&quot;\").concat(baseUrl, \"/static/emoji/1f631.png&quot;);\\\"></span></span> <span data-emoticon=\\\"bamboo\\\"><span alt=\\\":bamboo:\\\" class=\\\"emoticon\\\" title=\\\":bamboo:\\\" style=\\\"background-image: url(&quot;\").concat(baseUrl, \"/static/emoji/1f38d.png&quot;);\\\"></span></span> <span data-emoticon=\\\"gift_heart\\\"><span alt=\\\":gift_heart:\\\" class=\\\"emoticon\\\" title=\\\":gift_heart:\\\" style=\\\"background-image: url(&quot;\").concat(baseUrl, \"/static/emoji/1f49d.png&quot;);\\\"></span></span> <span data-emoticon=\\\"dolls\\\"><span alt=\\\":dolls:\\\" class=\\\"emoticon\\\" title=\\\":dolls:\\\" style=\\\"background-image: url(&quot;\").concat(baseUrl, \"/static/emoji/1f38e.png&quot;);\\\"></span></span></p>\\n</blockquote>\"); // #  Post markdown message\ncy.postMessageFromFile('markdown/markdown_block_quotes_2.md').wait(TIMEOUTS.SMALL); // * Verify that HTML Content is correct\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId), {\n    timeout: TIMEOUTS.MEDIUM\n  }).should('have.html', expectedHtml);\n});","err":{},"uuid":"9ae00515-3822-4b78-b429-7835f6872199","parentUUID":"24edf154-660b-44da-97c7-4d9b0e719da8","isHook":false,"skipped":false}],"suites":[],"passes":["987efc9c-080e-46cc-919a-d88f3239cdc3","40cc3553-6f2d-4535-97e4-fbe8d7dc2386","19c68a87-645f-4fab-b943-f67283ba8d05","52a4c6ce-7fd8-4dd6-b566-ae8192402205","ef526cf8-c6ba-467b-a992-7a721b625da3","7a2a883b-59f9-48c7-a79b-335faa10e2cb","6204d6db-925e-4edd-a360-c1b8ba16b6d4","89cac5bd-5636-4951-9873-ee30e7d7e098","d05761ea-ead6-4045-b909-ae1e29dec6a7","1016290f-1f96-4059-b16d-22979c2797c2","52b958d6-a575-4688-89df-823403056802","3778473a-848a-4128-9505-245a21119b15","9ae00515-3822-4b78-b429-7835f6872199"],"failures":[],"pending":[],"skipped":[],"duration":80918,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"33c1620d-db49-4c71-ae14-71ce783f6e28","title":"","fullFile":"cypress/integration/menus/hamburger_menu_spec.js","file":"cypress/integration/menus/hamburger_menu_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"b2b5d4fa-f59c-40a3-9023-4a0dad88edc2","title":"Hamburger menu","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-20861 - Click on menu item should toggle the menu","fullTitle":"Hamburger menu MM-20861 - Click on menu item should toggle the menu","timedOut":null,"duration":3010,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#lhsHeader').should('be.visible').within(function () {\n  cy.get('#sidebarHeaderDropdownButton').click();\n  cy.get('.dropdown-menu').should('be.visible');\n  cy.get('#accountSettings').should('be.visible').click();\n  cy.get('.dropdown-menu').should('not.be.visible');\n});","err":{},"uuid":"c9e58e4a-1fbd-419e-86f2-e1a1d22d8bc4","parentUUID":"b2b5d4fa-f59c-40a3-9023-4a0dad88edc2","isHook":false,"skipped":false},{"title":"MM-20861 - Click on menu divider shouldn't toggle the menu","fullTitle":"Hamburger menu MM-20861 - Click on menu divider shouldn't toggle the menu","timedOut":null,"duration":2052,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#lhsHeader').should('be.visible').within(function () {\n  cy.get('#sidebarHeaderDropdownButton').click();\n  cy.get('.dropdown-menu').should('be.visible').within(function (el) {\n    cy.get('.menu-divider:visible').first().click();\n    cy.wrap(el).should('be.visible');\n  });\n});","err":{},"uuid":"1ee58b85-6129-4578-8e4a-e1181935b0e7","parentUUID":"b2b5d4fa-f59c-40a3-9023-4a0dad88edc2","isHook":false,"skipped":false}],"suites":[],"passes":["c9e58e4a-1fbd-419e-86f2-e1a1d22d8bc4","1ee58b85-6129-4578-8e4a-e1181935b0e7"],"failures":[],"pending":[],"skipped":[],"duration":5062,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"8139fa33-cba3-4b3f-9494-2c3709a1848b","title":"","fullFile":"cypress/integration/messaging/at_mentions_spec.js","file":"cypress/integration/messaging/at_mentions_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"91b9920b-09bc-4d3c-9312-25872b851056","title":"at-mention","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"N14571 still triggers notification if username is not listed in words that trigger mentions","fullTitle":"at-mention N14571 still triggers notification if username is not listed in words that trigger mentions","timedOut":null,"duration":7304,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"ignoreUncaughtException(); // # Set Notification settings\nsetNotificationSettings({\n  first: false,\n  username: true,\n  shouts: true,\n  custom: true\n});\nvar message = \"@\".concat(receiver.username, \" I'm messaging you! \").concat(Date.now()); // # Use another account to post a message @-mentioning our receiver\ncy.postMessageAs({\n  sender: sender,\n  message: message,\n  channelId: townsquareChannelId\n});\nvar body = \"@\".concat(sender.username, \": \").concat(message);\ncy.get('@notifySpy').should('have.been.calledWithMatch', 'Town Square', function (args) {\n  expect(args.body, \"Notification body: \\\"\".concat(args.body, \"\\\" should match: \\\"\").concat(body, \"\\\"\")).to.equal(body);\n  expect(args.tag, \"Notification tag: \\\"\".concat(args.tag, \"\\\" should match: \\\"\").concat(body, \"\\\"\")).to.equal(body);\n  return true;\n});\ncy.get('@notifySpy').should('have.been.calledWithMatch', 'Town Square', {\n  body: body,\n  tag: body,\n  requireInteraction: false,\n  silent: false\n}); // * Verify unread mentions badge\ncy.get('#publicChannel').scrollIntoView();\ncy.get('#sidebarItem_town-square').scrollIntoView().find('#unreadMentions').should('be.visible').and('have.text', '1'); // * Go to that channel\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Get last post message text\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).as('postMessageText');\n}); // * Verify entire message\ncy.get('@postMessageText').should('be.visible').and('have.text', message); // * Verify highlight of username\ncy.get('@postMessageText').find(\"[data-mention=\".concat(receiver.username, \"]\")).should('be.visible').and('have.text', \"@\".concat(receiver.username));","err":{},"uuid":"9fc978d5-f43a-4614-abb2-0dbd2328c1dc","parentUUID":"91b9920b-09bc-4d3c-9312-25872b851056","isHook":false,"skipped":false},{"title":"N14570 does not trigger notifications with \"Your non-case sensitive username\" unchecked","fullTitle":"at-mention N14570 does not trigger notifications with \"Your non-case sensitive username\" unchecked","timedOut":null,"duration":2919,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"ignoreUncaughtException(); // # Set Notification settings\nsetNotificationSettings({\n  first: false,\n  username: false,\n  shouts: true,\n  custom: true\n});\nvar message = \"Hey \".concat(receiver.username, \"! I'm messaging you! \").concat(Date.now()); // # Use another account to post a message @-mentioning our receiver\ncy.postMessageAs({\n  sender: sender,\n  message: message,\n  channelId: townsquareChannelId\n}); // * Verify stub was not called\ncy.get('@notifySpy').should('be.not.called'); // * Verify unread mentions badge does not exist\ncy.get('#publicChannel').scrollIntoView();\ncy.get('#sidebarItem_town-square').scrollIntoView().find('#unreadMentions').should('be.not.visible'); // # Go to the channel where you were messaged\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Get last post message text\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).as('postMessageText');\n}); // * Verify message contents\ncy.get('@postMessageText').should('be.visible').and('have.text', message); // * Verify it's not highlighted\ncy.get('@postMessageText').find(\"[data-mention=\".concat(receiver.username, \"]\")).should('not.exist');","err":{},"uuid":"f1bfb1a2-fc54-48ee-882c-849a1138a078","parentUUID":"91b9920b-09bc-4d3c-9312-25872b851056","isHook":false,"skipped":false},{"title":"N14572 does not trigger notifications with \"channel-wide mentions\" unchecked","fullTitle":"at-mention N14572 does not trigger notifications with \"channel-wide mentions\" unchecked","timedOut":null,"duration":4032,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"ignoreUncaughtException(); // # Set Notification settings\nsetNotificationSettings({\n  first: false,\n  username: false,\n  shouts: false,\n  custom: true\n});\nvar channelMentions = ['@here', '@all', '@channel'];\nchannelMentions.forEach(function (mention) {\n  var message = \"Hey \".concat(mention, \" I'm message you all! \").concat(Date.now()); // # Use another account to post a message @-mentioning our receiver\n  cy.postMessageAs({\n    sender: sender,\n    message: message,\n    channelId: townsquareChannelId\n  }); // * Verify stub was not called\n  cy.get('@notifySpy').should('be.not.called'); // * Verify unread mentions badge does not exist\n  cy.get('#publicChannel').scrollIntoView();\n  cy.get('#sidebarItem_town-square').find('#unreadMentions').should('be.not.visible'); // # Go to the channel where you were messaged\n  cy.get('#sidebarItem_town-square').click({\n    force: true\n  }); // # Get last post message text\n  cy.getLastPostId().then(function (postId) {\n    cy.get(\"#postMessageText_\".concat(postId)).as('postMessageText');\n  }); // * Verify message contents\n  cy.get('@postMessageText').should('be.visible').and('have.text', message); // * Verify it's not highlighted\n  cy.get('@postMessageText').find(\"[data-mention=\".concat(receiver.username, \"]\")).should('not.exist');\n});","err":{},"uuid":"d1d4bf79-0d19-4da1-9bb6-63db427903b7","parentUUID":"91b9920b-09bc-4d3c-9312-25872b851056","isHook":false,"skipped":false},{"title":"M17445 - Words that trigger mentions support Chinese","fullTitle":"at-mention M17445 - Words that trigger mentions support Chinese","timedOut":null,"duration":3603,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"ignoreUncaughtException();\nvar customText = '番茄'; // # Set Notification settings\nsetNotificationSettings({\n  first: false,\n  username: false,\n  shouts: false,\n  custom: true,\n  customText: customText\n});\nvar message = '番茄 I\\'m messaging you!';\nvar message2 = '我爱吃番茄炒饭 I\\'m messaging you!'; // # Use another account to post a message @-mentioning our receiver\ncy.postMessageAs({\n  sender: sender,\n  message: message,\n  channelId: townsquareChannelId\n}); // # Check mention on /ad-1/channels/town-square\n// * Verify unread mentions badge\ncy.get('#publicChannel').scrollIntoView();\ncy.get('#sidebarItem_town-square').scrollIntoView().find('#unreadMentions').should('be.visible').and('have.text', '1'); // * Go to that channel\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Get last post message text\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).as('postMessageText');\n}); // * Verify entire message\ncy.get('@postMessageText').should('be.visible').and('have.text', message); // * Verify highlight of username\ncy.get('@postMessageText').find('.mention--highlight').should('be.visible').and('have.text', '番茄'); // # Check mention on /ad-1/channels/off-topic\ncy.postMessageAs({\n  sender: sysadmin,\n  message: message2,\n  channelId: offTopicChannelId\n}); // * Verify unread mentions badge\ncy.get('#publicChannel').scrollIntoView();\ncy.get('#sidebarItem_off-topic').scrollIntoView().find('#unreadMentions').should('be.visible').and('have.text', '1'); // * Go to that channel\ncy.get('#sidebarItem_off-topic').click({\n  force: true\n}); // # Get last post message text\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).as('postMessageText');\n}); // * Verify entire message\ncy.get('@postMessageText').should('be.visible').and('have.text', message2); // * Verify highlight of username\ncy.get('@postMessageText').find('.mention--highlight').should('be.visible').and('have.text', '番茄');","err":{},"uuid":"be693ba8-6478-4752-9ec0-8814d96095b5","parentUUID":"91b9920b-09bc-4d3c-9312-25872b851056","isHook":false,"skipped":false}],"suites":[],"passes":["9fc978d5-f43a-4614-abb2-0dbd2328c1dc","f1bfb1a2-fc54-48ee-882c-849a1138a078","d1d4bf79-0d19-4da1-9bb6-63db427903b7","be693ba8-6478-4752-9ec0-8814d96095b5"],"failures":[],"pending":[],"skipped":[],"duration":17858,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"6d631560-274f-448a-882b-20278222da70","title":"","fullFile":"cypress/integration/messaging/at_mentions_user_spec.js","file":"cypress/integration/messaging/at_mentions_user_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"f41215a4-d07d-428a-9efc-c6abe0fcf147","title":"Mention user","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M19761 autocomplete should match on cases","fullTitle":"Mention user M19761 autocomplete should match on cases","timedOut":null,"duration":7628,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"[{\n  input: '@samuel.tucker',\n  expected: 'Samuel Tucker'\n}, {\n  input: '@samuel',\n  expected: 'Samuel Tucker'\n}, {\n  input: '@tucker',\n  expected: 'Samuel Tucker'\n}, {\n  input: '@Samuel',\n  expected: 'Samuel Tucker'\n}, {\n  input: '@Tucker',\n  expected: 'Samuel Tucker'\n}, {\n  input: '@Samuel Tuc',\n  expected: 'Samuel Tucker'\n}, {\n  input: '@Samuel Tucker',\n  expected: 'Samuel Tucker'\n}, {\n  input: '@Samuel Tucker ',\n  expected: 'Samuel Tucker',\n  withoutSuggestion: true\n}].forEach(function (testCase) {\n  verifySuggestionList(testCase);\n});","err":{},"uuid":"23a2da63-3df8-4675-aea9-32a03564a26c","parentUUID":"f41215a4-d07d-428a-9efc-c6abe0fcf147","isHook":false,"skipped":false}],"suites":[],"passes":["23a2da63-3df8-4675-aea9-32a03564a26c"],"failures":[],"pending":[],"skipped":[],"duration":7628,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"9168eab2-4ee3-4786-93b8-5d8818fc6e0f","title":"","fullFile":"cypress/integration/messaging/autocomplete_shown_each_channel_spec.js","file":"cypress/integration/messaging/autocomplete_shown_each_channel_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"17935ccc-5ce4-49a3-9e75-75944afcc7ce","title":"Identical Message Drafts","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M14432 shows Autocomplete in each channel","fullTitle":"Identical Message Drafts M14432 shows Autocomplete in each channel","timedOut":null,"duration":5652,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to test Channel A on sidebar\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // * Validate if the channel has been opened\ncy.url().should('include', '/channels/town-square'); // # Start a draft in Channel A containing just \"@\"\ncy.get('#post_textbox').should('be.visible').type('@'); // * At mention auto-complete appears in Channel A\ncy.get('#suggestionList').should('be.visible'); // # Go to test Channel B on sidebar\ncy.get('#sidebarItem_autem-2').click({\n  force: true\n}); // * Validate if the newly navigated channel is open\n// * autocomplete should not be visible in channel\ncy.url().should('include', '/channels/autem-2');\ncy.get('#suggestionList').should('not.be.visible'); // # Start a draft in Channel B containing just \"@\"\ncy.get('#post_textbox').type('@'); // * At mention auto-complete appears in Channel B\ncy.get('#suggestionList').should('be.visible'); // # Go back to test Channel A on sidebar\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // * Validate if the channel has been opened\n// * At mention auto-complete is preserved in Channel A\ncy.url().should('include', '/channels/town-square');\ncy.get('#suggestionList').should('be.visible');","err":{},"uuid":"e1c11c11-9893-4e56-8414-cbe2b371e9fc","parentUUID":"17935ccc-5ce4-49a3-9e75-75944afcc7ce","isHook":false,"skipped":false}],"suites":[],"passes":["e1c11c11-9893-4e56-8414-cbe2b371e9fc"],"failures":[],"pending":[],"skipped":[],"duration":5652,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"85af6449-5b8f-4c61-9ee3-4f928f0eb1d5","title":"","fullFile":"cypress/integration/messaging/center_channel_rhs_overlap_spec.js","file":"cypress/integration/messaging/center_channel_rhs_overlap_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"f49b9f47-4105-49ef-bf6d-b4810c69c6e9","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18705-Center channel input box does not overlap with RHS","fullTitle":"Messaging M18705-Center channel input box does not overlap with RHS","timedOut":null,"duration":15894,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var maxReplyCount = 15; // * Check if center channel post text box is focused\ncy.get('#post_textbox').should('be.focused'); // # Click \"Reply\"\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostCommentIcon(postId);\n}); // * Check if center channel post text box is not focused\n// Although visually post text box is not visible to user,\n// cypress still considers it visible so the assertion\n// should('not.be.visible') will fail\ncy.get('#post_textbox').should('not.be.focused'); // # Post several replies\ncy.get('#reply_textbox').clear().should('be.visible').as('replyTextBox');\nfor (var i = 1; i <= maxReplyCount; i++) {\n  cy.get('@replyTextBox').type(\"post \".concat(i)).type('{enter}');\n} // * Check if \"Add Comment\" button is visible\n\ncy.get('#addCommentButton').scrollIntoView().should('be.visible').and('have.value', 'Add Comment');","err":{},"uuid":"026b36cb-ff1a-49eb-a406-82bec8e9a4c3","parentUUID":"f49b9f47-4105-49ef-bf6d-b4810c69c6e9","isHook":false,"skipped":false}],"suites":[],"passes":["026b36cb-ff1a-49eb-a406-82bec8e9a4c3"],"failures":[],"pending":[],"skipped":[],"duration":15894,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"f733f44a-bd50-47e3-a115-4c24942e1d1d","title":"","fullFile":"cypress/integration/messaging/channel_menu_spec.js","file":"cypress/integration/messaging/channel_menu_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"b55eb701-d0c9-4abb-83ae-aa9db1e0e8cd","title":"Channel header menu","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-14490 show/hide properly menu dividers","fullTitle":"Channel header menu MM-14490 show/hide properly menu dividers","timedOut":null,"duration":5117,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var channel; // # Go to \"/\"\ncy.visit('/ad-1/channels/town-square');\ncy.getCurrentTeamId().then(function (teamId) {\n  // # Create new test channel\n  cy.apiCreateChannel(teamId, 'channel-test', 'Channel Test').then(function (res) {\n    channel = res.body; // # Select channel on the left hand side\n    cy.get(\"#sidebarItem_\".concat(channel.name)).click(); // * Channel's display name should be visible at the top of the center pane\n    cy.get('#channelHeaderTitle').should('contain', channel.display_name); // # Then click it to access the drop-down menu\n    cy.get('#channelHeaderTitle').click(); // * The dropdown menu of the channel header should be visible;\n    cy.get('.Menu__content').should('be.visible'); // * The dropdown menu of the channel header should have 3 dividers;\n    cy.get('.Menu__content').find('.menu-divider:visible').should('have.lengthOf', 3); // # Demote the user to guest\n    cy.get('@newuser').then(function (user) {\n      demoteUserToGuest(user);\n    }); // * The dropdown menu of the channel header should have 2 dividers because some options have disappeared;\n    cy.get('.Menu__content').find('.menu-divider:visible').should('have.lengthOf', 2); // # Promote the guest to user again\n    cy.get('@newuser').then(function (user) {\n      promoteGuestToUser(user);\n    }); // * The dropdown menu of the channel header should have 3 dividers again;\n    cy.get('.Menu__content').find('.menu-divider:visible').should('have.lengthOf', 3);\n  });\n});","err":{},"uuid":"4834233f-072c-41e7-8ae0-8ab627dfb7e4","parentUUID":"b55eb701-d0c9-4abb-83ae-aa9db1e0e8cd","isHook":false,"skipped":false}],"suites":[],"passes":["4834233f-072c-41e7-8ae0-8ab627dfb7e4"],"failures":[],"pending":[],"skipped":[],"duration":5117,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2357430b-242c-4b5f-94a2-2b4cfe9be365","title":"","fullFile":"cypress/integration/messaging/channel_read_after_permalink_spec.js","file":"cypress/integration/messaging/channel_read_after_permalink_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"da14b773-fee1-48d5-8c59-46593f768570","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18713-Channel is removed from Unreads section if user navigates out of it via permalink","fullTitle":"Messaging M18713-Channel is removed from Unreads section if user navigates out of it via permalink","timedOut":null,"duration":9834,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/channel_read_after_permalink_spec.js/Messaging -- M18713-Channel is removed from Unreads section if user navigates out of it via permalink (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/channel_read_after_permalink_spec.js/Messaging -- M18713-Channel is removed from Unreads section if user navigates out of it via permalink (failed).png\"\n}","code":"var message = 'Hello' + Date.now();\nvar linkText;\nvar permalinkId; // # Create new DM channel with user's email\ncy.apiGetUsers(['user-1', 'sysadmin']).then(function (userResponse) {\n  var userEmailArray = [userResponse.body[1].id, userResponse.body[0].id];\n  cy.apiCreateDirectChannel(userEmailArray).then(function () {\n    cy.visit('/ad-1/messages/@sysadmin'); // # Post message to use\n    cy.postMessage(message);\n    cy.getLastPostId().then(function (postId) {\n      permalinkId = postId; // # Check if ... button is visible in last post right side\n      cy.get(\"#CENTER_button_\".concat(postId)).should('not.be.visible'); // # Click on ... button of last post\n      cy.clickPostDotMenu(postId); // # Click on permalink option\n      cy.get(\"#permalink_\".concat(postId)).should('be.visible').click().wait(TIMEOUTS.SMALL); // * Check clipboard contains permalink\n      cy.task('getClipboard').should('contain', \"/ad-1/pl/\".concat(postId)).then(function (text) {\n        linkText = text;\n      });\n    });\n  });\n}); // # Get current team id\ncy.getCurrentTeamId().then(function (teamId) {\n  var channelName = 'test-message-channel-1'; // # Create public channel to post permalink\n  cy.apiCreateChannel(teamId, channelName, channelName, 'O', 'Test channel').then(function (response) {\n    testChannel = response.body; // # Post the message on the channel\n    postMessageOnChannel(testChannel, linkText); // # Change user\n    cy.visit('/ad-1/town-square');\n    cy.apiLogout();\n    cy.apiLogin('sysadmin');\n    cy.visit('/ad-1/town-square'); // # Check Message is in Unread List\n    cy.get('#unreadsChannelList').should('be.visible').within(function () {\n      cy.get('#sidebarItem_' + testChannel.name).scrollIntoView().should('be.visible').and('have.attr', 'aria-label', \"\".concat(channelName, \" public channel 1 mention\"));\n    }); // # Read the message and click the permalink\n    clickLink(testChannel); // * Check if url include the permalink\n    cy.url().should('include', \"/ad-1/messages/@user-1/\".concat(permalinkId)); // * Check if url redirects back to parent path eventually\n    cy.wait(TIMEOUTS.SMALL).url().should('include', '/ad-1/messages/@user-1').and('not.include', \"/\".concat(permalinkId)); // # Channel should still be visible\n    cy.get('#publicChannelList', {\n      force: true\n    }).scrollIntoView().should('be.visible').within(function () {\n      cy.get('#sidebarItem_' + testChannel.name).scrollIntoView().should('be.visible').and('have.attr', 'aria-label', \"\".concat(channelName, \" public channel\"));\n    }); // * Check the channel is not under the unread channel list\n    cy.get('#unreadsChannelList').find('#sidebarItem_' + testChannel.name).should('not.exist'); // * Check the channel is not marked as unread\n    cy.get('#sidebarItem_' + testChannel.name).invoke('attr', 'aria-label').should('not.include', 'unread');\n  });\n});","err":{"message":"AssertionError: expected '' to include '/ad-1/pl/59bfi958dtrtixxeyr1gwt8y5h'","estack":"AssertionError: expected '' to include '/ad-1/pl/59bfi958dtrtixxeyr1gwt8y5h'\n    at applyChainer (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136206:32)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136243:16\n    at arrayReduce (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:13988:21)\n    at Function.reduce (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:22986:14)\n    at applyChainers (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136237:18)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Function.Promise.attempt.Promise.try (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:164690:29)\n    at Context.shouldFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136247:23)\n    at Context.should (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136262:23)\n    at Context.<anonymous> (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148875:21)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148351:33\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromiseCtx (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165445:10)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162145:12)","diff":null},"uuid":"82264baf-d6dc-490c-88dd-f52b75879b43","parentUUID":"da14b773-fee1-48d5-8c59-46593f768570","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["82264baf-d6dc-490c-88dd-f52b75879b43"],"pending":[],"skipped":[],"duration":9834,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"311c1fa1-4b6b-48e2-af73-4ff5d3dd7973","title":"","fullFile":"cypress/integration/messaging/channel_users_interactions_spec.js","file":"cypress/integration/messaging/channel_users_interactions_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"bd8911c6-6a6d-4493-a354-b4bf1301ca04","title":"Channel users interactions","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M17454 Scroll to bottom when sending a message","fullTitle":"Channel users interactions M17454 Scroll to bottom when sending a message","timedOut":null,"duration":5598,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to test channel A on sidebar\ncy.visit('/ad-1/channels/off-topic'); // # post message in channel B by another user\nvar message = 'I\\'m messaging!\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2';\ncy.postMessageAs({\n  sender: sender,\n  message: message,\n  channelId: townsquareChannelId\n}); // # return back channel where is a post\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // * check that separator with message visible\ncy.findByTestId('NotificationSeparator').find('span').should('be.visible').and('have.text', 'New Messages'); // # post message on current channel\ncy.get('#post_textbox').clear().type('message123{enter}'); // * verify that last posted message is visible\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).should('have.text', 'message123');\n});","err":{},"uuid":"c7425c83-5b7a-4681-a94f-3d061f4ce544","parentUUID":"bd8911c6-6a6d-4493-a354-b4bf1301ca04","isHook":false,"skipped":false}],"suites":[],"passes":["c7425c83-5b7a-4681-a94f-3d061f4ce544"],"failures":[],"pending":[],"skipped":[],"duration":5598,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"7d7f3716-ac79-4866-9a81-dc3697fb6219","title":"","fullFile":"cypress/integration/messaging/collapse_link_spec.js","file":"cypress/integration/messaging/collapse_link_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"6c99ba19-e886-4fee-bc2f-7ab75cafd600","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18708-Link preview - Removing it from my view removes it from other user's view","fullTitle":"Messaging M18708-Link preview - Removing it from my view removes it from other user's view","timedOut":null,"duration":34514,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/collapse_link_spec.js/Messaging -- M18708-Link preview - Removing it from my view removes it from other user's view (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/collapse_link_spec.js/Messaging -- M18708-Link preview - Removing it from my view removes it from other user's view (failed).png\"\n}","code":"var message = 'https://www.bbc.com/news/uk-wales-45142614'; // # Create new DM channel with user's email\ncy.visit('/ad-1/channels/town-square'); // # Post message to use\ncy.postMessage(message);\ncy.getLastPostId().then(function (postId) {\n  // * Check the preview is shown\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment--opengraph').should('exist');\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment__image').should('exist'); // # Log-in to the other user\n  cy.apiLogin('sysadmin');\n  cy.visit('/ad-1/channels/town-square'); // * Check the preview is shown\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment--opengraph').should('exist');\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment__image').should('exist'); // # Log-in back to the first user\n  cy.apiLogin('user-1');\n  cy.visit('/ad-1/channels/town-square'); // # Collapse the preview\n  cy.get(\"#\".concat(postId, \"_message\")).find('.post__embed-visibility').click({\n    force: true\n  }); // * Check the preview is not shown\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment--opengraph').should('exist');\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment__image').should('not.exist'); // # Log-in to the other user\n  cy.apiLogin('sysadmin');\n  cy.visit('/ad-1/channels/town-square'); // * Check the preview is shown\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment--opengraph').should('exist');\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment__image').should('exist'); // # Log-in back to the first user\n  cy.apiLogin('user-1');\n  cy.visit('/ad-1/channels/town-square'); // # Remove the preview\n  cy.get(\"#\".concat(postId, \"_message\")).within(function () {\n    cy.findByTestId('removeLinkPreviewButton').click({\n      force: true\n    });\n  }); // * Preview should not exist\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment--opengraph').should('not.exist');\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment__image').should('not.exist'); // # Log-in to the other user\n  cy.apiLogin('sysadmin');\n  cy.visit('/ad-1/channels/town-square'); // * Preview should not exist\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment--opengraph').should('not.exist');\n  cy.get(\"#\".concat(postId, \"_message\")).find('.attachment__image').should('not.exist');\n});","err":{"message":"CypressError: Timed out retrying: Expected <div.attachment.attachment--opengraph> not to exist in the DOM, but it was continuously found. Queried from element: <div#8i66zww6tirmpkcr5afd4x6mza_message.post__body.>","estack":"CypressError: Timed out retrying: Expected <div.attachment.attachment--opengraph> not to exist in the DOM, but it was continuously found. Queried from element: <div#8i66zww6tirmpkcr5afd4x6mza_message.post__body.>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"4dac736a-3da2-4ba4-a378-d70a91508fe1","parentUUID":"6c99ba19-e886-4fee-bc2f-7ab75cafd600","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["4dac736a-3da2-4ba4-a378-d70a91508fe1"],"pending":[],"skipped":[],"duration":34514,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"8a4f81ac-2112-4b43-b553-35ce1434dc1d","title":"","fullFile":"cypress/integration/messaging/collapsed_message_spec.js","file":"cypress/integration/messaging/collapsed_message_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"80b782e4-ed3f-4751-bfc4-449382a33ff9","title":"Long message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M14321 will show more/less content correctly","fullTitle":"Long message M14321 will show more/less content correctly","timedOut":null,"duration":4659,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as \"user-1\" and go to /\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square'); // # Post message with kitchen sink markdown text\ncy.postMessageFromFile('long_text_post.txt'); // # Get last post\ncy.getLastPostId().then(function (postId) {\n  var postMessageId = \"#\".concat(postId, \"_message\");\n  cy.get(postMessageId).within(function () {\n    // * Verify collapsed post\n    verifyCollapsedPost(postId); // # Expand the post\n    cy.get('#showMoreButton').click(); // * Verify expanded post\n    verifyExpandedPost(postId); // # Collapse the post\n    cy.get('#showMoreButton').click(); // * Verify collapsed post\n    verifyCollapsedPost(postId);\n  });\n});","err":{},"uuid":"4f5d9fb5-1d7b-445b-add0-487b143fd35d","parentUUID":"80b782e4-ed3f-4751-bfc4-449382a33ff9","isHook":false,"skipped":false}],"suites":[],"passes":["4f5d9fb5-1d7b-445b-add0-487b143fd35d"],"failures":[],"pending":[],"skipped":[],"duration":4659,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"bc4eb609-6dd0-4322-bea4-c4322fd19833","title":"","fullFile":"cypress/integration/messaging/date_separator_spec.js","file":"cypress/integration/messaging/date_separator_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"b9cd887e-4af5-466d-a62a-8a723963d7b4","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-21482 Date separators should translate correctly","fullTitle":"Messaging MM-21482 Date separators should translate correctly","timedOut":null,"duration":27809,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/date_separator_spec.js/Messaging -- MM-21482 Date separators should translate correctly (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/date_separator_spec.js/Messaging -- MM-21482 Date separators should translate correctly (failed).png\"\n}","code":"function verifyDateSeparator(index, match) {\n  cy.findAllByTestId('basicSeparator').eq(index).within(function () {\n    cy.findByText(match);\n  });\n} // # Post a message with old date\n\nvar oldDate = Date.UTC(2020, 0, 5, 12, 30); // Jan 5, 2020 12:30pm\ncy.postMessageAs({\n  sender: sysadmin,\n  message: 'Hello from Jan 5, 2020 12:30pm',\n  channelId: newChannel.id,\n  createAt: oldDate\n}); // # Post message from yesterday\nvar yesterdaysDate = Cypress.moment().subtract(1, 'days').valueOf();\ncy.postMessageAs({\n  sender: sysadmin,\n  message: 'Hello from yesterday',\n  channelId: newChannel.id,\n  createAt: yesterdaysDate\n}); // # Post a message for today\ncy.postMessage('Hello from today'); // # Reload to re-arrange post order\ncy.reload(); // * Verify that the date separators are rendered in English\nverifyDateSeparator(0, /^(Sat|Sun), Jan (04|05), 2020/);\nverifyDateSeparator(1, 'Yesterday');\nverifyDateSeparator(2, 'Today'); // # Change user locale to \"es\" and reload\ncy.apiPatchMe({\n  locale: 'es'\n});\ncy.reload(); // * Verify that the date separators are rendered in Spanish\nverifyDateSeparator(0, /^(sáb|dom)., (04|05) ene. 2020/);\nverifyDateSeparator(1, 'Yesterday');\nverifyDateSeparator(2, 'Today'); // # Change user timezone which is not supported by react-intl and reload\ncy.apiPatchMe({\n  timezone: {\n    automaticTimezone: '',\n    manualTimezone: 'NZ-CHAT',\n    useAutomaticTimezone: 'false'\n  }\n});\ncy.reload(); // * Verify that it renders in English as default and in short format of \"ddd, MMM D, YYYY\"\nverifyDateSeparator(0, /^(Sun|Mon), Jan (5|6), 2020/);","err":{"message":"CypressError: Timed out retrying: Unable to find an element with the text: /^(Sun|Mon), Jan (5|6), 2020/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.","estack":"CypressError: Timed out retrying: Unable to find an element with the text: /^(Sun|Mon), Jan (5|6), 2020/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"15d49898-130e-459f-b514-5bddd54e2077","parentUUID":"b9cd887e-4af5-466d-a62a-8a723963d7b4","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["15d49898-130e-459f-b514-5bddd54e2077"],"pending":[],"skipped":[],"duration":27809,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2e24e77b-e409-4434-9266-26fd93f5a89f","title":"","fullFile":"cypress/integration/messaging/edit_message_spec.js","file":"cypress/integration/messaging/edit_message_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"0f99863c-94f9-4fcd-ba0b-090c84083827","title":"Edit Message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M13909 Escape should not close modal when an autocomplete drop down is in use","fullTitle":"Edit Message M13909 Escape should not close modal when an autocomplete drop down is in use","timedOut":null,"duration":7393,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # and go to /\ncy.visit('/ad-1/channels/town-square'); // # Post message \"Hello\"\ncy.postMessage('Hello World!'); // # Hit the up arrow to open the \"edit modal\"\ncy.get('#post_textbox').type('{uparrow}'); // # In the modal type @\ncy.get('#edit_textbox').type(' @'); // * Assert user autocomplete is visible\ncy.get('#suggestionList').should('be.visible'); // # Press the escape key\ncy.get('#edit_textbox').wait(TIMEOUTS.TINY).focus().type('{esc}'); // * Check if the textbox contains expected text\ncy.get('#edit_textbox').should('have.value', 'Hello World! @'); // * Assert user autocomplete is not visible\ncy.get('#suggestionList').should('not.exist'); // # In the modal type ~\ncy.get('#edit_textbox').type(' ~'); // * Assert channel autocomplete is visible\ncy.get('#suggestionList').should('be.visible'); // # Press the escape key\ncy.get('#edit_textbox').wait(TIMEOUTS.TINY).type('{esc}'); // * Check if the textbox contains expected text\ncy.get('#edit_textbox').should('have.value', 'Hello World! @ ~'); // * Assert channel autocomplete is not visible\ncy.get('#suggestionList').should('not.exist'); // # In the modal click the emoji picker icon\ncy.get('#editPostEmoji').click(); // * Assert emoji picker is visible\ncy.get('#emojiPicker').should('be.visible'); // * Press the escape key\ncy.get('#edit_textbox').wait(TIMEOUTS.TINY).type('{esc}'); // * Assert emoji picker is not visible\ncy.get('#emojiPicker').should('not.exist');","err":{},"uuid":"5daf034e-4244-47e4-b82c-ce48c50782a8","parentUUID":"0f99863c-94f9-4fcd-ba0b-090c84083827","isHook":false,"skipped":false},{"title":"M13482 Display correct timestamp for edited message","fullTitle":"Edit Message M13482 Display correct timestamp for edited message","timedOut":null,"duration":5637,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # and go to /\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.postMessage('Checking timestamp');\ncy.getLastPostId().then(function (postId) {\n  // # Mouseover post to display the timestamp\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.get(\"#CENTER_time_\".concat(postId)).find('time').invoke('attr', 'title').then(function (originalTimeStamp) {\n    // # Click dot menu\n    cy.clickPostDotMenu(postId); // # Click the edit button\n    cy.get(\"#edit_post_\".concat(postId)).click(); // # Edit modal should appear\n    cy.get('.edit-modal').should('be.visible'); // # Edit the post\n    cy.get('#edit_textbox').type('Some text {enter}'); // * Edit modal should disappear\n    cy.get('.edit-modal').should('not.be.visible'); // # Mouseover the post again\n    cy.get(\"#post_\".concat(postId)).trigger('mouseover'); // * Current post timestamp should have not been changed by edition\n    cy.get(\"#CENTER_time_\".concat(postId)).find('time').should('have.attr', 'title').and('equal', originalTimeStamp); // # Open RHS by clicking the post comment icon\n    cy.clickPostCommentIcon(postId); // * Check that the RHS is open\n    cy.get('#rhsContainer').should('be.visible'); // * Check that the RHS timeStamp equals the original post timeStamp\n    cy.get(\"#CENTER_time_\".concat(postId)).find('time').invoke('attr', 'title').should('be', originalTimeStamp);\n  });\n});","err":{},"uuid":"214c189e-64f2-43a9-9da5-2ac021e66d67","parentUUID":"0f99863c-94f9-4fcd-ba0b-090c84083827","isHook":false,"skipped":false},{"title":"M15519 Open edit modal immediately after making a post when post is pending","fullTitle":"Edit Message M15519 Open edit modal immediately after making a post when post is pending","timedOut":null,"duration":4414,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # and go to /. We set fetch to null here so that we can intercept XHR network requests\ncy.visit('/ad-1/channels/town-square'); // # Enter first message\ncy.postMessage('Hello'); // * Verify first message is sent and not pending\ncy.getLastPostId().then(function (postId) {\n  var postText = \"#postMessageText_\".concat(postId);\n  cy.get(postText).should('have.text', 'Hello');\n}); // # Enter second message\ncy.postMessage('World!'); // * Verify second message is sent and not pending\ncy.getLastPostId().then(function (postId) {\n  var postText = \"#postMessageText_\".concat(postId);\n  cy.get(postText).should('have.text', 'World!'); // # Edit the last post\n  cy.get('#post_textbox').type('{uparrow}'); // * Edit post modal should appear, and edit the post\n  cy.get('#editPostModal').should('be.visible');\n  cy.get('#edit_textbox').should('have.text', 'World!').type(' Another new message{enter}');\n  cy.get('#editPostModal').should('be.not.visible'); // * Check the second post and verify that it contains new edited message.\n  cy.get(postText).should('have.text', 'World! Another new message');\n});","err":{},"uuid":"a0d14cbe-5db5-4f41-9a4a-a23bbb80f2ab","parentUUID":"0f99863c-94f9-4fcd-ba0b-090c84083827","isHook":false,"skipped":false}],"suites":[],"passes":["5daf034e-4244-47e4-b82c-ce48c50782a8","214c189e-64f2-43a9-9da5-2ac021e66d67","a0d14cbe-5db5-4f41-9a4a-a23bbb80f2ab"],"failures":[],"pending":[],"skipped":[],"duration":17444,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"0edc961a-d777-449f-8f4d-ca1819a74e16","title":"","fullFile":"cypress/integration/messaging/emoji_keyboard_entry_spec.js","file":"cypress/integration/messaging/emoji_keyboard_entry_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"918f5ec1-a336-4071-bf04-866125c7e1d9","title":"M16738 - Use keyboard navigation in emoji picker","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"right keypress should select the first emoji on start without prior selection","fullTitle":"M16738 - Use keyboard navigation in emoji picker right keypress should select the first emoji on start without prior selection","timedOut":null,"duration":4228,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Type arrow key\ncy.get('#emojiPickerSearch').type(\"{\".concat(dir, \"arrow}\")); // * The first emoji in the \"People\" category should be selected\ntestSelectedIndex(function (idx) {\n  return expect(idx).to.equal(0);\n}); // # Close emoji picker\ncy.get('#emojiPickerButton').click();","err":{},"uuid":"f3cfe0d9-8fd4-4488-a41b-3e65200faf7d","parentUUID":"918f5ec1-a336-4071-bf04-866125c7e1d9","isHook":false,"skipped":false},{"title":"down keypress should select the first emoji on start without prior selection","fullTitle":"M16738 - Use keyboard navigation in emoji picker down keypress should select the first emoji on start without prior selection","timedOut":null,"duration":21033,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/emoji_keyboard_entry_spec.js/M16738 - Use keyboard navigation in emoji picker -- down keypress should select the first emoji on start without prior selection (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/emoji_keyboard_entry_spec.js/M16738 - Use keyboard navigation in emoji picker -- down keypress should select the first emoji on start without prior selection (failed).png\"\n}","code":"// # Type arrow key\ncy.get('#emojiPickerSearch').type(\"{\".concat(dir, \"arrow}\")); // * The first emoji in the \"People\" category should be selected\ntestSelectedIndex(function (idx) {\n  return expect(idx).to.equal(0);\n}); // # Close emoji picker\ncy.get('#emojiPickerButton').click();","err":{"message":"CypressError: Timed out retrying: Expected to find element: '.emoji-picker__item.selected', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '.emoji-picker__item.selected', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"e1f7fb33-9416-40eb-9068-7eef92161cdb","parentUUID":"918f5ec1-a336-4071-bf04-866125c7e1d9","isHook":false,"skipped":false},{"title":"left keypress should select nothing on start without prior selection","fullTitle":"M16738 - Use keyboard navigation in emoji picker left keypress should select nothing on start without prior selection","timedOut":null,"duration":20255,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/emoji_keyboard_entry_spec.js/left keypress should select nothing on start without prior selection -- before each hook (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/emoji_keyboard_entry_spec.js/left keypress should select nothing on start without prior selection -- before each hook (failed).png\"\n}","code":"// # Type arrow key\ncy.get('#emojiPickerSearch').type(\"{\".concat(dir, \"arrow}\")); // * There should be no selection\ncy.get('.emoji-picker__item.selected').should('not.exist'); // # Close emoji picker\ncy.get('#emojiPickerButton').click();","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#emojiPicker', but never found it.\n\nBecause this error occurred during a 'before each' hook we are skipping the remaining tests in the current suite: 'M16738 - Use keyboard navig...'","estack":"CypressError: Timed out retrying: Expected to find element: '#emojiPicker', but never found it.\n\nBecause this error occurred during a 'before each' hook we are skipping the remaining tests in the current suite: 'M16738 - Use keyboard navig...'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"2abba489-64ac-4a8e-977c-6d87d47430ee","parentUUID":"918f5ec1-a336-4071-bf04-866125c7e1d9","isHook":false,"skipped":false},{"title":"up keypress should select nothing on start without prior selection","fullTitle":"M16738 - Use keyboard navigation in emoji picker up keypress should select nothing on start without prior selection","timedOut":null,"duration":0,"state":"skipped","speed":null,"pass":false,"fail":false,"pending":false,"context":null,"code":"// # Type arrow key\ncy.get('#emojiPickerSearch').type(\"{\".concat(dir, \"arrow}\")); // * There should be no selection\ncy.get('.emoji-picker__item.selected').should('not.exist'); // # Close emoji picker\ncy.get('#emojiPickerButton').click();","err":{},"uuid":"cfecfc3b-8143-4b41-8aa7-1194f4dca137","parentUUID":"918f5ec1-a336-4071-bf04-866125c7e1d9","isHook":false,"skipped":true},{"title":"should select emoji on continuous keypress","fullTitle":"M16738 - Use keyboard navigation in emoji picker should select emoji on continuous keypress","timedOut":null,"duration":0,"state":"skipped","speed":null,"pass":false,"fail":false,"pending":false,"context":null,"code":"// # Move around with arrow key and verify selected emojis\nvar lastSelected = null;\nvar pressCounts = {\n  right: 5,\n  down: 5,\n  left: 4,\n  up: 5\n};\nvar checkSelectionId = function checkSelectionId(selectedEmoji) {\n  expect(selectedEmoji).to.not.equal(lastSelected);\n  lastSelected = selectedEmoji;\n};\nvar checkSelectionSrc = function checkSelectionSrc(selectedEmoji) {\n  cy.get('#emojiPickerSpritePreview').invoke('attr', 'src').should('equal', selectedEmoji);\n};\nfor (var _i = 0, _Object$keys = Object.keys(pressCounts); _i < _Object$keys.length; _i++) {\n  var direction = _Object$keys[_i];\n  for (var i = 0; i < pressCounts[direction]; i += 1) {\n    // # Press arrow key\n    cy.get('#emojiPickerSearch').type(\"{\".concat(direction, \"arrow}\")); // * id of selected emoji should be different from last iteration\n    cy.get('.emoji-picker__item.selected img').invoke('attr', 'id').then(checkSelectionId); // * Verify that the selected emoji matches the sprite preview\n    cy.get('.emoji-picker__item.selected img').invoke('attr', 'src').then(checkSelectionSrc);\n  }\n} // # Close emoji picker\n\ncy.get('#emojiPickerButton').click();","err":{},"uuid":"9a3b3db5-8c04-42e0-a2fa-a54da4a147cd","parentUUID":"918f5ec1-a336-4071-bf04-866125c7e1d9","isHook":false,"skipped":true},{"title":"should post selected emoji","fullTitle":"M16738 - Use keyboard navigation in emoji picker should post selected emoji","timedOut":null,"duration":0,"state":"skipped","speed":null,"pass":false,"fail":false,"pending":false,"context":null,"code":"// # Press arrow keys\ncy.get('#emojiPickerSearch').type('{rightarrow}{downarrow}');\ncy.get('#emojiPickerAliasesPreview').invoke('text').then(function (selectedEmoji) {\n  // # Select chosen emoji\n  cy.get('#emojiPickerSearch').type('{enter}'); // # Post message with keyboard\n  cy.get('#post_textbox').type('{enter}'); // * Compare selected emoji with last post\n  cy.getLastPost().find('.emoticon').should('have.attr', 'title', selectedEmoji);\n});","err":{},"uuid":"ec48d599-d9d0-4d4f-9d87-4d2d9c6045de","parentUUID":"918f5ec1-a336-4071-bf04-866125c7e1d9","isHook":false,"skipped":true}],"suites":[],"passes":["f3cfe0d9-8fd4-4488-a41b-3e65200faf7d"],"failures":["e1f7fb33-9416-40eb-9068-7eef92161cdb","2abba489-64ac-4a8e-977c-6d87d47430ee"],"pending":[],"skipped":["cfecfc3b-8143-4b41-8aa7-1194f4dca137","9a3b3db5-8c04-42e0-a2fa-a54da4a147cd","ec48d599-d9d0-4d4f-9d87-4d2d9c6045de"],"duration":45516,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"1134e97b-97dc-4e6d-bac2-140f0f60ea10","title":"","fullFile":"cypress/integration/messaging/emoji_picker_keyboard_usability_spec.js","file":"cypress/integration/messaging/emoji_picker_keyboard_usability_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"bc16a4c9-0da0-40af-b577-df3acb6386d0","title":"MM-13064 - Emoji picker keyboard usability","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"If the left arrow key is pressed while focus is on the emoji picker text box, the cursor should move left in the text","fullTitle":"MM-13064 - Emoji picker keyboard usability If the left arrow key is pressed while focus is on the emoji picker text box, the cursor should move left in the text","timedOut":null,"duration":23276,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/emoji_picker_keyboard_usability_spec.js/MM-13064 - Emoji picker keyboard usability -- If the left arrow key is pressed while focus is on the emoji picker text box, the cursor should move left in the text (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/emoji_picker_keyboard_usability_spec.js/MM-13064 - Emoji picker keyboard usability -- If the left arrow key is pressed while focus is on the emoji picker text box, the cursor should move left in the text (failed).png\"\n}","code":"cy.findByLabelText('Search for an emoji').should('be.visible').and('have.focus').type('si').should('have.value', 'si').type('{leftarrow}m').should('have.value', 'smi');","err":{"message":"CypressError: Timed out retrying: Unable to find a label with the text of: Search for an emoji","estack":"CypressError: Timed out retrying: Unable to find a label with the text of: Search for an emoji\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"eef3bb72-03f0-48af-914a-350b293131aa","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false},{"title":"If the right arrow key is pressed when the cursor is at the end of the word in the text box, move the selection to the right in the emoji picker, otherwise move the cursor to the right in the text","fullTitle":"MM-13064 - Emoji picker keyboard usability If the right arrow key is pressed when the cursor is at the end of the word in the text box, move the selection to the right in the emoji picker, otherwise move the cursor to the right in the text","timedOut":null,"duration":22676,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/emoji_picker_keyboard_usability_spec.js/MM-13064 - Emoji picker keyboard usability -- If the right arrow key is pressed when the cursor is at the end of the word in the text box, move the selection to the right in the emoji picker, otherwise move the cursor to the right in the text (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/emoji_picker_keyboard_usability_spec.js/MM-13064 - Emoji picker keyboard usability -- If the right arrow key is pressed when the cursor is at the end of the word in the text box, move the selection to the right in the emoji picker, otherwise move the cursor to the right in the text (failed).png\"\n}","code":"// * Should highlight and preview the first emoji (\"smile\") on right arrow key\ncy.findByLabelText('Search for an emoji').should('be.visible').and('have.focus').type('si').should('have.value', 'si').type('{leftarrow}m').should('have.value', 'smi').type('{rightarrow}l').should('have.value', 'smil').type('{rightarrow}');\ncy.get('.emoji-picker__item.selected').should('exist').within(function () {\n  cy.findByTestId('smile').should('exist');\n});\ncy.get('#emojiPickerAliasesPreview').should('have.text', ':smile:'); // * Should highlight and preview the second emoji (\"smile_cat\") on second right arrow key\ncy.findByLabelText('Search for an emoji').should('have.focus').and('have.value', 'smil').type('{rightarrow}').should('have.value', 'smil');\ncy.get('.emoji-picker__item.selected').should('exist').within(function () {\n  cy.findByTestId('smile_cat').should('exist');\n});\ncy.get('#emojiPickerAliasesPreview').should('have.text', ':smile_cat:');","err":{"message":"CypressError: Timed out retrying: Unable to find a label with the text of: Search for an emoji","estack":"CypressError: Timed out retrying: Unable to find a label with the text of: Search for an emoji\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"6744457f-27b3-4c51-ac36-58f3f64adb77","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false},{"title":"If the down arrow key is pressed at any time, move the selection down in the emoji picker","fullTitle":"MM-13064 - Emoji picker keyboard usability If the down arrow key is pressed at any time, move the selection down in the emoji picker","timedOut":null,"duration":0,"state":"pending","speed":null,"pass":false,"fail":false,"pending":true,"context":null,"code":"","err":{},"uuid":"ff6eeb0e-7f0b-40a5-b994-45612fae49b9","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false},{"title":"If the up arrow is pressed when the emoji selector is already on the top row of emoji, set the cursor to the beginning of the string. Otherwise, up arrow moves the emoji selector up a row","fullTitle":"MM-13064 - Emoji picker keyboard usability If the up arrow is pressed when the emoji selector is already on the top row of emoji, set the cursor to the beginning of the string. Otherwise, up arrow moves the emoji selector up a row","timedOut":null,"duration":0,"state":"pending","speed":null,"pass":false,"fail":false,"pending":true,"context":null,"code":"","err":{},"uuid":"cbf1ca5c-ffb4-4e20-adca-1e740113103d","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false},{"title":"If CTRL/CMD + Arrow Left/Up is pressed at any time, set the cursor to the beginning of the string when the cursor is at the end of the string","fullTitle":"MM-13064 - Emoji picker keyboard usability If CTRL/CMD + Arrow Left/Up is pressed at any time, set the cursor to the beginning of the string when the cursor is at the end of the string","timedOut":null,"duration":0,"state":"pending","speed":null,"pass":false,"fail":false,"pending":true,"context":null,"code":"","err":{},"uuid":"1eaa2a76-5a95-40a6-920d-cc548fadd500","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false},{"title":"If CTRL/CMD + Arrow Right/Down is pressed at any time, set the cursor to the end of the string when the cursor is at the beginning of the string","fullTitle":"MM-13064 - Emoji picker keyboard usability If CTRL/CMD + Arrow Right/Down is pressed at any time, set the cursor to the end of the string when the cursor is at the beginning of the string","timedOut":null,"duration":0,"state":"pending","speed":null,"pass":false,"fail":false,"pending":true,"context":null,"code":"","err":{},"uuid":"68c49b50-d8be-452b-b0d7-fed1e8dbd814","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false},{"title":"If Shift + Arrow Left/Right is pressed at any time, should select or deselect individual characters based on the cursor position and if characters have or have not been selected","fullTitle":"MM-13064 - Emoji picker keyboard usability If Shift + Arrow Left/Right is pressed at any time, should select or deselect individual characters based on the cursor position and if characters have or have not been selected","timedOut":null,"duration":0,"state":"pending","speed":null,"pass":false,"fail":false,"pending":true,"context":null,"code":"","err":{},"uuid":"2c3a3f1d-e9a4-46a8-9335-d40818e7db65","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false},{"title":"If Shift + CTRL/CMD + Arrow Left/Up is pressed at any time, selects the string to the left of the cursor","fullTitle":"MM-13064 - Emoji picker keyboard usability If Shift + CTRL/CMD + Arrow Left/Up is pressed at any time, selects the string to the left of the cursor","timedOut":null,"duration":0,"state":"pending","speed":null,"pass":false,"fail":false,"pending":true,"context":null,"code":"","err":{},"uuid":"feb19409-a203-4b3b-b1b7-3f9a3864a0c1","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false},{"title":"If Shift + CTRL/CMD + Arrow Right/Down is pressed at any time, selects the string to the right of the cursor","fullTitle":"MM-13064 - Emoji picker keyboard usability If Shift + CTRL/CMD + Arrow Right/Down is pressed at any time, selects the string to the right of the cursor","timedOut":null,"duration":0,"state":"pending","speed":null,"pass":false,"fail":false,"pending":true,"context":null,"code":"","err":{},"uuid":"5c60b52f-0b55-49c9-8c30-0ab0f20cf024","parentUUID":"bc16a4c9-0da0-40af-b577-df3acb6386d0","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["eef3bb72-03f0-48af-914a-350b293131aa","6744457f-27b3-4c51-ac36-58f3f64adb77"],"pending":["ff6eeb0e-7f0b-40a5-b994-45612fae49b9","cbf1ca5c-ffb4-4e20-adca-1e740113103d","1eaa2a76-5a95-40a6-920d-cc548fadd500","68c49b50-d8be-452b-b0d7-fed1e8dbd814","2c3a3f1d-e9a4-46a8-9335-d40818e7db65","feb19409-a203-4b3b-b1b7-3f9a3864a0c1","5c60b52f-0b55-49c9-8c30-0ab0f20cf024"],"skipped":[],"duration":45952,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"f5e8842b-f5e2-4f53-8076-35892d9334ca","title":"","fullFile":"cypress/integration/messaging/emoji_size_spec.js","file":"cypress/integration/messaging/emoji_size_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"11c75486-752d-4734-861b-8dec70cc351f","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M15381 - Whitespace with emojis does not affect size","fullTitle":"Messaging M15381 - Whitespace with emojis does not affect size","timedOut":null,"duration":6836,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var emojis = [':book:', ':key:', ':gem:']; // # Post a message beginning with a new line and followed by emojis\ncy.postMessage('\\n' + emojis.join(' ')); // # Get last post message text\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).as('newLineMessage');\n}); // * Verify message is visible and does not have a new line\ncy.get('@newLineMessage').should('be.visible').and('not.contain', '\\n'); // * Verify emoji size\ncheckEmojiSize('@newLineMessage', emojis, true); // # Post a message beginning with three spaces and followed by emojis\ncy.postMessage('   ' + emojis.join(' ')); // # Get last post message text\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).as('spacesMessage');\n}); // * Verify message is visible and starts with three spaces\ncy.get('@spacesMessage').should('be.visible');\ncy.get('@spacesMessage').should(function (message) {\n  expect(message.find('span.all-emoji p').html()).to.match(/^[ ]{3}/);\n}); // * Verify emoji size\ncheckEmojiSize('@spacesMessage', emojis, true);","err":{},"uuid":"36b8a7ed-ec8f-476a-a19e-a3045f72f3fb","parentUUID":"11c75486-752d-4734-861b-8dec70cc351f","isHook":false,"skipped":false},{"title":"MM-15012 - Emojis are not jumbo when accompanied by text","fullTitle":"Messaging MM-15012 - Emojis are not jumbo when accompanied by text","timedOut":null,"duration":2234,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var emojis = [':book:', ':key:', ':gem:']; // # Post a message\nvar messageText = 'This is a message from the future';\ncy.postMessage(messageText + ' ' + emojis.join(' ')); // # Get last post message text\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).as('newLineMessage');\n}); // # Making sure Emojis from last post message are 21px size\ncheckEmojiSize('@newLineMessage', emojis, false);","err":{},"uuid":"cad3a53f-4dac-4dcc-8ae7-326add5f732e","parentUUID":"11c75486-752d-4734-861b-8dec70cc351f","isHook":false,"skipped":false},{"title":"M17457 Emojis show as jumbo in main thread - Multi emoji, no text, including unicode and emoticon","fullTitle":"Messaging M17457 Emojis show as jumbo in main thread - Multi emoji, no text, including unicode and emoticon","timedOut":null,"duration":1366,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create list of emojis we want to post\nvar emojis = [':smiley:', ':thumbsup:', '🤟']; // # Post Emojis list\ncy.postMessage(emojis.join('')); // #Get last post message\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).as('lastMessage'); //# Expect unicode value from last message to have jumbo size\n  cy.get('@lastMessage').find('.emoticon--unicode').should('have.css', 'height', '32px').and('have.css', 'width', '32px').and('have.text', '🤟'); //#Removes unicode item\n  emojis.pop(); //# Expect emoji list to have emoji jumbo size\n  checkEmojiSize('@lastMessage', emojis, true);\n});","err":{},"uuid":"0dee06cf-1d89-4838-bd9f-faa792d8c7ee","parentUUID":"11c75486-752d-4734-861b-8dec70cc351f","isHook":false,"skipped":false}],"suites":[],"passes":["36b8a7ed-ec8f-476a-a19e-a3045f72f3fb","cad3a53f-4dac-4dcc-8ae7-326add5f732e","0dee06cf-1d89-4838-bd9f-faa792d8c7ee"],"failures":[],"pending":[],"skipped":[],"duration":10436,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"9da84c8b-feeb-44c0-a42a-a1f8dd6b9f93","title":"","fullFile":"cypress/integration/messaging/emoji_to_markdown_spec.js","file":"cypress/integration/messaging/emoji_to_markdown_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8ad73d44-10be-469a-934c-c47b1c511ce4","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M17446 - Emojis preceded by 4 or more spaces are treated as Markdown","fullTitle":"Messaging M17446 - Emojis preceded by 4 or more spaces are treated as Markdown","timedOut":null,"duration":32653,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"['    :taco:', '     :taco:', '    :D', '     :D'].forEach(function (message) {\n  createAndVerifyMessage(message, true);\n});\n['   :taco:', '   :D'].forEach(function (message) {\n  createAndVerifyMessage(message, false);\n});","err":{},"uuid":"a811faaa-9d87-4ea8-a391-74b14827a2f2","parentUUID":"8ad73d44-10be-469a-934c-c47b1c511ce4","isHook":false,"skipped":false}],"suites":[],"passes":["a811faaa-9d87-4ea8-a391-74b14827a2f2"],"failures":[],"pending":[],"skipped":[],"duration":32653,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c02986e8-290c-4fc4-b0a0-652c351b6977","title":"","fullFile":"cypress/integration/messaging/file_upload_in_center_channel_spec.js","file":"cypress/integration/messaging/file_upload_in_center_channel_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"1731dac1-cf0b-4cee-9ce5-aee16865a457","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M16425 : Show single image thumbnails in standard mode","fullTitle":"Messaging M16425 : Show single image thumbnails in standard mode","timedOut":null,"duration":6008,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Set the messages display setting to standard i.e not compact\ncy.apiSaveMessageDisplayPreference(); // # upload an image\nvar IMAGE_NAME = 'huge-image.jpg';\ncy.fileUpload('#fileUploadInput', IMAGE_NAME);\nwaitForImageUpload(); // # post it with a message\nvar IMAGE_WITH_POST_TEXT = \"image in compact display setting \".concat(Date.now());\ncy.postMessage(IMAGE_WITH_POST_TEXT);\ncy.getLastPostId().then(function (lastPostId) {\n  // # Get to last post's message\n  cy.get(\"#\".concat(lastPostId, \"_message\")).should('exist').within(function () {\n    // * Check if typed message appeared in the post\n    cy.findByText(IMAGE_WITH_POST_TEXT).should('exist'); // * Check if image name appeared\n    cy.findByText(IMAGE_NAME).should('exist'); // * Check if collapse/expand button appeared, since its an icon button without text,\n    // finding it by Aria Label, as thats what screen readers will call out\n    cy.findByLabelText('Toggle Embed Visibility').should('exist'); // * Since last post was image upload, it should contain img with height property of 350px\n    cy.get('img').should('exist').and('have.css', 'max-height', '350px');\n  });\n});","err":{},"uuid":"5fd62a21-1f95-48b5-80fc-affc6a83c386","parentUUID":"1731dac1-cf0b-4cee-9ce5-aee16865a457","isHook":false,"skipped":false},{"title":"M16425 : Show single image thumbnails in compact mode","fullTitle":"Messaging M16425 : Show single image thumbnails in compact mode","timedOut":null,"duration":4362,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Set the messages display setting to compact\ncy.apiSaveMessageDisplayPreference('compact'); // # upload an image\nvar IMAGE_NAME = 'huge-image.jpg';\ncy.fileUpload('#fileUploadInput', IMAGE_NAME);\nwaitForImageUpload(); // # post it with a message\nvar IMAGE_WITH_POST_TEXT = \"image in standard display setting \".concat(Date.now());\ncy.postMessage(IMAGE_WITH_POST_TEXT);\ncy.getLastPostId().then(function (lastPostId) {\n  // # Get to last post's message\n  cy.get(\"#\".concat(lastPostId, \"_message\")).should('exist').within(function () {\n    // * Check if typed message appeared in the post\n    cy.findByText(IMAGE_WITH_POST_TEXT).should('exist'); // * Check if image name appeared\n    cy.findByText(IMAGE_NAME).should('exist'); // * Check if collapse/expand button appeared, since its an icon button without text,\n    // finding it by Aria Label, as thats what screen readers will call out\n    cy.findByLabelText('Toggle Embed Visibility').should('exist'); // * Since last message was image upload, it should contain img with height property of 1750px in standard mode\n    cy.get('img').should('be.visible').and('have.css', 'max-height', '175px');\n  });\n});","err":{},"uuid":"48591de6-0253-487c-a1ed-8e8c63b4899a","parentUUID":"1731dac1-cf0b-4cee-9ce5-aee16865a457","isHook":false,"skipped":false}],"suites":[],"passes":["5fd62a21-1f95-48b5-80fc-affc6a83c386","48591de6-0253-487c-a1ed-8e8c63b4899a"],"failures":[],"pending":[],"skipped":[],"duration":10370,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"1543e54a-6ce6-43d6-b856-f2f492abb4fc","title":"","fullFile":"cypress/integration/messaging/focus_move_spec.js","file":"cypress/integration/messaging/focus_move_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"dfe48c90-9865-4cb8-bd3d-71bc9b130753","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M15406 - Focus move from Recent Mentions to main input box when a character key is selected","fullTitle":"Messaging M15406 - Focus move from Recent Mentions to main input box when a character key is selected","timedOut":null,"duration":22544,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/focus_move_spec.js/Messaging -- M15406 - Focus move from Recent Mentions to main input box when a character key is selected (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/focus_move_spec.js/Messaging -- M15406 - Focus move from Recent Mentions to main input box when a character key is selected (failed).png\"\n}","code":"//#Click the flag icon to open the flagged posts RHS to move the focus out of the main input box\ncy.get('#channelHeaderFlagButton').click(); //#Making sure Flagged Posts is present on the page\ncy.get('#searchContainer', {\n  timeout: TIMEOUTS.SMALL\n}).contains('Flagged Posts').should('be.visible');\ncy.get('#post_textbox').should('not.be.focused'); //#Push a character key such as \"A\"\ncy.get('body').type('A'); //#Expect to have \"A\" value in main input\ncy.get('#post_textbox').should('be.focused'); //#Click the @ icon to open the Recent mentions RHS to move the focus out of the main input box\ncy.get('#channelHeaderMentionButton').click({\n  force: true\n});\ncy.get('#post_textbox').should('not.be.focused'); //#Push a character key such as \"B\"\ncy.get('body').type('B');\ncy.get('#post_textbox').should('be.focused');","err":{"message":"CypressError: Timed out retrying: Expected to find content: 'Flagged Posts' within the element: <div#searchContainer.sidebar-right__body> but never did.","estack":"CypressError: Timed out retrying: Expected to find content: 'Flagged Posts' within the element: <div#searchContainer.sidebar-right__body> but never did.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"fa7bf726-8211-4c02-8d01-6a2bb93b0b01","parentUUID":"dfe48c90-9865-4cb8-bd3d-71bc9b130753","isHook":false,"skipped":false},{"title":"M17449 - Focus will move to main input box after a new channel has been opened","fullTitle":"Messaging M17449 - Focus will move to main input box after a new channel has been opened","timedOut":null,"duration":5329,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"//# Click on Town-Square channel\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Post a new message\ncy.postMessage('new post'); //# Open the reply thread on the most recent post on Town-Square channel\ncy.clickPostCommentIcon(); //# Place the focus inside the RHS input box\ncy.get('#reply_textbox').focus().should('be.focused'); //# Use CTRL+K or CMD+K to open the channel switcher depending on OS\ncy.typeCmdOrCtrl().type('K', {\n  release: true\n}); //* Verify channel switcher is visible\ncy.get('#quickSwitchHint').should('be.visible'); //# Type channel name 'Off-Topic' and select it\ncy.get('#quickSwitchInput').type('Off-Topic').wait(TIMEOUTS.TINY).type('{enter}'); //* Verify that it redirected into selected channel 'Off-Topic'\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Off-Topic'); //* Verify focus is moved to main input box when the channel is opened\ncy.get('#post_textbox').should('be.focused');","err":{},"uuid":"f10f458f-d400-4207-9769-dfbe278214ca","parentUUID":"dfe48c90-9865-4cb8-bd3d-71bc9b130753","isHook":false,"skipped":false},{"title":"M17450 - Focus to remain in RHS textbox each time Reply arrow is clicked","fullTitle":"Messaging M17450 - Focus to remain in RHS textbox each time Reply arrow is clicked","timedOut":null,"duration":4058,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"//# Click on Town-Square channel\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Post a new message\ncy.postMessage('new post'); //# Open the reply thread on the most recent post on Town-Square channel\ncy.clickPostCommentIcon(); //* Verify RHS textbox is focused the first time Reply arrow is clicked\ncy.get('#reply_textbox').should('be.focused'); //# Focus away from RHS textbox\ncy.get('#rhsContent').click(); //# Click reply arrow on post in same thread\ncy.clickPostCommentIcon(); //* Verify RHS textbox is again focused the second time, when already open\ncy.get('#reply_textbox').should('be.focused');","err":{},"uuid":"52f9ec42-fd5b-4a0a-a062-19df8b620315","parentUUID":"dfe48c90-9865-4cb8-bd3d-71bc9b130753","isHook":false,"skipped":false},{"title":"M17452 Focus does not move when it has already been set elsewhere","fullTitle":"Messaging M17452 Focus does not move when it has already been set elsewhere","timedOut":null,"duration":2615,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.getCurrentTeamId().then(function (teamId) {\n  // # Create new test channel\n  cy.apiCreateChannel(teamId, 'channel-test', 'Channel Test').then(function (res) {\n    testChannel = res.body; // # Select the channel on the left hand side\n    cy.get(\"#sidebarItem_\".concat(testChannel.name)).click({\n      force: true\n    }); // * Channel's display name should be visible at the top of the center pane\n    cy.get('#channelHeaderTitle').should('contain', testChannel.display_name); // # Verify Focus in add channel member modal\n    verifyFocusInAddChannelMemberModal();\n  });\n});","err":{},"uuid":"da5138c8-4ede-4786-887a-12493395a4d8","parentUUID":"dfe48c90-9865-4cb8-bd3d-71bc9b130753","isHook":false,"skipped":false},{"title":"M17455 - Focus does not move for non-character keys","fullTitle":"Messaging M17455 - Focus does not move for non-character keys","timedOut":null,"duration":21625,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/focus_move_spec.js/Messaging -- M17455 - Focus does not move for non-character keys (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/focus_move_spec.js/Messaging -- M17455 - Focus does not move for non-character keys (failed).png\"\n}","code":"//# Make sure main input is not focused\ncy.get('#post_textbox').should('not.be.focused'); // Keycodes for keys that don't have a special character sequence for cypress.type()\nvar numLockKeycode = 144;\nvar f7Keycode = 118;\nvar windowsKeycode = 91;\n[numLockKeycode, f7Keycode, windowsKeycode].forEach(function (keycode) {\n  //# Trigger keydown event using keycode\n  cy.get('body').trigger('keydown', {\n    keyCode: keycode,\n    which: keycode\n  }); //# Make sure main input is not focused\n  cy.get('#post_textbox').should('not.be.focused');\n}); // For other keys we can use cypress.type() with a special character sequence.\n['{downarrow}', '{pagedown}', '{shift}', '{pageup}', '{enter}'].forEach(function (key) {\n  //# Type special character key using Cypress special character sequence\n  cy.get('body').type(key); //# Make sure main input is not focused\n  cy.get('#post_textbox').should('not.be.focused');\n});","err":{"message":"CypressError: Timed out retrying: expected '<textarea#post_textbox.form-control.custom-textarea.custom-textarea--emoji-picker>' not to be 'focused'","estack":"CypressError: Timed out retrying: expected '<textarea#post_textbox.form-control.custom-textarea.custom-textarea--emoji-picker>' not to be 'focused'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"02e89b54-6e29-4361-a61d-664a948e94d7","parentUUID":"dfe48c90-9865-4cb8-bd3d-71bc9b130753","isHook":false,"skipped":false}],"suites":[],"passes":["f10f458f-d400-4207-9769-dfbe278214ca","52f9ec42-fd5b-4a0a-a062-19df8b620315","da5138c8-4ede-4786-887a-12493395a4d8"],"failures":["fa7bf726-8211-4c02-8d01-6a2bb93b0b01","02e89b54-6e29-4361-a61d-664a948e94d7"],"pending":[],"skipped":[],"duration":56171,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"ff36570b-b5d7-4827-a052-dbe43243beda","title":"","fullFile":"cypress/integration/messaging/header_spec.js","file":"cypress/integration/messaging/header_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"6e88fc09-ebed-4768-a5a6-6e65e8c4ef29","title":"Header","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M13564 Ellipsis indicates the channel header is too long","fullTitle":"Header M13564 Ellipsis indicates the channel header is too long","timedOut":null,"duration":9155,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify with short channel header\nupdateAndVerifyChannelHeader('>', 'newheader'); // * Verify with long channel header\nupdateAndVerifyChannelHeader('>', 'newheader'.repeat(20));","err":{},"uuid":"433f78da-8474-4bf1-808a-e619765f1e1a","parentUUID":"6e88fc09-ebed-4768-a5a6-6e65e8c4ef29","isHook":false,"skipped":false},{"title":"CS14730 - Channel Header: Markdown quote","fullTitle":"Header CS14730 - Channel Header: Markdown quote","timedOut":null,"duration":3548,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Update channel header text\nvar header = 'This is a quote in the header';\nupdateAndVerifyChannelHeader('>', header);","err":{},"uuid":"f77fd8e9-a0a1-4533-a620-6219727a07e7","parentUUID":"6e88fc09-ebed-4768-a5a6-6e65e8c4ef29","isHook":false,"skipped":false},{"title":"M14784 - An ellipsis indicates the channel header is too long - DM","fullTitle":"Header M14784 - An ellipsis indicates the channel header is too long - DM","timedOut":null,"duration":21756,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/header_spec.js/Header -- M14784 - An ellipsis indicates the channel header is too long - DM (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/header_spec.js/Header -- M14784 - An ellipsis indicates the channel header is too long - DM (failed).png\"\n}","code":"// # Open Account Setting and enable Compact View on the Display tab\ncy.changeMessageDisplaySetting('COMPACT'); // # Open a DM with user named 'user-2'\ncy.get('#addDirectChannel').click().wait(TIMEOUTS.TINY);\ncy.focused().type('user-2', {\n  force: true\n}).type('{enter}', {\n  force: true\n}).wait(TIMEOUTS.TINY);\ncy.get('#saveItems').click().wait(TIMEOUTS.TINY); // # Update DM channel header\nvar header = 'quote newheader newheader newheader newheader newheader newheader newheader newheader newheader newheader';\nupdateAndVerifyChannelHeader('>', header); // # Click the header to see the whole text\ncy.get('#channelHeaderDescription').click(); // * Check that no elippsis is present\ncy.get('#header-popover > div.popover-content').should('have.html', \"<span><blockquote>\\n<p>\".concat(header, \"</p>\\n</blockquote></span>\"));\ncy.apiSaveMessageDisplayPreference('clean');","err":{"message":"CypressError: Timed out retrying: expected '<h3#displaySettingsTitle.tab-header>' to contain 'Display Settings'","estack":"CypressError: Timed out retrying: expected '<h3#displaySettingsTitle.tab-header>' to contain 'Display Settings'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"619a72c1-c056-4706-9dbc-aaaede7fcc80","parentUUID":"6e88fc09-ebed-4768-a5a6-6e65e8c4ef29","isHook":false,"skipped":false},{"title":"S13483 - Cleared search term should not reappear as RHS is opened and closed","fullTitle":"Header S13483 - Cleared search term should not reappear as RHS is opened and closed","timedOut":null,"duration":23575,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/header_spec.js/Header -- S13483 - Cleared search term should not reappear as RHS is opened and closed (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/header_spec.js/Header -- S13483 - Cleared search term should not reappear as RHS is opened and closed (failed).png\"\n}","code":"// # Place the focus on the search box and search for something\ncy.get('#searchFormContainer').click();\ncy.get('#searchBox').should('be.visible').type('London{enter}').wait(1000).clear(); // # Verify the Search side bar opens up\ncy.get('#sidebar-right').should('be.visible').and('contain', 'Search Results'); // # Close the search side bar\n// * Verify the Search side bar is closed\ncy.get('#searchResultsCloseButton').should('be.visible').click();\ncy.get('#sidebar-right').should('not.be.visible'); // # Verify that the cleared search text does not appear on the search box\ncy.get('#searchBox').should('be.visible').and('be.empty'); // # Click the pin icon to open the pinned posts RHS\ncy.get('#channelHeaderPinButton').should('be.visible').click();\ncy.get('#sidebar-right').should('be.visible').and('contain', 'Pinned Posts in'); // # Verify that the Search term input box is still cleared and search term does not reappear when RHS opens\ncy.get('#searchBox').should('have.attr', 'value', '').and('be.empty');","err":{"message":"CypressError: Timed out retrying: expected '<div#sidebar-right.sidebar--right.move--left>' to contain 'Search Results'","estack":"CypressError: Timed out retrying: expected '<div#sidebar-right.sidebar--right.move--left>' to contain 'Search Results'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"f2f6b4c8-b857-4116-a4ff-6561697853ad","parentUUID":"6e88fc09-ebed-4768-a5a6-6e65e8c4ef29","isHook":false,"skipped":false}],"suites":[],"passes":["433f78da-8474-4bf1-808a-e619765f1e1a","f77fd8e9-a0a1-4533-a620-6219727a07e7"],"failures":["619a72c1-c056-4706-9dbc-aaaede7fcc80","f2f6b4c8-b857-4116-a4ff-6561697853ad"],"pending":[],"skipped":[],"duration":58034,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"d56724e0-5099-44ba-a9a5-7762412cbb0a","title":"","fullFile":"cypress/integration/messaging/image_attachment_spec.js","file":"cypress/integration/messaging/image_attachment_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8185ea79-e39d-46a8-910e-e490047b1c37","title":"Image attachment","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Image smaller than 48px in both width and height","fullTitle":"Image attachment Image smaller than 48px in both width and height","timedOut":null,"duration":3461,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Upload a file on center view\ncy.fileUpload('#fileUploadInput', 'small-image.png');\nverifyImageInPostFooter(); // # Post message\ncy.postMessage('Image upload');\nverifyImageInPostFooter(false); // * Verify that HTML Content is correct.\n// Note we check width and height to verify that img element is actually loaded\ncy.getLastPostId().then(function (postId) {\n  // * Verify that the image is inside a container div\n  cy.get(\"#\".concat(postId, \"_message\")).should('be.visible').within(function () {\n    cy.get('div.small-image__container').as('containerDiv').should('have.class', 'cursor--pointer').and('have.class', 'a11y--active').and('have.class', 'small-image__container--min-width').and('have.css', 'height', '48px').and('have.css', 'width', '48px');\n    cy.get('@containerDiv').children('img').should('have.class', 'min-preview').and('have.css', 'height', '24px').and('have.css', 'width', '24px');\n  });\n});","err":{},"uuid":"8a15c290-789b-45bc-8e01-ab696afcb3cb","parentUUID":"8185ea79-e39d-46a8-910e-e490047b1c37","isHook":false,"skipped":false},{"title":"Image with height smaller than 48px","fullTitle":"Image attachment Image with height smaller than 48px","timedOut":null,"duration":728,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Upload a file on center view\ncy.fileUpload('#fileUploadInput', 'image-small-height.png');\nverifyImageInPostFooter(); // # Post message\ncy.postMessage('Image upload');\nverifyImageInPostFooter(false); // * Verify that HTML Content is correct.\n// Note we check width and height to verify that img element is actually loaded\ncy.getLastPostId().then(function (postId) {\n  // * Verify that the image is inside a container div\n  cy.get(\"#\".concat(postId, \"_message\")).should('be.visible').within(function () {\n    cy.get('div.small-image__container').as('containerDiv').should('have.class', 'cursor--pointer').and('have.class', 'a11y--active').and('have.css', 'height', '48px').and('have.css', 'width', '342px');\n    cy.get('@containerDiv').children('img').should('have.class', 'min-preview').and('have.css', 'height', '25px').and('have.css', 'width', '340px');\n  });\n});","err":{},"uuid":"3c970aca-1cef-43f9-a117-68a6859f16dd","parentUUID":"8185ea79-e39d-46a8-910e-e490047b1c37","isHook":false,"skipped":false},{"title":"Image with width smaller than 48px","fullTitle":"Image attachment Image with width smaller than 48px","timedOut":null,"duration":765,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Upload a file on center view\ncy.fileUpload('#fileUploadInput', 'image-small-width.png');\nverifyImageInPostFooter(); // # Post message\ncy.postMessage('Image upload');\nverifyImageInPostFooter(false); // * Verify that HTML Content is correct.\n// Note we check width and height to verify that img element is actually loaded\ncy.getLastPostId().then(function (postId) {\n  // * Verify that the image is inside a container div\n  cy.get(\"#\".concat(postId, \"_message\")).should('be.visible').within(function () {\n    cy.get('div.small-image__container').as('containerDiv').should('have.class', 'cursor--pointer').and('have.class', 'a11y--active').and('have.class', 'small-image__container--min-width').and('have.css', 'height', '350px').and('have.css', 'width', '48px');\n    cy.get('@containerDiv').children('img').should('have.class', 'min-preview').and('have.css', 'height', '350px').and(function (img) {\n      expect(img.width()).to.be.closeTo(21, 0.9);\n    });\n  });\n});","err":{},"uuid":"5bf647a8-3f12-4728-a51d-128452e95685","parentUUID":"8185ea79-e39d-46a8-910e-e490047b1c37","isHook":false,"skipped":false},{"title":"Image with width and height bigger than 48px","fullTitle":"Image attachment Image with width and height bigger than 48px","timedOut":null,"duration":20824,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/image_attachment_spec.js/Image attachment -- Image with width and height bigger than 48px (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/image_attachment_spec.js/Image attachment -- Image with width and height bigger than 48px (failed).png\"\n}","code":"// # Upload a file on center view\ncy.fileUpload('#fileUploadInput', 'MM-logo-horizontal.png');\nverifyImageInPostFooter(); // # Post message\ncy.postMessage('Image upload');\nverifyImageInPostFooter(false); // * Verify that HTML Content is correct.\n// Note we check width and height to verify that img element is actually loaded\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#\".concat(postId, \"_message\")).should('be.visible').within(function () {\n    cy.get('div.file-preview__button').as('div');\n    cy.get('@div').find('img').and(function (img) {\n      expect(img.height()).to.be.closeTo(142, 0.9);\n      expect(img.width()).to.be.closeTo(899, 0.9);\n    });\n  });\n});","err":{"message":"CypressError: Timed out retrying: expected 144.703 to be close to 142 +/- 0.9","estack":"CypressError: Timed out retrying: expected 144.703 to be close to 142 +/- 0.9\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"6041f222-347a-45f3-999f-3d4d53041103","parentUUID":"8185ea79-e39d-46a8-910e-e490047b1c37","isHook":false,"skipped":false},{"title":"opens image preview window when image is clicked","fullTitle":"Image attachment opens image preview window when image is clicked","timedOut":null,"duration":5931,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/image_attachment_spec.js/Image attachment -- opens image preview window when image is clicked (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/image_attachment_spec.js/Image attachment -- opens image preview window when image is clicked (failed).png\"\n}","code":"// # Upload a file on center view\ncy.fileUpload('#fileUploadInput', 'MM-logo-horizontal.png');\nverifyImageInPostFooter(); // # Post message\ncy.postMessage('Image upload');\nverifyImageInPostFooter(false);\ncy.getLastPostId().then(function (postId) {\n  // # Get the image and simulate a click.\n  cy.get(\"#\".concat(postId, \"_message\")).should('be.visible').within(function () {\n    cy.get('div.file-preview__button').as('div');\n    cy.get('@div').find('img').and(function (img) {\n      expect(img.height()).to.be.closeTo(142, 0.9);\n      expect(img.width()).to.be.closeTo(899, 0.9);\n    }).click();\n  }); // * Verify that the preview modal opens\n  cy.get('div.modal-image__content').should('be.visible'); // # Close the modal\n  cy.get('div.modal-close').should('exist').click({\n    force: true\n  });\n});","err":{"message":"Error: Timed out retrying","estack":"Error: Timed out retrying\n    at Context.check (https://cypress.test.mattermost.com/__cypress/tests?p=cypress/support/index.js-111:16656:13)","diff":null},"uuid":"624c2cae-3710-42e3-9625-df089dd08127","parentUUID":"8185ea79-e39d-46a8-910e-e490047b1c37","isHook":false,"skipped":false},{"title":"opens image preview window when small image is clicked","fullTitle":"Image attachment opens image preview window when small image is clicked","timedOut":null,"duration":5933,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/image_attachment_spec.js/Image attachment -- opens image preview window when small image is clicked (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/image_attachment_spec.js/Image attachment -- opens image preview window when small image is clicked (failed).png\"\n}","code":"// # Upload a file on center view\ncy.fileUpload('#fileUploadInput', 'small-image.png');\nverifyImageInPostFooter(); // # Post message\ncy.postMessage('Image upload');\nverifyImageInPostFooter(false);\ncy.getLastPostId().then(function (postId) {\n  // # Get the container div and simulate a click.\n  cy.get(\"#\".concat(postId, \"_message\")).should('be.visible').within(function () {\n    cy.get('div.small-image__container').should('be.visible').and('have.css', 'height', '48px').and('have.css', 'width', '48px').click();\n  }); // * Verify that the preview modal opens\n  cy.get('div.modal-image__content').should('be.visible');\n});","err":{"message":"Error: Timed out retrying","estack":"Error: Timed out retrying\n    at Context.check (https://cypress.test.mattermost.com/__cypress/tests?p=cypress/support/index.js-111:16656:13)","diff":null},"uuid":"c02b79a3-53a5-4057-924b-ffbac9ec591f","parentUUID":"8185ea79-e39d-46a8-910e-e490047b1c37","isHook":false,"skipped":false}],"suites":[],"passes":["8a15c290-789b-45bc-8e01-ab696afcb3cb","3c970aca-1cef-43f9-a117-68a6859f16dd","5bf647a8-3f12-4728-a51d-128452e95685"],"failures":["6041f222-347a-45f3-999f-3d4d53041103","624c2cae-3710-42e3-9625-df089dd08127","c02b79a3-53a5-4057-924b-ffbac9ec591f"],"pending":[],"skipped":[],"duration":37642,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"a36267cd-70ed-4abd-a139-6c891ad2ae96","title":"","fullFile":"cypress/integration/messaging/input_box_expands_spec.js","file":"cypress/integration/messaging/input_box_expands_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"abe7fba1-853d-45fc-94a3-cbb24c136dfa","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18711-Input box on main thread can expand with RHS closed","fullTitle":"Messaging M18711-Input box on main thread can expand with RHS closed","timedOut":null,"duration":14997,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Wait until site is loaded\ncy.wait(TIMEOUTS.SMALL); // # Check whether the RHS Close button exist, and click it in case it exist.\ncy.get('body').then(function (body) {\n  if (body.find('rhsCloseButton').length) {\n    cy.get('#rhsCloseButton').click({\n      force: true\n    });\n  }\n}); // * Confirm the RHS is not shown since there is no Close Button\ncy.get('#rhsCloseButton').should('not.exist'); // # Get initial height of the post textbox\ncy.get('#post_textbox').should('be.visible').clear();\ncy.get('#post_textbox').then(function (post) {\n  cy.wrap(parseInt(post[0].clientHeight, 10)).as('previousHeight');\n}); // # Scroll to latest post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).scrollIntoView();\n}); // # Write lines until maximum height\nfor (var i = 0; i < 13; i++) {\n  // # Post the line\n  cy.get('#post_textbox').type('{shift}{enter}');\n  cy.get('#post_textbox').then(function (post) {\n    var height = parseInt(post[0].clientHeight, 10); // * Previous height should be lower than the current height\n    cy.get('@previousHeight').should('be.lessThan', height); // # Store the current height as the previous height for the next loop\n    cy.wrap(height).as('previousHeight');\n  });\n} // * Check that height does not keep increasing.\n\ncy.get('#post_textbox').type('{shift}{enter}');\ncy.get('#post_textbox').then(function (post) {\n  var height = parseInt(post[0].clientHeight, 10);\n  cy.get('@previousHeight').should('equal', height);\n});\ncy.getNthPostId(-1).then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).should('be.visible');\n}); // # Clear textbox to test from a different post\ncy.get('#post_textbox').should('be.visible').clear(); // # Scroll to a previous post\ncy.getNthPostId(-20).then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).scrollIntoView();\n}); // #  Again, write lines until the textbox reaches the maximum height\nfor (var _i = 0; _i < 14; _i++) {\n  cy.get('#post_textbox').type('{shift}{enter}');\n} // * Previous post should be visible\n\ncy.getNthPostId(-20).then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).should('be.visible');\n});","err":{},"uuid":"d3f09b9b-5cf2-4ee4-b135-e1c9099d7c19","parentUUID":"abe7fba1-853d-45fc-94a3-cbb24c136dfa","isHook":false,"skipped":false}],"suites":[],"passes":["d3f09b9b-5cf2-4ee4-b135-e1c9099d7c19"],"failures":[],"pending":[],"skipped":[],"duration":14997,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"606a3f74-71de-4761-8ee2-f6f5450dc9bf","title":"","fullFile":"cypress/integration/messaging/input_box_expands_with_rhs_spec.js","file":"cypress/integration/messaging/input_box_expands_with_rhs_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"32201dbb-d071-4986-906b-95a8e2ce99b0","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18709-Input box on main thread can expand with RHS open","fullTitle":"Messaging M18709-Input box on main thread can expand with RHS open","timedOut":null,"duration":16918,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Wait until site is loaded\ncy.wait(TIMEOUTS.SMALL); // # Open RHS\ncy.clickPostCommentIcon(); // * Confirm the RHS is shown\ncy.get('#rhsCloseButton').should('exist'); // # Get initial height of the post textbox\ncy.get('#post_textbox').should('be.visible').clear();\ncy.get('#post_textbox').then(function (post) {\n  cy.wrap(parseInt(post[0].clientHeight, 10)).as('previousHeight');\n}); // # Scroll to latest post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).scrollIntoView();\n}); // # Write lines until maximum height\nfor (var i = 0; i < 13; i++) {\n  // # Post the line\n  cy.get('#post_textbox').type('{shift}{enter}');\n  cy.get('#post_textbox').then(function (post) {\n    var height = parseInt(post[0].clientHeight, 10); // * Previous height should be lower than the current heigh\n    cy.get('@previousHeight').should('be.lessThan', height); // # Store the current height as the previous height for the next loop\n    cy.wrap(height).as('previousHeight');\n  });\n} // * Check that height does not keep increasing.\n\ncy.get('#post_textbox').type('{shift}{enter}');\ncy.get('#post_textbox').then(function (post) {\n  var height = parseInt(post[0].clientHeight, 10);\n  cy.get('@previousHeight').should('equal', height);\n});\ncy.getNthPostId(-1).then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).should('be.visible');\n}); // # Clear textbox to test from a different post\ncy.get('#post_textbox').should('be.visible').clear(); // # Scroll to a previous post\ncy.getNthPostId(-20).then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).scrollIntoView();\n}); // # Write again all the long message\nfor (var _i = 0; _i < 14; _i++) {\n  cy.get('#post_textbox').type('{shift}{enter}');\n} // * Previous post should be visible\n\ncy.getNthPostId(-20).then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).should('be.visible');\n});","err":{},"uuid":"a6b0ceb5-c4b4-4a4e-8f4b-501fdd2b2067","parentUUID":"32201dbb-d071-4986-906b-95a8e2ce99b0","isHook":false,"skipped":false}],"suites":[],"passes":["a6b0ceb5-c4b4-4a4e-8f4b-501fdd2b2067"],"failures":[],"pending":[],"skipped":[],"duration":16918,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"019ef80c-3fff-42bf-bbc6-bb895696d531","title":"","fullFile":"cypress/integration/messaging/invalid_emojis_as_text_spec.js","file":"cypress/integration/messaging/invalid_emojis_as_text_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"0d251dc9-591b-4420-84f8-6bd0c0621849","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M17443 - Terms that are not valid emojis render as plain text","fullTitle":"Messaging M17443 - Terms that are not valid emojis render as plain text","timedOut":null,"duration":5827,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post message to use\ncy.postMessage(':pickle:'); // * Post contains the text\ncy.getLastPost().should('contain', ':pickle:'); // # Post message to use\ncy.postMessage('on Mon Jun 03 16:15:11 +0000 2019'); // * Post contains the text\ncy.getLastPost().should('contain', 'on Mon Jun 03 16:15:11 +0000 2019');","err":{},"uuid":"5f78466e-c469-43e5-9f15-73f15567530c","parentUUID":"0d251dc9-591b-4420-84f8-6bd0c0621849","isHook":false,"skipped":false}],"suites":[],"passes":["5f78466e-c469-43e5-9f15-73f15567530c"],"failures":[],"pending":[],"skipped":[],"duration":5827,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"840a3df7-7e94-473a-81e8-d0acbfd3fe94","title":"","fullFile":"cypress/integration/messaging/local_date_time_spec.js","file":"cypress/integration/messaging/local_date_time_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"accf8866-e9c1-44a8-b968-6503e8cc2e13","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8b6b9a48-30bb-49e0-9594-25eaecad1935","title":"MM-21342 Post time should render correct format and locale","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"0640b381-9793-4ca6-9e47-b64ed55f0e43","title":"in English","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"f8bba9d6-cbf7-4519-a3ed-689b6d277010","title":"standard time","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"post 0 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in English standard time post 0 should match","timedOut":null,"duration":7192,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"a8e33cb4-42bd-49bb-934b-4ec9064afc2e","parentUUID":"f8bba9d6-cbf7-4519-a3ed-689b6d277010","isHook":false,"skipped":false},{"title":"post 1 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in English standard time post 1 should match","timedOut":null,"duration":159,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"7aba6eb1-8e89-4159-8f82-77111ea6d28f","parentUUID":"f8bba9d6-cbf7-4519-a3ed-689b6d277010","isHook":false,"skipped":false},{"title":"post 2 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in English standard time post 2 should match","timedOut":null,"duration":158,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"b63b766e-ecfc-46d7-aa67-7c2211aede2f","parentUUID":"f8bba9d6-cbf7-4519-a3ed-689b6d277010","isHook":false,"skipped":false},{"title":"post 3 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in English standard time post 3 should match","timedOut":null,"duration":151,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"fdc0f528-7c70-4bde-903a-be3baa60aae5","parentUUID":"f8bba9d6-cbf7-4519-a3ed-689b6d277010","isHook":false,"skipped":false}],"suites":[],"passes":["a8e33cb4-42bd-49bb-934b-4ec9064afc2e","7aba6eb1-8e89-4159-8f82-77111ea6d28f","b63b766e-ecfc-46d7-aa67-7c2211aede2f","fdc0f528-7c70-4bde-903a-be3baa60aae5"],"failures":[],"pending":[],"skipped":[],"duration":7660,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"ecd5d8a0-567f-4b05-a0ca-0daa6f22bace","title":"military time","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"post 0 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in English military time post 0 should match","timedOut":null,"duration":159,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"35b3599d-fe48-461b-ae7e-d48a8df473af","parentUUID":"ecd5d8a0-567f-4b05-a0ca-0daa6f22bace","isHook":false,"skipped":false},{"title":"post 1 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in English military time post 1 should match","timedOut":null,"duration":169,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"46af9199-c68a-4ac4-8442-4d744a2a6d34","parentUUID":"ecd5d8a0-567f-4b05-a0ca-0daa6f22bace","isHook":false,"skipped":false},{"title":"post 2 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in English military time post 2 should match","timedOut":null,"duration":169,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"c64ac1fb-18af-452a-8143-e9b0f8eca988","parentUUID":"ecd5d8a0-567f-4b05-a0ca-0daa6f22bace","isHook":false,"skipped":false},{"title":"post 3 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in English military time post 3 should match","timedOut":null,"duration":163,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"796c9bb8-9361-4a2c-a3d1-8e6bb83a5849","parentUUID":"ecd5d8a0-567f-4b05-a0ca-0daa6f22bace","isHook":false,"skipped":false}],"suites":[],"passes":["35b3599d-fe48-461b-ae7e-d48a8df473af","46af9199-c68a-4ac4-8442-4d744a2a6d34","c64ac1fb-18af-452a-8143-e9b0f8eca988","796c9bb8-9361-4a2c-a3d1-8e6bb83a5849"],"failures":[],"pending":[],"skipped":[],"duration":660,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"006bd4b5-3884-4b53-899f-ff02af64d2b0","title":"in Spanish","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"10bd1744-7dbd-46b1-8648-a94ff9411922","title":"standard time","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"post 0 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in Spanish standard time post 0 should match","timedOut":null,"duration":559,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"f63f637f-2e8f-4dc9-8913-f7706e443a7d","parentUUID":"10bd1744-7dbd-46b1-8648-a94ff9411922","isHook":false,"skipped":false},{"title":"post 1 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in Spanish standard time post 1 should match","timedOut":null,"duration":179,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"83b60892-f8e0-45d6-82f7-00ddc56415f8","parentUUID":"10bd1744-7dbd-46b1-8648-a94ff9411922","isHook":false,"skipped":false},{"title":"post 2 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in Spanish standard time post 2 should match","timedOut":null,"duration":145,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"a30331fd-d0f8-40f7-a6bc-c019959d6edf","parentUUID":"10bd1744-7dbd-46b1-8648-a94ff9411922","isHook":false,"skipped":false},{"title":"post 3 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in Spanish standard time post 3 should match","timedOut":null,"duration":143,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"151a2b63-6a67-44e5-a9e3-d88eaf01a1cd","parentUUID":"10bd1744-7dbd-46b1-8648-a94ff9411922","isHook":false,"skipped":false}],"suites":[],"passes":["f63f637f-2e8f-4dc9-8913-f7706e443a7d","83b60892-f8e0-45d6-82f7-00ddc56415f8","a30331fd-d0f8-40f7-a6bc-c019959d6edf","151a2b63-6a67-44e5-a9e3-d88eaf01a1cd"],"failures":[],"pending":[],"skipped":[],"duration":1026,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"4a4b4328-af70-437b-9455-ecfc6b1c1817","title":"military time","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"post 0 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in Spanish military time post 0 should match","timedOut":null,"duration":139,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"d0107696-1269-48f6-ad50-7c9f8e1d5e46","parentUUID":"4a4b4328-af70-437b-9455-ecfc6b1c1817","isHook":false,"skipped":false},{"title":"post 1 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in Spanish military time post 1 should match","timedOut":null,"duration":167,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"399081db-090d-4018-91be-f64f334ab266","parentUUID":"4a4b4328-af70-437b-9455-ecfc6b1c1817","isHook":false,"skipped":false},{"title":"post 2 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in Spanish military time post 2 should match","timedOut":null,"duration":160,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"f45cf893-0a68-49c5-8708-b269f6da8ccf","parentUUID":"4a4b4328-af70-437b-9455-ecfc6b1c1817","isHook":false,"skipped":false},{"title":"post 3 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in Spanish military time post 3 should match","timedOut":null,"duration":166,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"360fc391-7b2d-48d4-82b4-f81aa1de9e59","parentUUID":"4a4b4328-af70-437b-9455-ecfc6b1c1817","isHook":false,"skipped":false}],"suites":[],"passes":["d0107696-1269-48f6-ad50-7c9f8e1d5e46","399081db-090d-4018-91be-f64f334ab266","f45cf893-0a68-49c5-8708-b269f6da8ccf","360fc391-7b2d-48d4-82b4-f81aa1de9e59"],"failures":[],"pending":[],"skipped":[],"duration":632,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"adfa3702-e019-425e-97c1-78f29aaa43b7","title":"in react-intl unsupported timezone","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"15fe7f49-6376-41f2-b032-f304fba09883","title":"standard time","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"post 0 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in react-intl unsupported timezone standard time post 0 should match","timedOut":null,"duration":222,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"41a32368-70f0-4003-996f-84fabd54aefc","parentUUID":"15fe7f49-6376-41f2-b032-f304fba09883","isHook":false,"skipped":false},{"title":"post 1 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in react-intl unsupported timezone standard time post 1 should match","timedOut":null,"duration":111,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"8881ac1b-26a8-4a24-9685-3c02571d0956","parentUUID":"15fe7f49-6376-41f2-b032-f304fba09883","isHook":false,"skipped":false},{"title":"post 2 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in react-intl unsupported timezone standard time post 2 should match","timedOut":null,"duration":140,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"485812b5-5836-41d4-ab84-a087b043019f","parentUUID":"15fe7f49-6376-41f2-b032-f304fba09883","isHook":false,"skipped":false},{"title":"post 3 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in react-intl unsupported timezone standard time post 3 should match","timedOut":null,"duration":135,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 12-hour format\nsetTo24HourTimeFormat(false); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 12-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.standard);","err":{},"uuid":"a58b08e8-c5ee-4fb6-8455-1c0b12a04ca8","parentUUID":"15fe7f49-6376-41f2-b032-f304fba09883","isHook":false,"skipped":false}],"suites":[],"passes":["41a32368-70f0-4003-996f-84fabd54aefc","8881ac1b-26a8-4a24-9685-3c02571d0956","485812b5-5836-41d4-ab84-a087b043019f","a58b08e8-c5ee-4fb6-8455-1c0b12a04ca8"],"failures":[],"pending":[],"skipped":[],"duration":608,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"fb580e59-f54b-48c8-8a53-42c7ad9f081f","title":"military time","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"post 0 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in react-intl unsupported timezone military time post 0 should match","timedOut":null,"duration":140,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"a32a752b-0196-485a-a8d2-a8d9cc5fcc11","parentUUID":"fb580e59-f54b-48c8-8a53-42c7ad9f081f","isHook":false,"skipped":false},{"title":"post 1 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in react-intl unsupported timezone military time post 1 should match","timedOut":null,"duration":162,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"a2912545-8c5e-4eba-8baf-afae8b90e6d1","parentUUID":"fb580e59-f54b-48c8-8a53-42c7ad9f081f","isHook":false,"skipped":false},{"title":"post 2 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in react-intl unsupported timezone military time post 2 should match","timedOut":null,"duration":160,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"f2e90e6b-7916-4888-b2bb-23cf483e81d6","parentUUID":"fb580e59-f54b-48c8-8a53-42c7ad9f081f","isHook":false,"skipped":false},{"title":"post 3 should match","fullTitle":"Messaging MM-21342 Post time should render correct format and locale in react-intl unsupported timezone military time post 3 should match","timedOut":null,"duration":161,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change user preference to 24-hour format\nsetTo24HourTimeFormat(true); // # Set user locale and timezone\nsetLocaleAndTimezone(testCase.locale, testCase.manualTimezone); // # Increase viewport to ensure channel intro remains in view.\ncy.viewport(1300, 800); // * Verify that the channel is loaded correctly based on locale\ncy.findByText(testCase.channelIntro).should('be.visible'); // * Verify that the local time of each post is rendered in 24-hour format based on locale\ncy.findAllByTestId('postView').eq(index).find('.post__time', {\n  timeout: 500\n}).should('have.text', localTime.military);","err":{},"uuid":"50cc012e-3073-4394-bdf4-abad5898fec5","parentUUID":"fb580e59-f54b-48c8-8a53-42c7ad9f081f","isHook":false,"skipped":false}],"suites":[],"passes":["a32a752b-0196-485a-a8d2-a8d9cc5fcc11","a2912545-8c5e-4eba-8baf-afae8b90e6d1","f2e90e6b-7916-4888-b2bb-23cf483e81d6","50cc012e-3073-4394-bdf4-abad5898fec5"],"failures":[],"pending":[],"skipped":[],"duration":623,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b40b70da-e2b4-4547-bb02-33c28dd7bbbc","title":"","fullFile":"cypress/integration/messaging/long_draft_spec.js","file":"cypress/integration/messaging/long_draft_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"1f9a55fd-7ff8-4e74-a8ee-a99b9861eee4","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18699-Leave a long draft in the main input box","fullTitle":"Messaging M18699-Leave a long draft in the main input box","timedOut":null,"duration":15089,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/long_draft_spec.js/Messaging -- M18699-Leave a long draft in the main input box (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/long_draft_spec.js/Messaging -- M18699-Leave a long draft in the main input box (failed).png\"\n}","code":"var lines = ['Lorem ipsum dolor sit amet,', 'consectetur adipiscing elit.', 'Nulla ac consectetur quam.', 'Phasellus libero lorem,', 'facilisis in purus sed, auctor.'];\ncy.visit('/ad-1/channels/town-square'); // # Get the height before starting to write\ncy.get('#post_textbox').should('be.visible').clear().then(function (post) {\n  cy.wrap(parseInt(post[0].clientHeight, 10)).as('initialHeight').as('previousHeight');\n}); // # Post first line to use\ncy.get('#post_textbox').type(lines[0]); // # For each line\nfor (var i = 1; i < lines.length; i++) {\n  // # Post the line\n  cy.get('#post_textbox').type('{shift}{enter}').type(lines[i]);\n  cy.get('#post_textbox').invoke('attr', 'height').then(function (height) {\n    // * Previous height should be lower than the current heigh\n    cy.get('@previousHeight').should('be.lessThan', parseInt(height, 10)); // # Store the current height as the previous height for the next loop\n    cy.wrap(parseInt(height, 10)).as('previousHeight');\n  });\n} // # Visit a different channel and verify textbox\n\ncy.get('#sidebarItem_off-topic').click({\n  force: true\n});\nverifyPostTextbox('@initialHeight', ''); // # Return to the channel and verify textbox\ncy.get('#sidebarItem_town-square').click({\n  force: true\n});\nverifyPostTextbox('@previousHeight', lines.join('\\n')); // # Clear the textbox\ncy.get('#post_textbox').clear(); // # Write again all lines\ncy.get('#post_textbox').type(lines[0]);\nfor (var _i = 1; _i < lines.length; _i++) {\n  cy.get('#post_textbox').type('{shift}{enter}').type(lines[_i]);\n} // # Visit a different channel by URL and verify textbox\n\ncy.visit('/ad-1/channels/off-topic');\nverifyPostTextbox('@initialHeight', ''); // # Return to the channel by URL and verify textbox\ncy.visit('/ad-1/channels/town-square');\nverifyPostTextbox('@previousHeight', lines.join('\\n'));","err":{"message":"AssertionError: expected 122 to equal 124","estack":"AssertionError: expected 122 to equal 124\n    at getRet (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136585:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Function.Promise.attempt.Promise.try (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:164690:29)\n    at Context.thenFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136599:23)\n    at Context.then (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136971:21)\n    at Context.<anonymous> (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148875:21)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148351:33\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromiseCtx (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165445:10)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162145:12)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":"- 122\n+ 124\n"},"uuid":"938c43c8-311f-4614-9384-88bf5c660ea3","parentUUID":"1f9a55fd-7ff8-4e74-a8ee-a99b9861eee4","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["938c43c8-311f-4614-9384-88bf5c660ea3"],"pending":[],"skipped":[],"duration":15089,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"f9bd1742-a8a8-4c1e-bc7a-c796a14512b3","title":"","fullFile":"cypress/integration/messaging/long_post_attachments_spec.js","file":"cypress/integration/messaging/long_post_attachments_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"42329bc2-5286-4a27-8c30-504930027976","title":"M14322 Long post with multiple attachments","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Attachment previews/thumbnails display as expected, when viewing full or partial post","fullTitle":"M14322 Long post with multiple attachments Attachment previews/thumbnails display as expected, when viewing full or partial post","timedOut":null,"duration":3612,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post attachments\npostAttachments(); // * Verify show more button\ncy.get('#showMoreButton').scrollIntoView().should('be.visible').and('have.text', 'Show more'); // * Verify gradient\ncy.get('#collapseGradient').should('be.visible'); // * Verify the total 4 attached items are present\ncy.getLastPostId().then(function (postID) {\n  cy.get(\"#\".concat(postID, \"_message\")).findByTestId('fileAttachmentList').children().should('have.length', '4'); // * Verify the preview attachment are present\n  (0, _toConsumableArray2[\"default\"])(Array(4)).forEach(function (value, index) {\n    cy.get(\"#\".concat(postID, \"_message\")).findByTestId('fileAttachmentList').children().eq(index).find('.post-image__name').contains('small-image.png').should('exist');\n  });\n});","err":{},"uuid":"96675a98-5cec-4dd9-b20e-119e1c58d356","parentUUID":"42329bc2-5286-4a27-8c30-504930027976","isHook":false,"skipped":false},{"title":"Can click one of the attachments and cycle through the multiple attachment previews as usual","fullTitle":"M14322 Long post with multiple attachments Can click one of the attachments and cycle through the multiple attachment previews as usual","timedOut":null,"duration":3396,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post attachments\npostAttachments(); // * Verify the attached items can be cycled through\ncy.getLastPostId().then(function (postID) {\n  cy.get(\"#\".concat(postID, \"_message\")).findByTestId('fileAttachmentList').children().first().click(); // * Verify image preview must be visible\n  cy.findByTestId('imagePreview').should('be.visible'); // * Verify the footer with the count of the fileexists\n  cy.findByTestId('fileCountFooter').should('be.visible').contains('File 1 of 4').should('exist');\n  for (var index = 2; index <= 4; index++) {\n    // # click on right arrow to preview next attached image\n    cy.get('#previewArrowRight').should('be.visible').click(); // * Verify the footer counter\n    cy.findByTestId('fileCountFooter').contains(\"File \".concat(index, \" of 4\")).should('exist');\n  } // # click on close the preview\n\n  cy.get('.modal-close').should('be.visible').click();\n});","err":{},"uuid":"5e525fc0-24be-4780-bf7d-bc4dd97319a3","parentUUID":"42329bc2-5286-4a27-8c30-504930027976","isHook":false,"skipped":false}],"suites":[],"passes":["96675a98-5cec-4dd9-b20e-119e1c58d356","5e525fc0-24be-4780-bf7d-bc4dd97319a3"],"failures":[],"pending":[],"skipped":[],"duration":7008,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"6c1d48ad-d312-4d08-a74d-b7edf25484e7","title":"","fullFile":"cypress/integration/messaging/markdown_preview_inline_image_spec.js","file":"cypress/integration/messaging/markdown_preview_inline_image_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"38a1e6e9-3ada-4c53-bf7a-67bd7494d7fd","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18714-Markdown preview: inline image","fullTitle":"Messaging M18714-Markdown preview: inline image","timedOut":null,"duration":6908,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var message = '![make it so](https://i.stack.imgur.com/MNeE7.jpg)';\ncy.visit('/ad-1/channels/town-square'); // # Get the height before starting to write\ncy.get('#post_textbox').should('be.visible').clear().then(function () {\n  cy.get('#post-create').then(function (postArea) {\n    cy.wrap(parseInt(postArea[0].clientHeight, 10)).as('initialHeight');\n  });\n}); // # Post first line to use\ncy.get('#post_textbox').type(message).type('{shift}{enter}').type(message); // # Click on Preview button\ncy.get('#previewLink').click({\n  force: true\n});\ncy.get('#post-list').then(function (postList) {\n  cy.get('#create_post').within(function () {\n    cy.get('.markdown-inline-img').then(function (img) {\n      // * Images do not overlap Post List\n      expect(postList[0].getBoundingClientRect().bottom).lessThan(img[0].getBoundingClientRect().top);\n      expect(postList[0].getBoundingClientRect().bottom).lessThan(img[1].getBoundingClientRect().top); // * Images do not overlap among themselves\n      expect(img[0].getBoundingClientRect().bottom <= img[1].getBoundingClientRect().top).equals(true);\n    });\n  });\n}); // * Post Create area should be higher than before\ncy.get('#post-create').then(function (postArea) {\n  cy.get('@initialHeight').should('be.lessThan', parseInt(postArea[0].clientHeight, 10));\n});","err":{},"uuid":"35385f67-38f4-43fc-8090-4df4e4a73ced","parentUUID":"38a1e6e9-3ada-4c53-bf7a-67bd7494d7fd","isHook":false,"skipped":false}],"suites":[],"passes":["35385f67-38f4-43fc-8090-4df4e4a73ced"],"failures":[],"pending":[],"skipped":[],"duration":6908,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"75ba2e41-93b7-4b6a-8e31-8ac319633840","title":"","fullFile":"cypress/integration/messaging/markdown_quotation_paragraphs_spec.js","file":"cypress/integration/messaging/markdown_quotation_paragraphs_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"a1fc62b9-a494-4aeb-9100-4d15c0200d82","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18703-Markdown quotation paragraphs","fullTitle":"Messaging M18703-Markdown quotation paragraphs","timedOut":null,"duration":6663,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var messageParts = ['this is', 'really', 'three quote lines'];\ncy.visit('/ad-1/channels/town-square'); // # Post message to use\ncy.get('#post_textbox').clear().type('>' + messageParts[0]).type('{shift}{enter}{enter}');\ncy.get('#post_textbox').type('>' + messageParts[1]).type('{shift}{enter}{enter}');\ncy.get('#post_textbox').type('>' + messageParts[2]).type('{enter}');\nvar firstPartLeft;\ncy.getLastPostId().then(function (postId) {\n  // * There is only one blockquote, and therefore only one Quote icon\n  cy.get(\"#postMessageText_\".concat(postId, \" > blockquote\")).should('have.length', 1); // * There are three distinct paragraphs, and therefore the three of them are separated by a space\n  cy.get(\"#postMessageText_\".concat(postId, \" > blockquote > p\")).should('have.length', 3);\n  cy.get(\"#postMessageText_\".concat(postId, \" > blockquote > p\")).each(function (el, i) {\n    // * Each paragraph contains the content we put on the message\n    expect(messageParts[i]).equals(el.html()); // # We save the alignment of the first paragraph\n    if (i === 0) {\n      firstPartLeft = el[0].getBoundingClientRect().left;\n    } // * All paragraph are aligned on their left border\n\n    expect(firstPartLeft).equals(el[0].getBoundingClientRect().left);\n  });\n});","err":{},"uuid":"81fae0c0-527b-4e18-a5b9-8a0fea7a6ac3","parentUUID":"a1fc62b9-a494-4aeb-9100-4d15c0200d82","isHook":false,"skipped":false}],"suites":[],"passes":["81fae0c0-527b-4e18-a5b9-8a0fea7a6ac3"],"failures":[],"pending":[],"skipped":[],"duration":6663,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c58dbaba-2392-4f0b-ab99-95cd08d5a810","title":"","fullFile":"cypress/integration/messaging/mention_autocomplete_overlap_spec.js","file":"cypress/integration/messaging/mention_autocomplete_overlap_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"d80de5eb-7e7e-4a4e-b021-e4799fd6865e","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18667-At-mention user autocomplete does not overlap with channel header when drafting a long message containing a file attachment (standard viewport)","fullTitle":"Messaging M18667-At-mention user autocomplete does not overlap with channel header when drafting a long message containing a file attachment (standard viewport)","timedOut":null,"duration":4976,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Upload file, add message, add mention, verify no overlap\naddAutocompleteThenVerifyNoOverlap();","err":{},"uuid":"968c91c8-507b-49f2-937c-97d0b2145b3a","parentUUID":"d80de5eb-7e7e-4a4e-b021-e4799fd6865e","isHook":false,"skipped":false},{"title":"M18667-At-mention user autocomplete does not overlap with channel header when drafting a long message containing a file attachment (1280x900 viewport)","fullTitle":"Messaging M18667-At-mention user autocomplete does not overlap with channel header when drafting a long message containing a file attachment (1280x900 viewport)","timedOut":null,"duration":2106,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Set to different viewport\ncy.viewport(1280, 900); // # Upload file, add message, add mention, verify no overlap\naddAutocompleteThenVerifyNoOverlap();","err":{},"uuid":"e7a41ea7-b015-4474-acc7-3c4534f4faae","parentUUID":"d80de5eb-7e7e-4a4e-b021-e4799fd6865e","isHook":false,"skipped":false}],"suites":[],"passes":["968c91c8-507b-49f2-937c-97d0b2145b3a","e7a41ea7-b015-4474-acc7-3c4534f4faae"],"failures":[],"pending":[],"skipped":[],"duration":7082,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"ccec7f69-8fbe-4090-9923-7bd99df71936","title":"","fullFile":"cypress/integration/messaging/message_bullets_spec.js","file":"cypress/integration/messaging/message_bullets_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"40c83a54-ea02-4d0c-a16e-8dc195e4d45b","title":"Message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M13326 Text in bullet points is the same size as text above and below it","fullTitle":"Message M13326 Text in bullet points is the same size as text above and below it","timedOut":null,"duration":7482,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login and navigate to the app\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.get('#post_textbox').clear().type('This is a normal sentence.').type('{shift}{enter}{enter}').type('1. this is point 1').type('{shift}{enter}').type(' - this is a bullet under 1').type('{shift}{enter}{enter}').type('This is more normal text.').type('{enter}'); // # Get last postId\ncy.getLastPostId().then(function (postId) {\n  var postMessageTextId = \"#postMessageText_\".concat(postId); //  * Verify text sizes\n  cy.get(postMessageTextId).within(function () {\n    var expectedSize = '13.5px';\n    cy.get('p').first().should('have.text', 'This is a normal sentence.').and('have.css', 'font-size', expectedSize);\n    cy.get('ol li').first().should('have.text', 'this is point 1\\nthis is a bullet under 1').and('have.css', 'font-size', expectedSize);\n    cy.get('ol li ul li').should('have.text', 'this is a bullet under 1').and('have.css', 'font-size', expectedSize);\n    cy.get('p').last().should('have.text', 'This is more normal text.').and('have.css', 'font-size', expectedSize);\n  });\n});","err":{},"uuid":"cd47d40f-d07d-4dcb-8818-a76f3a5b1913","parentUUID":"40c83a54-ea02-4d0c-a16e-8dc195e4d45b","isHook":false,"skipped":false}],"suites":[],"passes":["cd47d40f-d07d-4dcb-8818-a76f3a5b1913"],"failures":[],"pending":[],"skipped":[],"duration":7482,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"f5e5a83f-cd95-4874-9fb7-1948102fe7f8","title":"","fullFile":"cypress/integration/messaging/message_by_aeroplane_icon_spec.js","file":"cypress/integration/messaging/message_by_aeroplane_icon_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"ee8568e8-e99c-40b9-accb-495ce5bb47d7","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18677 - Clicking on airplane icon does not open file attachment modal but sends the message","fullTitle":"Messaging M18677 - Clicking on airplane icon does not open file attachment modal but sends the message","timedOut":null,"duration":5567,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # type some characters in the message box\nvar message = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ';\ncy.get('#post_textbox').clear().type(message); // # click send\ncy.get('.send-button').click(); // # check if message sent correctly\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#postMessageText_\".concat(postId)).should('be.visible').and('have.text', message);\n}); // # attachment modal does not show up\ncy.get('.a11y__popup').should('not.exist');","err":{},"uuid":"cdb58800-14d6-4f59-85c2-727ce68e809e","parentUUID":"ee8568e8-e99c-40b9-accb-495ce5bb47d7","isHook":false,"skipped":false}],"suites":[],"passes":["cdb58800-14d6-4f59-85c2-727ce68e809e"],"failures":[],"pending":[],"skipped":[],"duration":5567,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"6d379a82-37e7-4387-98fd-da460552c1ff","title":"","fullFile":"cypress/integration/messaging/message_channel_draw_spec.js","file":"cypress/integration/messaging/message_channel_draw_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"0c7a55fe-f26a-4f3b-b487-72b786986deb","title":"Draw plugin : Post message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M11759-Draw plugin : Post message check for Draw Plugin & My Computer events","fullTitle":"Draw plugin : Post message M11759-Draw plugin : Post message check for Draw Plugin & My Computer events","timedOut":null,"duration":19077,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"//Assertion 1 : Upload image via draw plugin and check Message doesn't post\n// # Open file upload options - Select draw plugin\ncy.get('#fileUploadButton').click();\ncy.get('#fileUploadOptions').findByText('Draw').click(); // * upload a file and verify drafted message still exist in textbox\ncy.get('canvas').trigger('pointerdown').trigger('pointerup').click();\ncy.findByText('Upload').should('be.visible').click();\ncy.get('#post_textbox').should('be.visible').wait(TIMEOUTS.TINY).should('have.text', 'This check is for draw plugin'); //Assertion 2 :Cancel draw plugin upload and check Message doesn't post\n// # Open file upload options - Select draw plugin\ncy.get('#fileUploadButton').click();\ncy.get('#fileUploadOptions').findByText('Draw').click(); // * Cancel the file upload process and verify drafted message still exist in textbox\ncy.findByText('Cancel').should('be.visible').click();\ncy.get('#post_textbox').should('be.visible').wait(TIMEOUTS.TINY).should('have.text', 'This check is for draw plugin'); //Assertion 3 : click on Your Computer and check message doesn't post\n// # Open file upload options - Select your computer plugin\ncy.get('#fileUploadButton').click();\ncy.get('#fileUploadOptions').findByText('Your computer').click(); // * Click on my computer and verify drafted message still exist in textbox\ncy.get('#post_textbox').should('be.visible').wait(TIMEOUTS.TINY).should('have.text', 'This check is for draw plugin');","err":{},"uuid":"282631a8-17b6-4e0c-a642-69b357c110fe","parentUUID":"0c7a55fe-f26a-4f3b-b487-72b786986deb","isHook":false,"skipped":false}],"suites":[],"passes":["282631a8-17b6-4e0c-a642-69b357c110fe"],"failures":[],"pending":[],"skipped":[],"duration":19077,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"3f0b9b01-3749-4379-8d18-54fd16d72433","title":"","fullFile":"cypress/integration/messaging/message_channel_reference_spec.js","file":"cypress/integration/messaging/message_channel_reference_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"88d7c985-5fcd-48d2-89f6-eca32f2b7a4a","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18707 - Autocomplete should close if tildes are deleted using backspace","fullTitle":"Messaging M18707 - Autocomplete should close if tildes are deleted using backspace","timedOut":null,"duration":4946,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var msg = 'foo'; // # Make a post\ncy.postMessage(msg); // # Hit the \"up\" arrow to open the edit modal\ncy.get('#post_textbox').type('{uparrow}'); // # Insert a tilde (~) at the beginning of the post to be edited\ncy.get('#edit_textbox').should('be.visible').wait(TIMEOUTS.TINY).type('{home}~'); // * autocomplete opens\ncy.get('#suggestionList').should('be.visible'); // # Delete the tilde by backspacing\ncy.get('#edit_textbox').type('{home}{rightarrow}{backspace}'); // * autocomplete closes\ncy.get('#suggestionList').should('not.be.visible'); // close the edit modal\ncy.get('#editButton').click();","err":{},"uuid":"31ffc486-6c9d-4a12-8b3f-d2e1c9aec151","parentUUID":"88d7c985-5fcd-48d2-89f6-eca32f2b7a4a","isHook":false,"skipped":false}],"suites":[],"passes":["31ffc486-6c9d-4a12-8b3f-d2e1c9aec151"],"failures":[],"pending":[],"skipped":[],"duration":4946,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"e0a65b6f-4f11-4564-8d7d-025c6b697384","title":"","fullFile":"cypress/integration/messaging/message_deleted_on_reply_spec.js","file":"cypress/integration/messaging/message_deleted_on_reply_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"97838272-6851-446c-b22e-fd10ffbfa0ed","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18693-Delete a Message during reply, other user sees (message deleted)","fullTitle":"Messaging M18693-Delete a Message during reply, other user sees (message deleted)","timedOut":null,"duration":11664,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Type message to use\ncy.postMessageAs({\n  sender: sysadmin,\n  message: 'aaa',\n  channelId: townsquareChannelId\n}); // # Click Reply button\ncy.clickPostCommentIcon(); // # Write message on reply box\ncy.get('#reply_textbox').type('123'); // # Remove message from the other user\ncy.getLastPostId().as('postId').then(function (postId) {\n  cy.externalRequest({\n    user: sysadmin,\n    method: 'DELETE',\n    path: \"posts/\".concat(postId)\n  });\n}); // # Wait for the message to be deleted and hit enter\ncy.wait(TIMEOUTS.TINY);\ncy.get('#reply_textbox').type('{enter}'); // * Post Deleted Modal should be visible\ncy.findAllByTestId('postDeletedModal').should('be.visible'); // # Close the modal\ncy.findAllByTestId('postDeletedModalOkButton').click(); // * The message should not have been sent\ncy.get('#rhsPostList').should('be.empty'); // * Textbox should still have the draft message\ncy.get('#reply_textbox').should('contain', '123'); // # Try to post the message one more time pressing enter\ncy.get('#reply_textbox').type('{enter}'); // * The modal should have appeared again\ncy.findAllByTestId('postDeletedModal').should('be.visible'); // # Close the modal by hitting the OK button\ncy.findAllByTestId('postDeletedModalOkButton').click(); // * The message should not have been sent\ncy.get('#rhsPostList').should('be.empty'); // * Textbox should still have the draft message\ncy.get('#reply_textbox').should('contain', '123'); // # Change to the other user and go to Town Square\ncy.apiLogin('sysadmin');\ncy.visit('/ad-1/channels/town-square');\ncy.wait(TIMEOUTS.SMALL); // * Post should not exist\ncy.get('@postId').then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).should('not.exist');\n});","err":{},"uuid":"5c5ee9a4-fc71-4e84-b508-8bd54b23c5e7","parentUUID":"97838272-6851-446c-b22e-fd10ffbfa0ed","isHook":false,"skipped":false}],"suites":[],"passes":["5c5ee9a4-fc71-4e84-b508-8bd54b23c5e7"],"failures":[],"pending":[],"skipped":[],"duration":11664,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"be7fb708-c401-4ef5-9a7b-d85f92788b28","title":"","fullFile":"cypress/integration/messaging/message_deletion_spec.js","file":"cypress/integration/messaging/message_deletion_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"e5a32fe8-71d3-46b7-a09e-96f4684aa394","title":"Message deletion","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M13336 Delete both parent post and reply when deleting parent post from center","fullTitle":"Message deletion M13336 Delete both parent post and reply when deleting parent post from center","timedOut":null,"duration":10032,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post message in center.\ncy.postMessage('test message deletion');\ncy.getLastPostId().then(function (parentMessageId) {\n  // # Mouseover the post and click post comment icon.\n  cy.clickPostCommentIcon(); // * Check that the RHS is open\n  cy.get('#rhsContainer').should('be.visible'); // # Post a reply in RHS.\n  cy.postMessageReplyInRHS('test message reply in RHS {enter}');\n  cy.getLastPostId().then(function (replyMessageId) {\n    // # Click post dot menu in center.\n    cy.clickPostDotMenu(parentMessageId); // # Click delete button.\n    cy.get(\"#delete_post_\".concat(parentMessageId)).click(); // * Check that confirmation dialog is open.\n    cy.get('#deletePostModal').should('be.visible'); // * Check that confirmation dialog contains correct text\n    cy.get('#deletePostModal').should('have', 'Are you sure you want to delete this Post?'); // * Check that confirmation dialog shows that the post has one comment on it\n    cy.get('#deletePostModal').should('have', 'This post has 1 comment on it.'); // # Confirm deletion.\n    cy.get('#deletePostModalButton').click(); // * Check that the modal is closed\n    cy.get('#deletePostModal').should('not.be.visible'); // * Check that the RHS is closed.\n    cy.get('#rhsContainer').should('not.be.visible'); // * Check that parent message is no longer visible.\n    cy.get(\"#post_\".concat(parentMessageId)).should('not.be.visible'); // * Check that reply message is no longer visible.\n    cy.get(\"#post_\".concat(replyMessageId)).should('not.be.visible');\n  });\n  cy.getLastPostId().then(function (replyMessageId) {\n    // * Check that last message do not contain (message deleted)\n    cy.get(\"#post_\".concat(replyMessageId)).should('not.have', '(message deleted)');\n  });\n});","err":{},"uuid":"b275e44a-0113-4275-bf4b-77ae821bb447","parentUUID":"e5a32fe8-71d3-46b7-a09e-96f4684aa394","isHook":false,"skipped":false}],"suites":[],"passes":["b275e44a-0113-4275-bf4b-77ae821bb447"],"failures":[],"pending":[],"skipped":[],"duration":10032,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"e24edc8e-5280-4e04-93e8-77cf80fc87e5","title":"","fullFile":"cypress/integration/messaging/message_draft_spec.js","file":"cypress/integration/messaging/message_draft_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"9c041681-e1f6-4f29-8b75-732e98f10714","title":"Message Draft","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M13473 Message Draft - Pencil Icon","fullTitle":"Message Draft M13473 Message Draft - Pencil Icon","timedOut":null,"duration":3549,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Got to a test channel on the side bar\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // * Validate if the channel has been opened\ncy.url().should('include', \"/\".concat(testTeam.name, \"/channels/town-square\")); // * Validate if the draft icon is not visible on the sidebar before making a draft\ncy.get('#publicChannel').scrollIntoView();\ncy.get('#sidebarItem_town-square #draftIcon').should('be.not.visible'); // # Type in some text into the text area of the opened channel\ncy.get('#post_textbox').type('comm'); // # Go to another test channel without submitting the draft in the previous channel\ncy.get('#sidebarItem_off-topic').click({\n  force: true\n}); // * Validate if the newly navigated channel is open\ncy.url().should('include', \"/\".concat(testTeam.name, \"/channels/off-topic\")); // * Validate if the draft icon is visible on side bar on the previous channel with a draft\ncy.get('#sidebarItem_town-square #draftIcon').should('be.visible');","err":{},"uuid":"b2b16f34-1eb0-4d3a-91ba-3c91b4b503c4","parentUUID":"9c041681-e1f6-4f29-8b75-732e98f10714","isHook":false,"skipped":false}],"suites":[],"passes":["b2b16f34-1eb0-4d3a-91ba-3c91b4b503c4"],"failures":[],"pending":[],"skipped":[],"duration":3549,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"cc896ac5-558f-4f2d-8cd5-d73e04b7a35c","title":"","fullFile":"cypress/integration/messaging/message_draft_then_switch_channel_spec.js","file":"cypress/integration/messaging/message_draft_then_switch_channel_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"eaed12a5-af26-4906-a836-366d6eda7fde","title":"Message Draft and Switch Channels","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M14358 Message Draft Pencil Icon Visible in Channel Switcher","fullTitle":"Message Draft and Switch Channels M14358 Message Draft Pencil Icon Visible in Channel Switcher","timedOut":null,"duration":25201,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/message_draft_then_switch_channel_spec.js/Message Draft and Switch Channels -- M14358 Message Draft Pencil Icon Visible in Channel Switcher (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/message_draft_then_switch_channel_spec.js/Message Draft and Switch Channels -- M14358 Message Draft Pencil Icon Visible in Channel Switcher (failed).png\"\n}","code":"// # In a test channel, type some text in the message input box\n// # Do not send the post\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // * Validate if the channel has been opened\ncy.url().should('include', \"/\".concat(testTeam.name, \"/channels/town-square\")); // * Validate if the draft icon is not visible on the sidebar before making a draft\ncy.get('#publicChannel').scrollIntoView();\ncy.get('#sidebarItem_town-square #draftIcon').should('be.not.visible'); // Type in some text into the text area of the opened channel\ncy.get('#post_textbox').type('message draft test'); // # Switch to another channel\ncy.get('#sidebarItem_off-topic').click({\n  force: true\n}); // * Validate if the newly navigated channel is open\ncy.url().should('include', \"/\".concat(testTeam.name, \"/channels/off-topic\")); // # Press CTRL/CMD+K\ncy.typeCmdOrCtrl().type('K', {\n  release: true\n}); // * Click on hint in modal to get out of overlapping suggestion list\ncy.get('#quickSwitchHint').click(); // # Type the first few letters of the channel name you typed the message draft in\ncy.get('#quickSwitchInput').type('tow');\ncy.wait(TIMEOUTS.TINY); // * Suggestion list should be visible\ncy.get('#suggestionList').should('be.visible'); // * Validate if the draft icon is visible to left of the channel name in the filtered list\ncy.get('#publicChannel').scrollIntoView();\ncy.get('#switchChannel_town-square #draftIcon').should('be.visible'); // * Escape channel switcher and reset post textbox for test channel\ncy.get('.close').click();\ncy.clearPostTextbox('town-square');","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#switchChannel_town-square #draftIcon', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#switchChannel_town-square #draftIcon', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"432a0e5b-955d-45e0-932b-f49558fb8a88","parentUUID":"eaed12a5-af26-4906-a836-366d6eda7fde","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["432a0e5b-955d-45e0-932b-f49558fb8a88"],"pending":[],"skipped":[],"duration":25201,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"6334e340-f033-4da9-94a0-073e41f8581b","title":"","fullFile":"cypress/integration/messaging/message_draft_with_attachment_then_switch_channel_spec.js","file":"cypress/integration/messaging/message_draft_with_attachment_then_switch_channel_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"26e049d0-4a46-4eab-9fff-0cab9033946b","title":"Message Draft with attachment and Switch Channels","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M14126 Message Draft Pencil Icon - No text, only file attachment","fullTitle":"Message Draft with attachment and Switch Channels M14126 Message Draft Pencil Icon - No text, only file attachment","timedOut":null,"duration":3782,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create new test channel\ncy.getCurrentTeamId().then(function (teamId) {\n  cy.apiCreateChannel(teamId, channelName1, channelName1, 'O', 'Test channel').then(function (response) {\n    testChannel1 = response.body;\n    cy.get(\"#sidebarItem_\".concat(testChannel1.name)).click({\n      force: true\n    }); // # Validate if the channel has been opened\n    cy.url().should('include', '/channels/' + testChannel1.name); // # Validate if the draft icon is not visible on the sidebar before making a draft\n    cy.get(\"#sidebarItem_\".concat(testChannel1.name, \" #draftIcon\")).should('be.not.visible'); // # Upload a file on center view\n    cy.fileUpload('#fileUploadInput');\n  });\n  cy.apiCreateChannel(teamId, channelName2, channelName2, 'O', 'Test channel').then(function (response) {\n    testChannel2 = response.body; // # Go to test channel without submitting the draft in the previous channel\n    cy.get(\"#sidebarItem_\".concat(testChannel2.name)).click({\n      force: true\n    }); // # Validate if the newly navigated channel is open\n    cy.url().should('include', '/channels/' + testChannel2.name); // # Validate if the draft icon is visible in side bar for the previous channel\n    cy.get(\"#sidebarItem_\".concat(testChannel1.name, \" #draftIcon\")).scrollIntoView().should('be.visible');\n  });\n});","err":{},"uuid":"8f5e0925-9acb-44f0-90c2-f7ce824533c3","parentUUID":"26e049d0-4a46-4eab-9fff-0cab9033946b","isHook":false,"skipped":false}],"suites":[],"passes":["8f5e0925-9acb-44f0-90c2-f7ce824533c3"],"failures":[],"pending":[],"skipped":[],"duration":3782,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"bb2eb612-eebf-41f4-83d6-392580001175","title":"","fullFile":"cypress/integration/messaging/message_edit_post_with_attachment_spec.js","file":"cypress/integration/messaging/message_edit_post_with_attachment_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"acea19ec-a3f6-4590-9a20-3e7c438040a6","title":"MM-13697 Edit Post with attachment","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Pasted text should be pasted where the cursor is","fullTitle":"MM-13697 Edit Post with attachment Pasted text should be pasted where the cursor is","timedOut":null,"duration":6861,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Got to a test channel on the side bar\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // * Validate if the channel has been opened\ncy.url().should('include', '/ad-1/channels/town-square'); // # Upload a file on center view\ncy.fileUpload('#fileUploadInput'); // # Type 'This is sample text' and submit\ncy.postMessage('This is sample text'); // # Get last post ID\ncy.getLastPostId().then(function (postID) {\n  // # click  dot menu button\n  cy.clickPostDotMenu(); // # click edit post\n  cy.get(\"#edit_post_\".concat(postID)).click(); // # Edit message to 'This is sample add text'\n  cy.get('#edit_textbox').should('be.visible').and('be.focused').wait(TIMEOUTS.TINY).type('{leftarrow}{leftarrow}{leftarrow}{leftarrow}').type('add '); // # Click button Edit\n  cy.get('#editButton').click(); // * Assert post message should contain 'This is sample add text'\n  cy.get(\"#postMessageText_\".concat(postID)).should('have.text', 'This is sample add text');\n  cy.get(\"#\".concat(postID, \"_message\")).within(function () {\n    // * Assert file attachment should still exist\n    cy.get('.file-view--single').should('be.visible');\n  });\n});","err":{},"uuid":"1e5e96d3-c230-4c68-b546-d096071fa0c1","parentUUID":"acea19ec-a3f6-4590-9a20-3e7c438040a6","isHook":false,"skipped":false}],"suites":[],"passes":["1e5e96d3-c230-4c68-b546-d096071fa0c1"],"failures":[],"pending":[],"skipped":[],"duration":6861,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"7c3fe5f6-1ca6-4c39-8101-b22c1cbf6f74","title":"","fullFile":"cypress/integration/messaging/message_emoji_jumbo_spec.js","file":"cypress/integration/messaging/message_emoji_jumbo_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"7ee43258-f159-4e3f-8e04-3431925df084","title":"Message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M15011 - Emojis show as jumbo in reply thread","fullTitle":"Message M15011 - Emojis show as jumbo in reply thread","timedOut":null,"duration":12389,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login and navigate to the app\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square'); // # Post a message\nvar messageText = 'This is a test message';\ncy.postMessage(messageText); // # Get Last Post ID\ncy.getLastPostId().then(function (postId) {\n  // # Mouseover the post and click post comment icon.\n  cy.clickPostCommentIcon(postId);\n  testCases.forEach(function (testCase) {\n    // # Post a reply\n    cy.postMessageReplyInRHS(testCase.message); // * Verify the size of the emoji\n    verifyLastPostStyle(testCase.emojiSize);\n  });\n});","err":{},"uuid":"4f8ea1ce-f662-4aed-a6ac-c34db5ccc7c9","parentUUID":"7ee43258-f159-4e3f-8e04-3431925df084","isHook":false,"skipped":false}],"suites":[],"passes":["4f8ea1ce-f662-4aed-a6ac-c34db5ccc7c9"],"failures":[],"pending":[],"skipped":[],"duration":12389,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"1422c375-9cc3-4f8e-b7ff-bdb7b3b38ac7","title":"","fullFile":"cypress/integration/messaging/message_in_another_language_spec.js","file":"cypress/integration/messaging/message_in_another_language_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"4bfbc790-e9ee-4a52-bdda-e72da6811cd1","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M17456 - Message in another language should be displayed properly","fullTitle":"Messaging M17456 - Message in another language should be displayed properly","timedOut":null,"duration":6284,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var msg = '안녕하세요';\nvar msg2 = '닥터 카레브'; // # Make a post\ncy.postMessage(msg); // * Check that last message do contain right message\ncy.getLastPost().should('have', msg); // # Mouseover the post and click post comment icon.\ncy.clickPostCommentIcon(); // # Post a reply in RHS.\ncy.postMessageReplyInRHS(msg2); // * Check that last message do contain right message\ncy.getLastPost().should('have', msg2);","err":{},"uuid":"4c32779b-d448-47b9-81db-e444b89dffab","parentUUID":"4bfbc790-e9ee-4a52-bdda-e72da6811cd1","isHook":false,"skipped":false}],"suites":[],"passes":["4c32779b-d448-47b9-81db-e444b89dffab"],"failures":[],"pending":[],"skipped":[],"duration":6284,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"4a04c77f-8212-4c47-af68-6c551c354063","title":"","fullFile":"cypress/integration/messaging/message_parse_spec.js","file":"cypress/integration/messaging/message_parse_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"9e11c2b1-d597-4181-a486-f8cab7fb49a6","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M17444 - correctly parses \"://///\" as Markdown and does not break the channel","fullTitle":"Messaging M17444 - correctly parses \"://///\" as Markdown and does not break the channel","timedOut":null,"duration":6033,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to Town Square as test channel\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Validate if the channel has been opened\ncy.url().should('include', '/channels/town-square'); // # type in the message \"://///\"\nvar message = '://///';\nvar textAfterParsed = message.substr(2);\ncy.postMessage(message); // # check if message sent correctly, it should parse it as 😕////\"\ncy.getLastPostId().then(function (postId) {\n  verifyPostedMessage(postId, textAfterParsed); // # check if message still correctly parses after reload\n  cy.reload();\n  verifyPostedMessage(postId, textAfterParsed);\n});","err":{},"uuid":"2b68a4ee-846e-4824-8255-5fe69f1ca837","parentUUID":"9e11c2b1-d597-4181-a486-f8cab7fb49a6","isHook":false,"skipped":false}],"suites":[],"passes":["2b68a4ee-846e-4824-8255-5fe69f1ca837"],"failures":[],"pending":[],"skipped":[],"duration":6033,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"bf70ee6c-83e1-4fed-90b9-6e3d0e137b5d","title":"","fullFile":"cypress/integration/messaging/message_permalink_spec.js","file":"cypress/integration/messaging/message_permalink_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"2fe3ae26-e7cd-47cc-a74d-eda43797a126","title":"Message permalink","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M13675-Copy a permalink and paste into another channel","fullTitle":"Message permalink M13675-Copy a permalink and paste into another channel","timedOut":null,"duration":9450,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/message_permalink_spec.js/Message permalink -- M13675-Copy a permalink and paste into another channel (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/message_permalink_spec.js/Message permalink -- M13675-Copy a permalink and paste into another channel (failed).png\"\n}","code":"var message = 'Hello' + Date.now();\nvar channelName = 'test-message-channel-1';\nvar linkText;\nvar permalinkId; // # Create new DM channel with user's email\ncy.apiGetUsers(['user-1', 'sysadmin']).then(function (userResponse) {\n  var userEmailArray = [userResponse.body[1].id, userResponse.body[0].id];\n  cy.apiCreateDirectChannel(userEmailArray).then(function () {\n    cy.visit('/ad-1/messages/@sysadmin'); // # Post message to use\n    cy.postMessage(message);\n    cy.getLastPostId().then(function (postId) {\n      permalinkId = postId; // # Check if ... button is visible in last post right side\n      cy.get(\"#CENTER_button_\".concat(postId)).should('not.be.visible'); // # Click on ... button of last post\n      cy.clickPostDotMenu(postId); // # Click on permalink option\n      cy.get(\"#permalink_\".concat(postId)).should('be.visible').click().wait(TIMEOUTS.SMALL); // * Check clipboard contains permalink\n      cy.task('getClipboard').should('contain', \"/ad-1/pl/\".concat(postId)).then(function (text) {\n        linkText = text;\n      });\n    });\n  });\n}); // # Get current team id\ncy.getCurrentTeamId().then(function (teamId) {\n  // # create public channel to post permalink\n  cy.apiCreateChannel(teamId, channelName, channelName, 'O', 'Test channel').then(function (response) {\n    testChannel = response.body;\n    cy.apiSaveMessageDisplayPreference('compact');\n    verifyPermalink(message, testChannel, linkText, permalinkId);\n    cy.apiSaveMessageDisplayPreference('clean');\n    verifyPermalink(message, testChannel, linkText, permalinkId);\n  });\n});","err":{"message":"AssertionError: expected '' to include '/ad-1/pl/fdh3s41hxtn5pdpcq5b8c6rdoa'","estack":"AssertionError: expected '' to include '/ad-1/pl/fdh3s41hxtn5pdpcq5b8c6rdoa'\n    at applyChainer (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136206:32)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136243:16\n    at arrayReduce (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:13988:21)\n    at Function.reduce (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:22986:14)\n    at applyChainers (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136237:18)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Function.Promise.attempt.Promise.try (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:164690:29)\n    at Context.shouldFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136247:23)\n    at Context.should (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136262:23)\n    at Context.<anonymous> (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148875:21)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148351:33\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromiseCtx (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165445:10)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162145:12)","diff":null},"uuid":"94697a32-e36b-482d-8d5d-7f607cd2dff4","parentUUID":"2fe3ae26-e7cd-47cc-a74d-eda43797a126","isHook":false,"skipped":false},{"title":"Permalink highlight should fade after timeout and change to channel url","fullTitle":"Message permalink Permalink highlight should fade after timeout and change to channel url","timedOut":null,"duration":9808,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"ignoreUncaughtException();\nvar message = 'Hello' + Date.now(); // # Create new DM channel with user's email\ncy.apiGetUsers(['user-1', 'sysadmin']).then(function (userResponse) {\n  var userEmailArray = [userResponse.body[1].id, userResponse.body[0].id];\n  cy.apiCreateDirectChannel(userEmailArray).then(function () {\n    cy.visit('/ad-1/messages/@sysadmin'); // # Post message to use\n    cy.postMessage(message);\n    cy.getLastPostId().then(function (postId) {\n      cy.visit(\"/ad-1/messages/@sysadmin/\".concat(postId));\n      cy.url().should('include', \"/ad-1/messages/@sysadmin/\".concat(postId));\n      cy.get(\"#post_\".concat(postId)).should('have.class', 'post--highlight');\n      cy.clock();\n      cy.tick(6000);\n      cy.get(\"#post_\".concat(postId)).should('not.have.class', 'post--highlight');\n      cy.url().should('not.include', postId);\n    });\n  });\n});","err":{},"uuid":"096c7c87-315b-4a61-8e16-2e3a442821e1","parentUUID":"2fe3ae26-e7cd-47cc-a74d-eda43797a126","isHook":false,"skipped":false}],"suites":[],"passes":["096c7c87-315b-4a61-8e16-2e3a442821e1"],"failures":["94697a32-e36b-482d-8d5d-7f607cd2dff4"],"pending":[],"skipped":[],"duration":19258,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c9484c82-0a3a-41c7-a10d-856844ede22d","title":"","fullFile":"cypress/integration/messaging/message_pinning_unpinning_spec.js","file":"cypress/integration/messaging/message_pinning_unpinning_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"a8bf526b-0d41-473e-afb1-faf487fd74b8","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M15010 Pinning or un-pinning older post does not cause it to display at bottom of channel","fullTitle":"Messaging M15010 Pinning or un-pinning older post does not cause it to display at bottom of channel","timedOut":null,"duration":12050,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Ensure that the channel view is loaded\ncy.get('#post_textbox').should('be.visible'); // # Post messages\nvar olderPost = 7;\nfor (var i = olderPost; i > 0; --i) {\n  cy.postMessage(i);\n} // # Ensure there are a couple of pinned posts in the channel already:\n// # Pin 4th and 6th posts from latest\n\npinPost(-4);\npinPost(-6); // # Click on Pinned Posts channel header button\ncy.get('#channelHeaderPinButton').click(); // * Verify the pinned posts (4 & 6) are added to the Pinned Posts list on the right hand side\ncy.get('#search-items-container').children().should('have.length', 2); // # Close out of the Pinned Post side bar\ncy.get('#searchResultsCloseButton').click(); // # Get last post (7th)\ncy.getNthPostId(-olderPost).then(function (postId) {\n  // # Scroll into view\n  cy.get(\"#post_\".concat(postId)).scrollIntoView(); // # Click [...] > Pin to channel\n  pinPost(-olderPost); // # Store the post message of the 20th post as pinnedPostText\n  cy.get(\"#postMessageText_\".concat(postId)).invoke('text').then(function (pinnedPostText) {\n    // # Store the last post ID as lastPostId\n    cy.getLastPostId().then(function (lastPostId) {\n      // # Scroll down to the last post\n      cy.get(\"#post_\".concat(lastPostId)).scrollIntoView(); // * Verify that message just pinned does not display at bottom in center channel as newest in channel\n      cy.get(\"#postMessageText_\".concat(lastPostId)).should('not.contain', pinnedPostText); // # Click pin icon to view pinned posts in right-hand-side\n      cy.get('#channelHeaderPinButton').click(); // * Verify that there are now 3 pinned messages in the right-hand-side\n      cy.get('#search-items-container').children().should('have.length', 3); // * Verify sorted by newest at top: 1st post is the newest, and 3rd post is the oldest\n      cy.get('#search-items-container').children().eq(0).get(\"#postMessageText_\".concat(lastPostId));\n      cy.get('#search-items-container').children().eq(2).get(\"#postMessageText_\".concat(postId)).and('contain', pinnedPostText); // # Scroll back up to the last pinned post.\n      cy.get(\"#post_\".concat(postId)).scrollIntoView(); // * When un-pinned in center, post disappears from pinned posts list in right-hand-side:\n      // # Click [...] > Un-pin from channel\n      cy.clickPostDotMenu(postId);\n      cy.get(\"#unpin_post_\".concat(postId)).click(); // * Right-hand-side only has 2 initially pinned posts\n      cy.get('#search-items-container').children().should('have.length', 2); // * Right-hand-side does not have the last pinned post.\n      cy.get('#search-items-container').children().should('not.contain', \"#rhsPostMessageText_\".concat(postId));\n    });\n  });\n});","err":{},"uuid":"85eacb48-c4be-4dd1-8f27-683027ee475b","parentUUID":"a8bf526b-0d41-473e-afb1-faf487fd74b8","isHook":false,"skipped":false}],"suites":[],"passes":["85eacb48-c4be-4dd1-8f27-683027ee475b"],"failures":[],"pending":[],"skipped":[],"duration":12050,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2b7a63e8-c81d-46d4-b52a-3ba9c4d748e3","title":"","fullFile":"cypress/integration/messaging/message_reaction_spec.js","file":"cypress/integration/messaging/message_reaction_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"a649b07a-4177-4df9-9974-0dfc58cabd55","title":"Click another user's emoji reaction to add it","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M15113 - Click another user's emoji reaction to add it","fullTitle":"Click another user's emoji reaction to add it M15113 - Click another user's emoji reaction to add it","timedOut":null,"duration":31617,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/message_reaction_spec.js/Click another user's emoji reaction to add it -- M15113 - Click another user's emoji reaction to add it (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/message_reaction_spec.js/Click another user's emoji reaction to add it -- M15113 - Click another user's emoji reaction to add it (failed).png\"\n}","code":"// # Login as \"user-1\" and go to /\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.postMessage('test'); // # Logout\ncy.apiLogout(); // # Login as \"user-2\" and go to /\nvar user2 = _users[\"default\"]['user-2'];\ncy.apiLogin(user2.username, user2.password);\ncy.visit('/ad-1/channels/town-square'); // # Mouseover the last post\ncy.getLastPost().trigger('mouseover');\ncy.getLastPostId().then(function (postId) {\n  // # Click the add reaction icon\n  cy.clickPostReactionIcon(postId); // # Choose \"slightly_frowning_face\" emoji\n  cy.get('#emoji-1f641').click(); // * The number shown on the reaction is incremented by 1\n  cy.get(\"#postReaction-\".concat(postId, \"-slightly_frowning_face .post-reaction__count\")).should('have.text', '1');\n}); // # Logout\ncy.apiLogout(); // # Login as \"user-1\" and go to /\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square');\ncy.getLastPostId().then(function (postId) {\n  // # Click on the \"slightly_frowning_face\" emoji of the last post and the background color changes\n  cy.get(\"#postReaction-\".concat(postId, \"-slightly_frowning_face\")).should('be.visible').click().should('have.css', 'background-color').and('eq', 'rgba(35, 137, 215, 0.1)'); // * The number shown on the \"slightly_frowning_face\" reaction is incremented by 1\n  cy.get(\"#postReaction-\".concat(postId, \"-slightly_frowning_face .post-reaction__count\")).should('have.text', '2'); // # Click on the + icon\n  cy.get(\"#addReaction-\".concat(postId)).click({\n    force: true\n  }); // * The reaction emoji picker is open\n  cy.get('#emojiPicker').should('be.visible'); // # Select the \"scream\" emoji\n  cy.get('#emoji-1f631').click(); // * The emoji picker is no longer open\n  cy.get('#emojiPicker').should('be.not.visible'); // * The \"scream\" emoji is added to the post\n  cy.get(\"#postReaction-\".concat(postId, \"-scream\")).should('be.visible'); // # Click on the \"slightly_frowning_face\" emoji\n  cy.get(\"#postReaction-\".concat(postId, \"-slightly_frowning_face .post-reaction__emoji\")).click(); // * The number shown on the \"slightly_frowning_face\" reaction  is decremented by 1\n  cy.get(\"#postReaction-\".concat(postId, \"-slightly_frowning_face .post-reaction__count\")).should('have.text', '1'); // # Click on the \"scream\" emoji\n  cy.get(\"#postReaction-\".concat(postId, \"-scream .post-reaction__emoji\")).click(); // * The \"scream\" emoji is removed\n  cy.get(\"#postReaction-\".concat(postId, \"-scream\")).should('be.not.visible');\n});","err":{"message":"CypressError: Timed out retrying: expected '<div#emojiPicker.a11y__popup.emoji-picker.emoji-picker--single>' not to be 'visible'","estack":"CypressError: Timed out retrying: expected '<div#emojiPicker.a11y__popup.emoji-picker.emoji-picker--single>' not to be 'visible'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"5bb99b4a-a3ea-40e2-9c58-7a11dfdd06a7","parentUUID":"a649b07a-4177-4df9-9974-0dfc58cabd55","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["5bb99b4a-a3ea-40e2-9c58-7a11dfdd06a7"],"pending":[],"skipped":[],"duration":31617,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c06fc1f5-9b45-4923-a311-fc955ee3c867","title":"","fullFile":"cypress/integration/messaging/message_reply_bot_post_spec.js","file":"cypress/integration/messaging/message_reply_bot_post_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"7dc66d90-2304-42ca-8a68-16d1e9642d49","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M16735 - Replying to an older bot post that has no post content and no attachment pretext","fullTitle":"Messaging M16735 - Replying to an older bot post that has no post content and no attachment pretext","timedOut":null,"duration":8090,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Get yesterdays date in UTC\nyesterdaysDate = Cypress.moment().subtract(1, 'days').valueOf();\nbotName = 'bot-' + Date.now(); // # Create a bot and get userID\ncy.apiCreateBot(botName, 'Test Bot', 'test bot for E2E test replying to older bot post').then(function (response) {\n  botsUserId = response.body.user_id;\n  cy.externalRequest({\n    user: sysadmin,\n    method: 'put',\n    path: \"users/\".concat(botsUserId, \"/roles\"),\n    data: {\n      roles: 'system_user system_post_all system_admin'\n    }\n  }); // # Get token from bots id\n  cy.apiAccessToken(botsUserId, 'Create token').then(function (token) {\n    botToken = token; //# Add bot to team\n    cy.apiAddUserToTeam(newChannel.team_id, botsUserId); // # Post message with auth token\n    var props = {\n      attachments: [{\n        text: 'Some Text posted by bot that has no content and no attachment pretext'\n      }]\n    };\n    cy.postBotMessage({\n      token: botToken,\n      props: props,\n      channelId: newChannel.id,\n      createAt: yesterdaysDate\n    }).its('id').should('exist').as('yesterdaysBotPost');\n  });\n}); // # Add two subsequent posts\ncy.postMessage('First posting');\ncy.postMessage('Another one Posted');\ncy.get('@yesterdaysBotPost').then(function (postId) {\n  // # Open RHS comment menu\n  cy.clickPostCommentIcon(postId); // # Reply to message\n  cy.postMessageReplyInRHS('A reply to an older post bot post'); // # Get the latest reply post\n  cy.getLastPostId().then(function (replyId) {\n    // * Verify that the reply is in the RHS with matching text\n    cy.get(\"#rhsPost_\".concat(replyId)).within(function () {\n      cy.queryByTestId('post-link').should('not.be.visible');\n      cy.get(\"#rhsPostMessageText_\".concat(replyId)).should('be.visible').and('have.text', 'A reply to an older post bot post');\n    });\n    cy.get(\"#CENTER_time_\".concat(postId)).find('time').invoke('attr', 'title').then(function (originalTimeStamp) {\n      // * Verify the first post timestamp equals the RHS timestamp\n      cy.get(\"#RHS_ROOT_time_\".concat(postId)).find('time').invoke('attr', 'title').should('be', originalTimeStamp); // * Verify the first post timestamp was not modified by the reply\n      cy.get(\"#CENTER_time_\".concat(replyId)).find('time').should('have.attr', 'title').and('not.equal', originalTimeStamp);\n    }); //# Close RHS\n    cy.closeRHS(); // * Verify that the reply is in the channel view with matching text\n    cy.get(\"#post_\".concat(replyId)).within(function () {\n      cy.queryByTestId('post-link').should('be.visible').and('have.text', 'Commented on ' + botName + '\\'s message: Some Text posted by bot that has no content and no attachment pretext');\n      cy.get(\"#postMessageText_\".concat(replyId)).should('be.visible').and('have.text', 'A reply to an older post bot post');\n    });\n  });\n}); // # Verify RHS is closed\ncy.get('#rhsContainer').should('not.be.visible');","err":{},"uuid":"6efa2978-2ba2-4b06-8ac3-0c27f89727c4","parentUUID":"7dc66d90-2304-42ca-8a68-16d1e9642d49","isHook":false,"skipped":false},{"title":"MM-16734 Reply to an older bot post that has some attachment pretext","fullTitle":"Messaging MM-16734 Reply to an older bot post that has some attachment pretext","timedOut":null,"duration":5603,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Get yesterdays date in UTC\nyesterdaysDate = Cypress.moment().subtract(1, 'days').valueOf();\nbotName = 'bot-' + Date.now(); // # Create a bot and get userID\ncy.apiCreateBot(botName, 'Test Bot', 'test bot for E2E test replying to older bot post').then(function (response) {\n  botsUserId = response.body.user_id;\n  cy.externalRequest({\n    user: sysadmin,\n    method: 'put',\n    path: \"users/\".concat(botsUserId, \"/roles\"),\n    data: {\n      roles: 'system_user system_post_all system_admin'\n    }\n  }); // # Get token from bots id\n  cy.apiAccessToken(botsUserId, 'Create token').then(function (token) {\n    botToken = token; //# Add bot to team\n    cy.apiAddUserToTeam(newChannel.team_id, botsUserId); // # Post message with auth token\n    var message = 'Hello message from ' + botName;\n    var props = {\n      attachments: [{\n        pretext: 'Some Pretext',\n        text: 'Some Text'\n      }]\n    };\n    cy.postBotMessage({\n      token: botToken,\n      message: message,\n      props: props,\n      channelId: newChannel.id,\n      createAt: yesterdaysDate\n    }).its('id').should('exist').as('yesterdaysPost');\n  });\n}); // # Add two subsequent posts\ncy.postMessage('First post');\ncy.postMessage('Another Post');\ncy.get('@yesterdaysPost').then(function (postId) {\n  // # Open RHS comment menu\n  cy.clickPostCommentIcon(postId); // # Reply to message\n  cy.postMessageReplyInRHS('A reply to an older post with message attachment'); // # Get the latest reply post\n  cy.getLastPostId().then(function (replyId) {\n    // * Verify that the reply is in the RHS with matching text\n    cy.get(\"#rhsPost_\".concat(replyId)).within(function () {\n      cy.queryByTestId('post-link').should('not.be.visible');\n      cy.get(\"#rhsPostMessageText_\".concat(replyId)).should('be.visible').and('have.text', 'A reply to an older post with message attachment');\n    });\n    cy.get(\"#CENTER_time_\".concat(postId)).find('time').invoke('attr', 'title').then(function (originalTimeStamp) {\n      // * Verify the first post timestamp equals the RHS timestamp\n      cy.get(\"#RHS_ROOT_time_\".concat(postId)).find('time').invoke('attr', 'title').should('be', originalTimeStamp); // * Verify the first post timestamp was not modified by the reply\n      cy.get(\"#CENTER_time_\".concat(replyId)).find('time').should('have.attr', 'title').and('not.equal', originalTimeStamp);\n    }); //# Close RHS\n    cy.closeRHS(); // * Verify that the reply is in the channel view with matching text\n    cy.get(\"#post_\".concat(replyId)).within(function () {\n      cy.queryByTestId('post-link').should('be.visible').and('have.text', 'Commented on ' + botName + '\\'s message: Hello message from ' + botName);\n      cy.get(\"#postMessageText_\".concat(replyId)).should('be.visible').and('have.text', 'A reply to an older post with message attachment');\n    });\n  });\n}); // # Verify RHS is closed\ncy.get('#rhsContainer').should('not.be.visible');","err":{},"uuid":"27817746-cf18-43e8-8138-eccc3594e05c","parentUUID":"7dc66d90-2304-42ca-8a68-16d1e9642d49","isHook":false,"skipped":false}],"suites":[],"passes":["6efa2978-2ba2-4b06-8ac3-0c27f89727c4","27817746-cf18-43e8-8138-eccc3594e05c"],"failures":[],"pending":[],"skipped":[],"duration":13693,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"14a6fa61-db1c-4336-899d-5b1470ec87a9","title":"","fullFile":"cypress/integration/messaging/message_reply_input_box_expand_spec.js","file":"cypress/integration/messaging/message_reply_input_box_expand_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"22d6bc3c-5195-4ff5-893a-8c814bd46cfe","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18706-Input box on reply thread can expand","fullTitle":"Messaging M18706-Input box on reply thread can expand","timedOut":null,"duration":17018,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/message_reply_input_box_expand_spec.js/Messaging -- M18706-Input box on reply thread can expand (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/message_reply_input_box_expand_spec.js/Messaging -- M18706-Input box on reply thread can expand (failed).png\"\n}","code":"var maxReplyCount = 15;\nvar halfViewportHeight = Cypress.config('viewportHeight') / 2;\nvar padding = 7;\nvar postCreateContainerDefaultHeight = 187;\nvar replyTextBoxDefaultHeight = 100;\nvar postCreateContainerClassName = 'post-create__container';\nvar replyTextBoxId = 'reply_textbox';\nvar newLinesCount; // # Click \"Reply\"\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostCommentIcon(postId);\n}); // # Post several replies and verify last reply\ncy.get(\"#\".concat(replyTextBoxId)).clear().should('be.visible').as('replyTextBox');\nfor (var i = 1; i <= maxReplyCount; i++) {\n  cy.get('@replyTextBox').type(\"post \".concat(i)).type('{enter}');\n}\nverifyLastReply(maxReplyCount); // # Get post create container and reply text box\ncy.document().then(function (doc) {\n  var postCreateContainer = doc.getElementsByClassName(postCreateContainerClassName)[0];\n  var replyTextBox = doc.getElementById(replyTextBoxId); // * Check if post create container has default offset height and less than 50% of viewport height\n  expect(postCreateContainer.offsetHeight).to.eq(postCreateContainerDefaultHeight).and.lessThan(halfViewportHeight); // * Check if reply text box has default offset height and less than post create container default offset height\n  expect(replyTextBox.offsetHeight).to.eq(replyTextBoxDefaultHeight).and.lessThan(postCreateContainerDefaultHeight);\n}); // # Enter new lines into RHS so that box should reach max height, verify last reply, and verify heights\nnewLinesCount = 25;\nenterNewLinesAndVerifyLastReplyAndHeights(newLinesCount, maxReplyCount, postCreateContainerClassName, replyTextBoxId, padding, halfViewportHeight, postCreateContainerDefaultHeight); // # Enter more new lines into RHS, verify last reply, and verify heights\nnewLinesCount *= 2;\nenterNewLinesAndVerifyLastReplyAndHeights(newLinesCount, maxReplyCount, postCreateContainerClassName, replyTextBoxId, padding, halfViewportHeight, postCreateContainerDefaultHeight); // # Get first reply and scroll into view\ncy.getNthPostId(-maxReplyCount).then(function (replyId) {\n  cy.get(\"#postMessageText_\".concat(replyId)).scrollIntoView();\n  cy.wait(TIMEOUTS.TINY);\n}); // # Type new message to reply text box and verify last reply\ncy.get('@replyTextBox').type('new message');\nverifyLastReply(maxReplyCount);","err":{"message":"AssertionError: expected 190 to equal 187","estack":"AssertionError: expected 190 to equal 187\n    at getRet (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136585:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Function.Promise.attempt.Promise.try (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:164690:29)\n    at Context.thenFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136599:23)\n    at Context.then (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136971:21)\n    at Context.<anonymous> (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148875:21)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148351:33\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromiseCtx (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165445:10)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162145:12)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":"- 190\n+ 187\n"},"uuid":"7bc9af10-7244-454f-a264-d573611612fd","parentUUID":"22d6bc3c-5195-4ff5-893a-8c814bd46cfe","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["7bc9af10-7244-454f-a264-d573611612fd"],"pending":[],"skipped":[],"duration":17018,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"01d600dc-2bd5-49e4-bfa0-278192c64ba9","title":"","fullFile":"cypress/integration/messaging/message_reply_spec.js","file":"cypress/integration/messaging/message_reply_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"58779061-f9ad-41ca-a86a-20aba0b5ebae","title":"Message Reply","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-16730 Reply to an older message","fullTitle":"Message Reply MM-16730 Reply to an older message","timedOut":null,"duration":8697,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Get yesterdays date in UTC\nvar yesterdaysDate = Cypress.moment().subtract(1, 'days').valueOf(); // # Post a day old message\ncy.postMessageAs({\n  sender: sysadmin,\n  message: 'Hello from yesterday',\n  channelId: newChannel.id,\n  createAt: yesterdaysDate\n}).its('id').should('exist').as('yesterdaysPost'); // # Add two subsequent posts\ncy.postMessage('One');\ncy.postMessage('Two');\ncy.get('@yesterdaysPost').then(function (postId) {\n  // # Open RHS comment menu\n  cy.clickPostCommentIcon(postId); // # Reply with the attachment\n  cy.postMessageReplyInRHS('A reply to an older post with attachment'); // # Get the latest reply post\n  cy.getLastPostId().then(function (replyId) {\n    // * Verify that the reply is in the channel view with matching text\n    cy.get(\"#post_\".concat(replyId)).within(function () {\n      cy.queryByTestId('post-link').should('be.visible').and('have.text', 'Commented on sysadmin\\'s message: Hello from yesterday');\n      cy.get(\"#postMessageText_\".concat(replyId)).should('be.visible').and('have.text', 'A reply to an older post with attachment');\n    }); // * Verify that the reply is in the RHS with matching text\n    cy.get(\"#rhsPost_\".concat(replyId)).within(function () {\n      cy.queryByTestId('post-link').should('not.be.visible');\n      cy.get(\"#rhsPostMessageText_\".concat(replyId)).should('be.visible').and('have.text', 'A reply to an older post with attachment');\n    });\n    cy.get(\"#CENTER_time_\".concat(postId)).find('time').invoke('attr', 'title').then(function (originalTimeStamp) {\n      // * Verify the first post timestamp equals the RHS timestamp\n      cy.get(\"#RHS_ROOT_time_\".concat(postId)).find('time').invoke('attr', 'title').should('be', originalTimeStamp); // * Verify the first post timestamp was not modified by the reply\n      cy.get(\"#CENTER_time_\".concat(replyId)).find('time').should('have.attr', 'title').and('not.equal', originalTimeStamp);\n    });\n  });\n}); // # Close RHS\ncy.closeRHS(); // # Verify RHS is open\ncy.get('#rhsContainer').should('not.be.visible');","err":{},"uuid":"5b7581f0-f579-467d-81b0-52f79e5f653f","parentUUID":"58779061-f9ad-41ca-a86a-20aba0b5ebae","isHook":false,"skipped":false}],"suites":[],"passes":["5b7581f0-f579-467d-81b0-52f79e5f653f"],"failures":[],"pending":[],"skipped":[],"duration":8697,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"67bc0a85-4590-4cf0-9efe-e109ba2b090d","title":"","fullFile":"cypress/integration/messaging/message_reply_too_long_spec.js","file":"cypress/integration/messaging/message_reply_too_long_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"cb409aa7-55ab-4883-9406-708a5d0a1230","title":"Message Reply too long","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18689 - \"Message too long\" warning text","fullTitle":"Message Reply too long M18689 - \"Message too long\" warning text","timedOut":null,"duration":8827,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click \"Reply\"\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostCommentIcon(postId);\n}); // # Enter valid text into RHS\nvar replyValid = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ';\ncy.get('#reply_textbox').clear().should('be.visible').type(replyValid).type('{enter}'); // * Check no warning\ncy.get('.post-error').should('not.exist'); // # Enter too long text into RHS\nvar maxReplyLength = 16383;\nvar replyTooLong = replyValid.repeat(maxReplyLength / replyValid.length + 1);\ncy.get('#reply_textbox').invoke('val', replyTooLong).trigger('input'); // * Check warning doesn't overlap textbox\ncy.get('.post-error').should('be.visible');\ncy.get('#reply_textbox').should('be.visible'); // # Type \"enter\" into RHS\ncy.get('#reply_textbox').type('{enter}'); // * Check warning\ncy.get('.post-error').should('be.visible').and('have.class', 'animation--highlight').and('have.text', \"Your message is too long. Character count: \".concat(replyTooLong.length, \"/\").concat(maxReplyLength));\ncy.get('#reply_textbox').should('be.visible'); // * Check last reply is the last valid one\ncy.getLastPostId().then(function (replyId) {\n  cy.get(\"#postMessageText_\".concat(replyId)).should('be.visible').and('have.text', replyValid);\n});","err":{},"uuid":"b01e9c42-c920-4acd-9f2c-34829de98fdd","parentUUID":"cb409aa7-55ab-4883-9406-708a5d0a1230","isHook":false,"skipped":false}],"suites":[],"passes":["b01e9c42-c920-4acd-9f2c-34829de98fdd"],"failures":[],"pending":[],"skipped":[],"duration":8827,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"1b86b5c2-5695-4dbb-a245-614feb2b6abb","title":"","fullFile":"cypress/integration/messaging/message_shortlinking_spec.js","file":"cypress/integration/messaging/message_shortlinking_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"1ad0f53a-0039-4561-adb8-4ae79490a957","title":"Message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M17451 Channel shortlinking still works when placed in brackets","fullTitle":"Message M17451 Channel shortlinking still works when placed in brackets","timedOut":null,"duration":4943,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post a shortlink of channel\nvar shortLink = '(~saepe-5)';\nvar longLink = '~doloremque';\ncy.postMessage(shortLink);\ncy.getLastPostId().then(function (postId) {\n  // # Grab last message with the long link url and go to the link\n  var divPostId = \"#postMessageText_\".concat(postId);\n  cy.get(divPostId).contains(longLink).click(); // * verify that the url is the same as what was just clicked on\n  cy.location('pathname').should('contain', 'ad-1/channels/saepe-5'); // * verify that the channel title represents the same channel that was clicked on\n  cy.get('#channelHeaderTitle').should('contain', 'doloremque');\n});","err":{},"uuid":"5cc7b04b-e8f6-409e-bd55-63e3569d43df","parentUUID":"1ad0f53a-0039-4561-adb8-4ae79490a957","isHook":false,"skipped":false}],"suites":[],"passes":["5cc7b04b-e8f6-409e-bd55-63e3569d43df"],"failures":[],"pending":[],"skipped":[],"duration":4943,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"a5c02ee0-4fa7-4d4e-b7d1-7e8f7090e84e","title":"","fullFile":"cypress/integration/messaging/message_spec.js","file":"cypress/integration/messaging/message_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"39b2578b-8938-4f28-b166-2360f885b520","title":"Message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M13701 Consecutive message does not repeat profile info","fullTitle":"Message M13701 Consecutive message does not repeat profile info","timedOut":null,"duration":7954,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Wait for posts to load\ncy.get('#postListContent').should('be.visible'); // # Post a message to force next user message to display a message\ncy.getCurrentChannelId().then(function (channelId) {\n  cy.postMessageAs({\n    sender: sysadmin,\n    message: 'Hello',\n    channelId: channelId\n  });\n}); // # Post message \"One\"\ncy.postMessage('One'); // * Check profile image is visible\nshouldHavePostProfileImageVisible(true); // # Post message \"Two\"\ncy.postMessage('Two'); // * Check profile image is not visible\nshouldHavePostProfileImageVisible(false); // # Post message \"Three\"\ncy.postMessage('Three'); // * Check profile image is not visible\nshouldHavePostProfileImageVisible(false);","err":{},"uuid":"26de8896-eeb2-4814-9b59-0623252eeaa4","parentUUID":"39b2578b-8938-4f28-b166-2360f885b520","isHook":false,"skipped":false},{"title":"M14012 Focus move to main input box when a character key is selected","fullTitle":"Message M14012 Focus move to main input box when a character key is selected","timedOut":null,"duration":2190,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Post message\ncy.postMessage('Message');\ncy.getLastPostId().then(function (postId) {\n  var divPostId = \"#post_\".concat(postId); // # Left click on post to move the focus out of the main input box\n  cy.get(divPostId).click(); // # Push a character key such as \"A\"\n  cy.get('#post_textbox').type('A'); // # Open the \"...\" menu on a post in the main to move the focus out of the main input box\n  cy.clickPostDotMenu(postId); // # Push a character key such as \"A\"\n  cy.get('#post_textbox').type('A'); // * Focus is moved back to the main input and the keystroke is captured\n  cy.focused().should('have.id', 'post_textbox');\n  cy.focused().should('contain', 'AA');\n});","err":{},"uuid":"c088deea-5a76-44a8-aef7-d7f120216d83","parentUUID":"39b2578b-8938-4f28-b166-2360f885b520","isHook":false,"skipped":false},{"title":"M14320 @here, @all and @channel (ending in a period) still highlight","fullTitle":"Message M14320 @here, @all and @channel (ending in a period) still highlight","timedOut":null,"duration":2825,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Change settings to allow @channel messages\ncy.apiPatchMe({\n  notify_props: {\n    channel: 'true'\n  }\n}); // # Login as sysadmin the create/login as new user\ncy.apiLogin('sysadmin');\ncy.apiCreateAndLoginAsNewUser().then(function () {\n  // # Create new team and visit its URL\n  cy.apiCreateTeam('test-team', 'Test Team').then(function (response) {\n    cy.visit(\"/\".concat(response.body.name));\n  });\n}); // # Post message\ncy.postMessage('@here. @all. @channel.');\ncy.getLastPostId().then(function (postId) {\n  var divPostId = \"#postMessageText_\".concat(postId); // * Check that the message contains the whole content sent ie. mentions with dots.\n  cy.get(divPostId).find('p').should('have.text', '@here. @all. @channel.'); // * Check that only the at-mention are inside span.mention--highlight\n  cy.get(divPostId).find('.mention--highlight').first().should('have.text', '@here').should('not.have.text', '.').next().should('have.text', '@all').should('not.have.text', '.').next().should('have.text', '@channel').should('not.have.text', '.');\n});","err":{},"uuid":"6cac368e-0dce-4994-a7d2-faebe3aac415","parentUUID":"39b2578b-8938-4f28-b166-2360f885b520","isHook":false,"skipped":false},{"title":"MM-2954 /me message should be formatted like a system message","fullTitle":"Message MM-2954 /me message should be formatted like a system message","timedOut":null,"duration":20682,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/message_spec.js/Message -- MM-2954 me message should be formatted like a system message (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/message_spec.js/Message -- MM-2954 me message should be formatted like a system message (failed).png\"\n}","code":"// # Post message\ncy.postMessage('/me hello there');\ncy.getLastPostId().then(function (postId) {\n  var divPostId = \"#post_\".concat(postId); // * Check that message has the css class needed for system message styling\n  cy.get(divPostId).should('have.class', 'post--system');\n});","err":{"message":"CypressError: Timed out retrying: expected '<div#post_gekfc9mfwjdo5mdoojs3rtamxe.a11y__section.post.other--root.current--user>' to have class 'post--system'","estack":"CypressError: Timed out retrying: expected '<div#post_gekfc9mfwjdo5mdoojs3rtamxe.a11y__section.post.other--root.current--user>' to have class 'post--system'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"beeb233a-9e39-4e62-a638-63a7f9f31374","parentUUID":"39b2578b-8938-4f28-b166-2360f885b520","isHook":false,"skipped":false}],"suites":[],"passes":["26de8896-eeb2-4814-9b59-0623252eeaa4","c088deea-5a76-44a8-aef7-d7f120216d83","6cac368e-0dce-4994-a7d2-faebe3aac415"],"failures":["beeb233a-9e39-4e62-a638-63a7f9f31374"],"pending":[],"skipped":[],"duration":33651,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"32dc5ddc-1c43-46d2-b42e-0b1bb60706eb","title":"","fullFile":"cypress/integration/messaging/mobile_message_deletion_spec.js","file":"cypress/integration/messaging/mobile_message_deletion_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"91c847d2-aed5-4c92-a1da-10312d144268","title":"Delete Parent Message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M14270 Deleting parent message should also delete replies from center and RHS","fullTitle":"Delete Parent Message M14270 Deleting parent message should also delete replies from center and RHS","timedOut":null,"duration":9447,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Close Hamburger menu, post a message, and add replies\ncy.get('#post_textbox').click({\n  force: true\n});\ncy.postMessage('Parent Message');\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostCommentIcon(postId); // * Check that the RHS is open\n  cy.get('#rhsContainer').should('be.visible'); // * Add replies (randomly between 1 to 3)\n  var replyCount = (0, _utils.getRandomInt)(2) + 1;\n  for (var i = 0; i < replyCount; i++) {\n    cy.get('#reply_textbox').type('Reply').type('{enter}'); // add wait time to ensure that a post gets posted and not on pending state\n    cy.wait(TIMEOUTS.TINY);\n  }\n  cy.getLastPostId().then(function (replyPostId) {\n    // * No delete modal should be visible yet\n    cy.get('#deletePostModal').should('not.be.visible'); // #Close RHS view, open delete confirmation modal for the parent message from the center screen\n    cy.get('#sbrSidebarCollapse').click();\n    cy.clickPostDotMenu(postId);\n    cy.get(\"#delete_post_\".concat(postId)).click(); // * Modal should now be visible and warning message should match the number of replies\n    cy.get('#deletePostModal').should('be.visible');\n    cy.get('#deletePostModal').contains(\"\".concat(replyCount)).should('be.visible'); // # Delete the parent message\n    cy.get('#deletePostModalButton').click({\n      force: true\n    }); // * Post is deleted from both center and RHS is not visible to the user who deleted it\n    cy.get('#rhsContainer').should('not.be.visible');\n    cy.get(\"#post_\".concat(postId)).should('not.be.visible');\n    cy.get(\"#post_\".concat(replyPostId)).should('not.be.visible');\n  });\n});","err":{},"uuid":"475148e7-a009-4508-a052-91547236ec96","parentUUID":"91c847d2-aed5-4c92-a1da-10312d144268","isHook":false,"skipped":false}],"suites":[],"passes":["475148e7-a009-4508-a052-91547236ec96"],"failures":[],"pending":[],"skipped":[],"duration":9447,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c212db48-8b60-44ef-9eb2-29a0e6d19fae","title":"","fullFile":"cypress/integration/messaging/mobile_profile_popover_spec.js","file":"cypress/integration/messaging/mobile_profile_popover_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"ad79b1ec-e5e7-424f-bf41-dbce8d00e16f","title":"Profile popover","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18715 Profile popover should render (standard mode)","fullTitle":"Profile popover M18715 Profile popover should render (standard mode)","timedOut":null,"duration":5145,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Setting posts to standard mode\ncy.apiSaveMessageDisplayPreference();\ncy.getLastPostId().then(function (postId) {\n  // add wait time to ensure image is rendered and can be clicked\n  cy.wait(TIMEOUTS.TINY); // # Click on user profile image\n  cy.get(\"#post_\".concat(postId)).find('.profile-icon > img').click({\n    force: true\n  }); // * Popover should have rendered to screen\n  cy.get('#user-profile-popover').should('be.visible');\n  cy.get('body').type('{esc}');\n});","err":{},"uuid":"0fab2711-d5b2-413b-b979-29b8fa56da65","parentUUID":"ad79b1ec-e5e7-424f-bf41-dbce8d00e16f","isHook":false,"skipped":false},{"title":"M18715 Profile popover should render (compact mode)","fullTitle":"Profile popover M18715 Profile popover should render (compact mode)","timedOut":null,"duration":1277,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Setting posts to compact mode\ncy.apiSaveMessageDisplayPreference('compact');\ncy.getLastPostId().then(function (postId) {\n  // # Click on username\n  cy.get(\"#post_\".concat(postId)).find('.user-popover').click({\n    force: true\n  }); // * Popover should have rendered to screen\n  cy.get('#user-profile-popover').should('be.visible');\n});","err":{},"uuid":"bad2dfdf-0cb7-41c9-b6f8-b2cbd91a69e4","parentUUID":"ad79b1ec-e5e7-424f-bf41-dbce8d00e16f","isHook":false,"skipped":false}],"suites":[],"passes":["0fab2711-d5b2-413b-b979-29b8fa56da65","bad2dfdf-0cb7-41c9-b6f8-b2cbd91a69e4"],"failures":[],"pending":[],"skipped":[],"duration":6422,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"86cb08b6-7ae0-46d5-8cce-da1e88af977c","title":"","fullFile":"cypress/integration/messaging/permalink_loading_indicator_spec.js","file":"cypress/integration/messaging/permalink_loading_indicator_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"dffb8443-7e06-43df-83a4-115d1a254f78","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18701-Permalink to first post in channel shows endless loading indicator above","fullTitle":"Messaging M18701-Permalink to first post in channel shows endless loading indicator above","timedOut":null,"duration":18067,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/permalink_loading_indicator_spec.js/Messaging -- M18701-Permalink to first post in channel shows endless loading indicator above (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/permalink_loading_indicator_spec.js/Messaging -- M18701-Permalink to first post in channel shows endless loading indicator above (failed).png\"\n}","code":"var dateNow = Date.now();\nvar message = 'Hello' + dateNow;\nvar maxMessageCount = 10;\nvar privateChannelName = 'test-private-channel-' + dateNow;\nvar privateChannelDisplayName = (0, _utils.titleCase)(privateChannelName.replace(/-/g, ' '));\nvar publicChannelName = 'test-public-channel-' + dateNow;\nvar publicChannelDisplayName = (0, _utils.titleCase)(publicChannelName.replace(/-/g, ' '));\nvar linkText;\nvar permalinkId; // # Get current team id\ncy.getCurrentTeamId().then(function (teamId) {\n  // # Create private channel to post message\n  cy.apiCreateChannel(teamId, privateChannelName, privateChannelDisplayName, 'P', 'Test private channel').then(function (response) {\n    testPrivateChannel = response.body; // # Click on test private channel\n    cy.get('#sidebarItem_' + testPrivateChannel.name).click({\n      force: true\n    }); // # Post several messages\n    for (var i = 1; i <= maxMessageCount; i++) {\n      cy.postMessage(\"\".concat(message, \"-\").concat(i));\n    } // # Get first post id from that postlist area\n\n    cy.getNthPostId(-maxMessageCount).then(function (postId) {\n      permalinkId = postId; // # Click on ... button of last post\n      cy.clickPostDotMenu(postId); // # Click on permalink option\n      cy.get(\"#permalink_\".concat(postId)).should('be.visible').click().wait(TIMEOUTS.SMALL); // * Check clipboard contains permalink\n      cy.task('getClipboard').should('contain', \"/ad-1/pl/\".concat(postId)).then(function (text) {\n        linkText = text;\n      });\n    });\n  });\n}); // # Get current team id\ncy.getCurrentTeamId().then(function (teamId) {\n  // # Create public channel to post permalink\n  cy.apiCreateChannel(teamId, publicChannelName, publicChannelDisplayName, 'O', 'Test public channel').then(function (response) {\n    testPublicChannel = response.body; // # Click on test public channel\n    cy.get('#sidebarItem_' + testPublicChannel.name).click({\n      force: true\n    }); // # Paste link on postlist area\n    cy.postMessage(linkText); // # Get last post id from that postlist area\n    cy.getLastPostId().then(function (postId) {\n      // # Click on permalink\n      cy.get(\"#postMessageText_\".concat(postId, \" > p > .markdown__link\")).scrollIntoView().click(); // * Check if url include the permalink\n      cy.url().should('include', \"/ad-1/channels/\".concat(testPrivateChannel.name, \"/\").concat(permalinkId)); // * Check if url redirects back to parent path eventually\n      cy.wait(TIMEOUTS.SMALL).url().should('include', \"/ad-1/channels/\".concat(testPrivateChannel.name)).and('not.include', \"/\".concat(permalinkId)); // * Check if the matching channel intro title is visible\n      cy.get('#channelIntro').contains('.channel-intro__title', \"Beginning of \".concat(testPrivateChannel.display_name)).should('be.visible');\n    }); // # Get last post id from open channel\n    cy.getLastPostId().then(function (clickedPostId) {\n      // * Check the sent message\n      cy.get(\"#postMessageText_\".concat(clickedPostId)).scrollIntoView().should('be.visible').and('have.text', \"\".concat(message, \"-\").concat(maxMessageCount)); // * Check if the loading indicator is not visible\n      cy.get('.loading-screen').should('not.be.visible'); // * Check if the more messages text is not visible\n      cy.get('.more-messages-text').should('not.be.visible');\n    });\n  });\n});","err":{"message":"AssertionError: expected '' to include '/ad-1/pl/b56wdpgca7bbiy8mj9ihn1h6rw'","estack":"AssertionError: expected '' to include '/ad-1/pl/b56wdpgca7bbiy8mj9ihn1h6rw'\n    at applyChainer (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136206:32)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136243:16\n    at arrayReduce (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:13988:21)\n    at Function.reduce (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:22986:14)\n    at applyChainers (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136237:18)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Function.Promise.attempt.Promise.try (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:164690:29)\n    at Context.shouldFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136247:23)\n    at Context.should (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136262:23)\n    at Context.<anonymous> (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148875:21)\n    at https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:148351:33\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromiseCtx (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165445:10)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162145:12)","diff":null},"uuid":"365f03d9-93bf-4055-aad0-049592e9a630","parentUUID":"dffb8443-7e06-43df-83a4-115d1a254f78","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["365f03d9-93bf-4055-aad0-049592e9a630"],"pending":[],"skipped":[],"duration":18067,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"a60d12df-d9ce-4d27-a274-a08bb65136ab","title":"","fullFile":"cypress/integration/messaging/permalink_message_edit_spec.js","file":"cypress/integration/messaging/permalink_message_edit_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8cee8cbd-7b63-4ee6-8729-2607d82b7154","title":"Permalink message edit","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18717 - Edit a message in permalink view","fullTitle":"Permalink message edit M18717 - Edit a message in permalink view","timedOut":null,"duration":22987,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as \"user-1\" and go to /\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square');\nvar searchWord = \"searchtest \".concat(Date.now()); // # Post message\ncy.postMessage(searchWord); // # Search for searchWord\ncy.get('#searchBox').type(searchWord).type('{enter}'); // # Jump to permalink view\ncy.get('.search-item__jump').first().click();\ncy.getLastPostId().then(function (postId) {\n  // # Check if url include the permalink\n  cy.url().should('include', \"/ad-1/channels/town-square/\".concat(postId)); // # Click on ... button of last post matching the searchWord\n  cy.clickPostDotMenu(postId); // # Click on edit post\n  cy.get(\"#edit_post_\".concat(postId)).click();\n  var editedText = \"edited - \".concat(searchWord); // # Add new text in edit box\n  cy.get('#edit_textbox').clear().type(editedText); // # Click edit button\n  cy.get('#editButton').click(); // # Check edited post\n  verifyEditedPermalink(postId, editedText); // # Login as \"user-2\" and go to /\n  var user2 = _users[\"default\"]['user-2'];\n  cy.apiLogin(user2.username, user2.password);\n  cy.visit('/ad-1/channels/town-square'); // # Find searchWord and verify edited post\n  cy.get('#searchBox').type(searchWord).type('{enter}');\n  cy.get('.search-item__jump').first().click(); // # Check if url include the permalink\n  cy.url().should('include', \"/ad-1/channels/town-square/\".concat(postId));\n  verifyEditedPermalink(postId, editedText);\n});","err":{},"uuid":"f3b0ebf0-a121-498a-9ae0-003f169bc922","parentUUID":"8cee8cbd-7b63-4ee6-8729-2607d82b7154","isHook":false,"skipped":false}],"suites":[],"passes":["f3b0ebf0-a121-498a-9ae0-003f169bc922"],"failures":[],"pending":[],"skipped":[],"duration":22987,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"48a0a31e-a938-4467-8197-49a9b93e4a51","title":"","fullFile":"cypress/integration/messaging/post_header_spec.js","file":"cypress/integration/messaging/post_header_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"147c5426-20ab-48a0-9018-a01457bd468c","title":"Post Header","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should render permalink view on click of post timestamp at center view","fullTitle":"Post Header should render permalink view on click of post timestamp at center view","timedOut":null,"duration":13148,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to a known team and channel\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.postMessage('test for permalink');\ncy.getLastPostId().then(function (postId) {\n  var divPostId = \"#post_\".concat(postId); // * Check initial state that the first message posted is not highlighted\n  cy.get(divPostId).should('be.visible').should('not.have.class', 'post--highlight'); // # Click timestamp of a post\n  cy.clickPostTime(postId); // * Check if url include the permalink\n  cy.url().should('include', \"/ad-1/channels/town-square/\".concat(postId)); // * Check if url redirects back to parent path eventually\n  cy.wait(TIMEOUTS.SMALL).url().should('include', '/ad-1/channels/town-square').and('not.include', \"/\".concat(postId)); // * Check that the post is highlighted on permalink view\n  cy.get(divPostId).should('be.visible').and('have.class', 'post--highlight'); // * Check that the highlight is removed after a period of time\n  cy.wait(TIMEOUTS.TINY).get(divPostId).should('be.visible').and('not.have.class', 'post--highlight'); // * Check the said post not highlighted\n  cy.get(divPostId).should('be.visible').should('not.have.class', 'post--highlight');\n});","err":{},"uuid":"d31d65fb-4bcf-4e06-b702-3e44c39af2e2","parentUUID":"147c5426-20ab-48a0-9018-a01457bd468c","isHook":false,"skipped":false},{"title":"should flag a post on click to flag icon at center view","fullTitle":"Post Header should flag a post on click to flag icon at center view","timedOut":null,"duration":5645,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to a known team and channel\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.postMessage('test for flagged post');\ncy.getLastPostId().then(function (postId) {\n  // * Check that the center flag icon of a post is not visible\n  cy.get(\"#CENTER_flagIcon_\".concat(postId)).should('not.be.visible'); // # Click the center flag icon of a post\n  cy.clickPostFlagIcon(postId); // * Check that the center flag icon of a post becomes visible\n  cy.get(\"#CENTER_flagIcon_\".concat(postId)).should('be.visible').should('have.class', 'style--none flag-icon__container visible'); // # Click again the center flag icon of a post\n  cy.clickPostFlagIcon(postId); // # Click on textbox to focus away from flag area\n  cy.get('#post_textbox').click(); // * Check that the center flag icon of a post is now hidden.\n  cy.get(\"#CENTER_flagIcon_\".concat(postId)).should('not.be.visible');\n});","err":{},"uuid":"1dff7496-41e6-4df1-b2fa-a023c2bd6cb1","parentUUID":"147c5426-20ab-48a0-9018-a01457bd468c","isHook":false,"skipped":false},{"title":"should open dropdown menu on click of dot menu icon","fullTitle":"Post Header should open dropdown menu on click of dot menu icon","timedOut":null,"duration":5253,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to a known team and channel\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.postMessage('test for dropdown menu');\ncy.getLastPostId().then(function (postId) {\n  // * Check that the center dot menu' button and dropdown are hidden\n  cy.get(\"#post_\".concat(postId)).should('be.visible').within(function () {\n    cy.get(\"#CENTER_button_\".concat(postId)).should('not.be.visible');\n    cy.get('.dropdown-menu').should('not.be.visible');\n  }); // # Click dot menu of a post\n  cy.clickPostDotMenu(postId); // * Check that the center dot menu button and dropdown are visible\n  cy.get(\"#post_\".concat(postId)).should('be.visible').within(function () {\n    cy.get(\"#CENTER_button_\".concat(postId)).should('be.visible');\n    cy.get('.dropdown-menu').should('be.visible');\n  }); // # Click to other location like post textbox\n  cy.get('#post_textbox').click(); // * Check that the center dot menu and dropdown are hidden\n  cy.get(\"#post_\".concat(postId)).should('be.visible').within(function () {\n    cy.get(\"#CENTER_button_\".concat(postId)).should('not.be.visible');\n    cy.get('.dropdown-menu').should('not.be.visible');\n  });\n});","err":{},"uuid":"764fb74f-a7b4-4365-873c-f890f83dcebb","parentUUID":"147c5426-20ab-48a0-9018-a01457bd468c","isHook":false,"skipped":false},{"title":"should open and close Emoji Picker on click of reaction icon","fullTitle":"Post Header should open and close Emoji Picker on click of reaction icon","timedOut":null,"duration":6584,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to a known team and channel\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.postMessage('test for reaction and emoji picker');\ncy.getLastPostId().then(function (postId) {\n  // * Check that the center post reaction icon and emoji picker are not visible\n  cy.get(\"#CENTER_reaction_\".concat(postId)).should('not.exist');\n  cy.get('#emojiPicker').should('not.exist'); // # Click the center post reaction icon of the post\n  cy.clickPostReactionIcon(postId); // * Check that the center post reaction icon of the post becomes visible\n  cy.get(\"#CENTER_reaction_\".concat(postId)).should('be.visible').and('have.class', 'post-menu__item--active').and('have.class', 'post-menu__item--reactions'); // * Check that the emoji picker becomes visible as well\n  cy.get('#emojiPicker').should('be.visible'); // # Click again the center post reaction icon of the post\n  cy.clickPostReactionIcon(postId); // # Click on textbox to focus away from emoji area\n  cy.get('#post_textbox').click(); // * Check that the center post reaction icon and emoji picker are not visible\n  cy.get(\"#CENTER_reaction_\".concat(postId)).should('not.exist');\n  cy.get('#emojiPicker').should('not.exist');\n});","err":{},"uuid":"1b4958e2-5080-44f0-a8d0-5561e6b76e0d","parentUUID":"147c5426-20ab-48a0-9018-a01457bd468c","isHook":false,"skipped":false},{"title":"should open RHS on click of comment icon and close on RHS' close button","fullTitle":"Post Header should open RHS on click of comment icon and close on RHS' close button","timedOut":null,"duration":5281,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Go to a known team and channel\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.postMessage('test for opening and closing RHS'); // # Open RHS on hover to a post and click to its comment icon\ncy.clickPostCommentIcon(); // * Check that the RHS is open\ncy.get('#rhsContainer').should('be.visible'); // # Close RHS on click of close button\ncy.closeRHS(); // * Check that the RHS is close\ncy.get('#rhsContainer').should('not.be.visible');","err":{},"uuid":"a075a0ea-9b5f-49c3-8ebe-27cdc6cebf90","parentUUID":"147c5426-20ab-48a0-9018-a01457bd468c","isHook":false,"skipped":false},{"title":"M14577 Un-pinning and pinning a post removes and adds badge","fullTitle":"Post Header M14577 Un-pinning and pinning a post removes and adds badge","timedOut":null,"duration":26993,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/post_header_spec.js/Post Header -- M14577 Un-pinning and pinning a post removes and adds badge (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/post_header_spec.js/Post Header -- M14577 Un-pinning and pinning a post removes and adds badge (failed).png\"\n}","code":"// # Go to a known team and channel\ncy.visit('/ad-1/channels/town-square'); // # Post a message\ncy.postMessage('test for pinning/unpinning a post');\ncy.getLastPostId().then(function (postId) {\n  // * Check that the center flag icon of the post is not visible\n  cy.get(\"#CENTER_flagIcon_\".concat(postId)).should('not.exist'); // * Check that the pinned badge of the post is not visible\n  cy.get(\"#post_\".concat(postId)).should('not.have.class', 'post--pinned'); // # Pin the post.\n  cy.getPostMenu(postId, 'Pin to Channel').click(); // # Click the center flag icon of a post\n  cy.clickPostFlagIcon(postId); // # click RHS list\n  cy.get('#channelHeaderFlagButton').click(); // * Check that message exists in RHS flagged posts list\n  cy.get(\"#rhsPostMessageText_\".concat(postId)).contains('test for pinning/unpinning a post'); // * Check that post is be pinned in center\n  // * Check that post is be pinned in RHS\n  cy.get(\"#post_\".concat(postId)).should('have.class', 'post--pinned');\n  cy.get(\"#SEARCH_flagIcon_\".concat(postId)).siblings('.post__pinned-badge').should('exist'); // # unpin the post\n  cy.getPostMenu(postId, 'Unpin from Channel').click(); // * Check that message exists in RHS flagged posts list\n  // * Check that post is not be pinned in center\n  // * Check that post is not be pinned in RHS\n  cy.get(\"#rhsPostMessageText_\".concat(postId)).contains('test for pinning/unpinning a post');\n  cy.get(\"#post_\".concat(postId)).should('not.have.class', 'post--pinned');\n  cy.get(\"#SEARCH_flagIcon_\".concat(postId)).siblings('.post__pinned-badge').should('not.exist'); // # Pin the post again.\n  cy.getPostMenu(postId, 'Pin to Channel').click(); // * Check that post is be pinned in center\n  // * Check that post is be pinned in RHS\n  cy.get(\"#post_\".concat(postId)).should('have.class', 'post--pinned');\n  cy.get(\"#SEARCH_flagIcon_\".concat(postId)).siblings('.post__pinned-badge').should('exist');\n});","err":{"message":"CypressError: Timed out retrying: expected '<div#post_toamipbxejry9dg4rrm7dww4we.a11y__section.post.post--compact.same--user.same--root.current--user>' to have class 'post--pinned'","estack":"CypressError: Timed out retrying: expected '<div#post_toamipbxejry9dg4rrm7dww4we.a11y__section.post.post--compact.same--user.same--root.current--user>' to have class 'post--pinned'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"dfa8cc72-c61c-4e96-a408-1b986f705cbb","parentUUID":"147c5426-20ab-48a0-9018-a01457bd468c","isHook":false,"skipped":false},{"title":"M17442 Visual verification of \"Searching\" animation for Flagged and Pinned posts","fullTitle":"Post Header M17442 Visual verification of \"Searching\" animation for Flagged and Pinned posts","timedOut":null,"duration":5927,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.delayRequestToRoutes(['pinned', 'flagged'], 5000);\ncy.reload(); // # Go to Town-Square channel\ncy.visit('/ad-1/channels/town-square'); // Pin and flag last post before clicking on Pinned and Flagged post icons\ncy.postMessage('Post'); //Pin and flag the posted message\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostDotMenu(postId);\n  cy.get(\"#pin_post_\".concat(postId)).click();\n  cy.clickPostFlagIcon(postId);\n}); // # Click on the \"Pinned Posts\" icon to the left of the \"Search\" box\ncy.get('#channelHeaderPinButton').click(); // * Verify that the RHS for pinned posts is opened.\ncy.get('#searchContainer').should('be.visible').within(function () {\n  // * Check that searching indicator appears before the pinned posts are loaded\n  cy.get('#loadingSpinner', {\n    timeout: TIMEOUTS.SMALL\n  }).should('be.visible').and('have.text', 'Searching...');\n  cy.get('#search-items-container').should('be.visible'); // # Close the RHS\n  cy.get('#searchResultsCloseButton').should('be.visible').click();\n}); // # Click on the \"Flagged Posts\" icon to the right of the \"Search\" box\ncy.get('#channelHeaderFlagButton').click(); // * Verify that the RHS for pinned posts is opened.\ncy.get('#searchContainer').should('be.visible').within(function () {\n  // * Check that searching indicator appears before the pinned posts are loaded\n  cy.get('#loadingSpinner').should('be.visible').and('have.text', 'Searching...');\n  cy.get('#search-items-container').should('be.visible'); // # Close the RHS\n  cy.get('#searchResultsCloseButton').should('be.visible').click();\n});","err":{},"uuid":"9c5df288-ac34-41c3-97a8-6444efbf7de1","parentUUID":"147c5426-20ab-48a0-9018-a01457bd468c","isHook":false,"skipped":false}],"suites":[],"passes":["d31d65fb-4bcf-4e06-b702-3e44c39af2e2","1dff7496-41e6-4df1-b2fa-a023c2bd6cb1","764fb74f-a7b4-4365-873c-f890f83dcebb","1b4958e2-5080-44f0-a8d0-5561e6b76e0d","a075a0ea-9b5f-49c3-8ebe-27cdc6cebf90","9c5df288-ac34-41c3-97a8-6444efbf7de1"],"failures":["dfa8cc72-c61c-4e96-a408-1b986f705cbb"],"pending":[],"skipped":[],"duration":68831,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"83d7961b-c890-4176-93da-f0d8e07e0883","title":"","fullFile":"cypress/integration/messaging/post_options_menu_spec.js","file":"cypress/integration/messaging/post_options_menu_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"c9b54d7e-029f-4bcb-9ac8-7e69ef7b5238","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18679 - Mobile view: Post options menu (3-dots) is present on a reply post in RHS","fullTitle":"Messaging M18679 - Mobile view: Post options menu (3-dots) is present on a reply post in RHS","timedOut":null,"duration":7611,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Get the last entered RHS post\ncy.getLastPostId().then(function (lastPostId) {\n  var dotMenuButtonID = \"#RHS_COMMENT_button_\".concat(lastPostId); // * Check to see if button is visible and click it\n  cy.get(dotMenuButtonID).should('be.visible').click();\n  var dropDownMenuOfPostOptionsID = \"#RHS_COMMENT_dropdown_\".concat(lastPostId); // * Check if modal for post options have opened\n  cy.get(dropDownMenuOfPostOptionsID).should('be.visible').within(function () {\n    // * Check if atleast 1 item is present\n    cy.get('li').should('have.length.greaterThan', 0); // * Check if one of the options are as follows\n    cy.findByText('Add Reaction').should('be.visible');\n    cy.findByText('Mark as Unread').should('be.visible');\n    cy.findByText('Copy Link').should('be.visible');\n    cy.findByText('Flag').should('be.visible');\n    cy.findByText('Pin to Channel').should('be.visible');\n    cy.findByText('Edit').should('be.visible');\n    cy.findByText('Delete').should('be.visible');\n  });\n});","err":{},"uuid":"2c35906a-1da1-4a4d-94da-b1334d8e42b1","parentUUID":"c9b54d7e-029f-4bcb-9ac8-7e69ef7b5238","isHook":false,"skipped":false}],"suites":[],"passes":["2c35906a-1da1-4a4d-94da-b1334d8e42b1"],"failures":[],"pending":[],"skipped":[],"duration":7611,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"a0488bbe-f6e6-4588-8269-b48c0c653fcc","title":"","fullFile":"cypress/integration/messaging/post_textbox_height_spec.js","file":"cypress/integration/messaging/post_textbox_height_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"e931b008-2411-4e84-919e-7a89583af6f4","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18700 - Leave a long draft in reply input box","fullTitle":"Messaging M18700 - Leave a long draft in reply input box","timedOut":null,"duration":4882,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var self = this,\n    args = arguments;\nreturn new Promise(function (resolve, reject) {\n  var gen = fn.apply(self, args);\n  function _next(value) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n  }\n  function _throw(err) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n  }\n  _next(undefined);\n});","err":{},"uuid":"0c659d5b-18cb-41d8-8edd-3bac3815a0c2","parentUUID":"e931b008-2411-4e84-919e-7a89583af6f4","isHook":false,"skipped":false}],"suites":[],"passes":["0c659d5b-18cb-41d8-8edd-3bac3815a0c2"],"failures":[],"pending":[],"skipped":[],"duration":4882,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c6c284fc-703e-4172-b7e3-f537df359386","title":"","fullFile":"cypress/integration/messaging/quick_send_spec.js","file":"cypress/integration/messaging/quick_send_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"b160d816-eb8e-4630-9676-dabd8c6cd068","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18698-Posts change order when being sent quickly","fullTitle":"Messaging M18698-Posts change order when being sent quickly","timedOut":null,"duration":10402,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.visit('/ad-1/channels/town-square'); // # Build a message and send\nvar message = '';\nfor (var i = 9; i >= 0; i--) {\n  message += i + '{enter}';\n}\ncy.get('#post_textbox', {\n  timeout: TIMEOUTS.LARGE\n}).clear().type(message, {\n  delay: 0\n});\nvar _loop = function _loop(_i) {\n  cy.getNthPostId(-_i).then(function (postId) {\n    // * Check if the text is the correct one\n    cy.get(\"#postMessageText_\".concat(postId, \" > p\")).should('have.text', String(_i - 1));\n  });\n};\nfor (var _i = 10; _i > 0; _i--) {\n  _loop(_i);\n}","err":{},"uuid":"72ff622c-463e-40fd-8a16-1122eb87bcb5","parentUUID":"b160d816-eb8e-4630-9676-dabd8c6cd068","isHook":false,"skipped":false}],"suites":[],"passes":["72ff622c-463e-40fd-8a16-1122eb87bcb5"],"failures":[],"pending":[],"skipped":[],"duration":10402,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"942b2712-0c34-46b5-b637-8efbb307b033","title":"","fullFile":"cypress/integration/messaging/quote_notation_spec.js","file":"cypress/integration/messaging/quote_notation_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5252c5a6-daa2-4663-8059-e8e4e09aa8d6","title":"Compact view: Markdown quotation","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18704-Compact view: Markdown quotation","fullTitle":"Compact view: Markdown quotation M18704-Compact view: Markdown quotation","timedOut":null,"duration":15119,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var message = '>Hello' + Date.now(); // # Create new DM channel with user's email\ncy.apiGetUsers(['user-1', 'sysadmin']).then(function (userResponse) {\n  var userEmailArray = [userResponse.body[1].id, userResponse.body[0].id];\n  cy.apiCreateDirectChannel(userEmailArray).then(function () {\n    cy.visit('/ad-1/messages/@sysadmin'); // # Post first message in case it is a new Channel\n    cy.postMessage('Hello' + Date.now()); // # Make sure we are on compact mode\n    cy.apiSaveMessageDisplayPreference('compact');\n    resetRoot(); // # Post message to use and check\n    cy.postMessage(message);\n    checkQuote(message);\n    resetRoot(); // # Post two messages and check\n    cy.postMessage('Hello' + Date.now());\n    cy.postMessage(message);\n    checkQuote(message);\n  });\n});","err":{},"uuid":"3b9fdf18-9953-4d95-8ed2-c932596ddc34","parentUUID":"5252c5a6-daa2-4663-8059-e8e4e09aa8d6","isHook":false,"skipped":false}],"suites":[],"passes":["3b9fdf18-9953-4d95-8ed2-c932596ddc34"],"failures":[],"pending":[],"skipped":[],"duration":15119,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"9723bf41-150c-4eff-991e-4302f8932704","title":"","fullFile":"cypress/integration/messaging/receive_message_on_socket_reconnect_spec.js","file":"cypress/integration/messaging/receive_message_on_socket_reconnect_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"f9ff1a09-1480-4ce3-88ff-0663b82f1718","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18682-RHS fetches messages on socket reconnect when a different channel is in center","fullTitle":"Messaging M18682-RHS fetches messages on socket reconnect when a different channel is in center","timedOut":null,"duration":26501,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Connect all sockets\nwindow.mockWebsockets.forEach(function (value) {\n  value.connect();\n}); // # Post a message as another user\ncy.postMessageAs({\n  sender: _users[\"default\"]['user-1'],\n  message: 'abc',\n  channelId: townsquareChannelId\n}).wait(TIMEOUTS.SMALL); // # Click \"Reply\"\ncy.getLastPostId().then(function (rootPostId) {\n  cy.clickPostCommentIcon(rootPostId); // # Post a message\n  cy.postMessageReplyInRHS('def'); // # Change channel\n  cy.get('#sidebarItem_suscipit-4').click({\n    force: true\n  }).then(function () {\n    // # Close all sockets\n    window.mockWebsockets.forEach(function (value) {\n      if (value.close) {\n        value.close();\n      }\n    }); // # Post message as a different user\n    cy.postMessageAs({\n      sender: _users[\"default\"]['user-1'],\n      message: 'ghi',\n      channelId: townsquareChannelId,\n      rootId: rootPostId\n    }); // # Wait a short time to check whether the message appears or not\n    cy.wait(TIMEOUTS.SMALL); // * Verify that only \"def\" is posted and not \"ghi\"\n    cy.get('#rhsPostList').should('be.visible').children().should('have.length', 1);\n    cy.get('#rhsPostList').within(function () {\n      cy.findByText('def').should('be.visible');\n      cy.queryByText('ghi').should('not.exist');\n    }).then(function () {\n      // * Connect all sockets one more time\n      window.mockWebsockets.forEach(function (value) {\n        value.connect();\n      }); // # Wait for sockets to be connected\n      cy.wait(TIMEOUTS.MEDIUM); // * Verify that both \"def\" and \"ghi\" are posted on websocket reconnect\n      cy.get('#rhsPostList').should('be.visible').children().should('have.length', 2);\n      cy.get('#rhsPostList').within(function () {\n        cy.findByText('def').should('be.visible');\n        cy.findByText('ghi').should('be.visible');\n      });\n    });\n  });\n});","err":{},"uuid":"b74e376f-b29d-4dac-ad94-5c7b55316d44","parentUUID":"f9ff1a09-1480-4ce3-88ff-0663b82f1718","isHook":false,"skipped":false}],"suites":[],"passes":["b74e376f-b29d-4dac-ad94-5c7b55316d44"],"failures":[],"pending":[],"skipped":[],"duration":26501,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"2e8b5e14-16ba-4b2c-a80f-eed72109d6b6","title":"","fullFile":"cypress/integration/messaging/remove_gif_spec.js","file":"cypress/integration/messaging/remove_gif_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8d18a058-7411-4065-899c-433d44886ae3","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18692-Delete a GIF from RHS reply thread, other user viewing in center and RHS sees GIF preview disappear from both","fullTitle":"Messaging M18692-Delete a GIF from RHS reply thread, other user viewing in center and RHS sees GIF preview disappear from both","timedOut":null,"duration":22220,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Type message to use\ncy.postMessage('123'); // # Click Reply button\ncy.clickPostCommentIcon(); // # Write message on reply box\ncy.postMessageReplyInRHS('https://media1.giphy.com/media/l41lM6sJvwmZNruLe/giphy.gif'); // # Change user and go to Town Square\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square'); // # Wait for the page to be loaded\ncy.wait(TIMEOUTS.SMALL); // # Click Reply button to open the RHS\ncy.clickPostCommentIcon(); // # Remove message from the other user\ncy.getLastPostId().as('postId').then(function (postId) {\n  // * Can view the gif on main view\n  cy.get(\"#post_\".concat(postId)).find('.attachment__image').should('exist'); // * Can view the gif on RHS\n  cy.get(\"#rhsPost_\".concat(postId)).find('.attachment__image').should('exist'); // # Delete the message\n  cy.externalRequest({\n    user: sysadmin,\n    method: 'DELETE',\n    path: \"posts/\".concat(postId)\n  }); // # Wait for the message to be deleted\n  cy.wait(TIMEOUTS.TINY); // * Cannot view the gif on main channel\n  cy.get(\"#post_\".concat(postId)).find('.attachment__image').should('not.exist'); // * Should see (message deleted)\n  cy.get(\"#post_\".concat(postId)).should('contain', '(message deleted'); // * Cannot view the gif on RHS\n  cy.get(\"#rhsPost_\".concat(postId)).find('.attachment__image').should('not.exist'); // * Should see (message deleted)\n  cy.get(\"#rhsPost_\".concat(postId)).should('contain', '(message deleted'); // # Refresh the website and wait for it to be loaded\n  cy.reload();\n  cy.wait(TIMEOUTS.SMALL); // * The RHS is closed\n  cy.get('#rhsCloseButton').should('not.exist'); // * Should see (message deleted)\n  cy.get(\"#post_\".concat(postId)).should('not.exist'); // # Log in as the other user and go to town square\n  cy.apiLogin('sysadmin');\n  cy.visit('/ad-1/channels/town-square'); // * The post should not exist\n  cy.get(\"#post_\".concat(postId)).should('not.exist');\n});","err":{},"uuid":"1dd20803-e779-4ad6-910a-9a3fde21e91e","parentUUID":"8d18a058-7411-4065-899c-433d44886ae3","isHook":false,"skipped":false},{"title":"M18692-Delete a GIF from RHS reply thread, other user viewing in center and RHS sees GIF preview disappear from both (mobile view)","fullTitle":"Messaging M18692-Delete a GIF from RHS reply thread, other user viewing in center and RHS sees GIF preview disappear from both (mobile view)","timedOut":null,"duration":11509,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Type message to use\ncy.postMessage('123'); // # Click Reply button\ncy.clickPostCommentIcon(); // # Write message on reply box\ncy.postMessageReplyInRHS('https://media1.giphy.com/media/l41lM6sJvwmZNruLe/giphy.gif'); // # Change user and go to Town Square\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square'); // # Change viewport so it has mobile view\ncy.viewport('iphone-6'); // # Click Reply button to open the Message Details\ncy.clickPostCommentIcon(); // # Remove message from the other user\ncy.getLastPostId().as('postId').then(function (postId) {\n  // * Can view the gif on Message Details\n  cy.get(\"#rhsPost_\".concat(postId)).find('.attachment__image').should('exist').and('be.visible'); // # Close Message Details\n  cy.get('#sbrSidebarCollapse').click(); // * Can view the gif on main view\n  cy.get(\"#post_\".concat(postId)).find('.attachment__image').should('exist').and('be.visible'); // # Click Reply button to open the Message Details\n  cy.clickPostCommentIcon(); // # Delete the message\n  cy.externalRequest({\n    user: sysadmin,\n    method: 'DELETE',\n    path: \"posts/\".concat(postId)\n  }); // # Wait for the message to be deleted\n  cy.wait(TIMEOUTS.TINY); // * Cannot view the gif on main channel\n  cy.get(\"#post_\".concat(postId)).find('.attachment__image').should('not.exist'); // * Cannot view the gif on RHS\n  cy.get(\"#rhsPost_\".concat(postId)).find('.attachment__image').should('not.exist'); // # Log in as the other user and go to town square\n  cy.apiLogin('sysadmin');\n  cy.visit('/ad-1/channels/town-square'); // * The post should not exist\n  cy.get(\"#post_\".concat(postId)).should('not.exist');\n});","err":{},"uuid":"fdb16819-a527-41ba-a23e-5fc5d5f27b5d","parentUUID":"8d18a058-7411-4065-899c-433d44886ae3","isHook":false,"skipped":false}],"suites":[],"passes":["1dd20803-e779-4ad6-910a-9a3fde21e91e","fdb16819-a527-41ba-a23e-5fc5d5f27b5d"],"failures":[],"pending":[],"skipped":[],"duration":33729,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"1804cbd6-baa0-41e5-adfc-4133184868a1","title":"","fullFile":"cypress/integration/messaging/remove_last_post_in_channel_spec.js","file":"cypress/integration/messaging/remove_last_post_in_channel_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"d69fff90-844f-485a-831d-41b5b4d3584b","title":"Remove Last Post","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18716 Remove last post in channel","fullTitle":"Remove Last Post M18716 Remove last post in channel","timedOut":null,"duration":8190,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Wait a few ms for the user to be created before sending the test message\ncy.wait(TIMEOUTS.SMALL); // # Post test message\ncy.postMessage('Test');\ncy.getLastPostId().then(function (postId) {\n  cy.clickPostDotMenu(postId); // # Delete the last post\n  cy.get(\"#delete_post_\".concat(postId)).click(); // # Confirm deletion\n  cy.get('#deletePostModalButton').click(); // * Check that the user has not been re-directed to another channel\n  cy.url().should('eq', \"\".concat(baseUrl, \"/ad-1/messages/@\").concat(username));\n});","err":{},"uuid":"539e71e5-ba06-402d-8ac0-00d9682eb934","parentUUID":"d69fff90-844f-485a-831d-41b5b4d3584b","isHook":false,"skipped":false}],"suites":[],"passes":["539e71e5-ba06-402d-8ac0-00d9682eb934"],"failures":[],"pending":[],"skipped":[],"duration":8190,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"10635452-0ef7-4a73-a29a-6a5656f07056","title":"","fullFile":"cypress/integration/messaging/scroll_channel_messages_spec.js","file":"cypress/integration/messaging/scroll_channel_messages_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"4b3533e6-27ad-449e-9d49-0c8dfd9483f6","title":"Scroll channel`s messages in mobile view","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18759 - detect change in floating timestamp","fullTitle":"Scroll channel`s messages in mobile view M18759 - detect change in floating timestamp","timedOut":null,"duration":9543,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var date; // # Post a day old message\nfor (var j = 2; j >= 0; j--) {\n  date = Cypress.moment().add(j, 'days').valueOf();\n  for (var i = 0; i < 5; i++) {\n    cy.postMessageAs({\n      sender: sysadmin,\n      message: \"Hello \\n from \\n other \\n day \\n - \".concat(j),\n      channelId: newChannel.id,\n      createAt: date\n    });\n  }\n} // # reload to see correct changes\n\ncy.reload();\nvar twoDaysAgo = Cypress.moment(); // # set date 3 days fron now because channel created today and scroll not working because of it\ncy.clock(Cypress.moment().add(2, 'days').valueOf(), ['Date']); // * check date on scroll and save it\ncy.findAllByTestId('postView').eq(15).scrollIntoView(); // * check date on scroll is today\ncy.findByTestId('floatingTimestamp').should('be.visible').and('have.text', 'Today'); // * check date on scroll and save it\ncy.findAllByTestId('postView').eq(10).scrollIntoView(); // * check date on scroll is yesterday\ncy.findByTestId('floatingTimestamp').should('be.visible').and('have.text', 'Yesterday'); // * check date on scroll and save it\ncy.findAllByTestId('postView').eq(4).scrollIntoView(); // * check date on scroll is two days ago\ncy.findByTestId('floatingTimestamp').should('be.visible').and('have.text', twoDaysAgo.format('ddd, MMM DD, YYYY'));","err":{},"uuid":"4dd31076-3eac-426d-869b-e5aa6431303d","parentUUID":"4b3533e6-27ad-449e-9d49-0c8dfd9483f6","isHook":false,"skipped":false}],"suites":[],"passes":["4dd31076-3eac-426d-869b-e5aa6431303d"],"failures":[],"pending":[],"skipped":[],"duration":9543,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b7d8f3f5-9423-4d84-aa8a-6f04cb01dcfe","title":"","fullFile":"cypress/integration/messaging/send_message_via_profile_popover_spec.js","file":"cypress/integration/messaging/send_message_via_profile_popover_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"0bcb4edf-9c06-4c31-9534-10ff520c8ff8","title":"Profile popover","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M19908 Send message in profile popover take to DM channel","fullTitle":"Profile popover M19908 Send message in profile popover take to DM channel","timedOut":null,"duration":33496,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/send_message_via_profile_popover_spec.js/Profile popover -- M19908 Send message in profile popover take to DM channel (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/send_message_via_profile_popover_spec.js/Profile popover -- M19908 Send message in profile popover take to DM channel (failed).png\"\n}","code":"// # Login as \"user-1\" and visit '/ad-1/channels/town-square\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square');\ncy.waitUntil(function () {\n  return cy.getLastPost().then(function (el) {\n    var postedMessageEl = el.find('.post-message__text > p')[0];\n    return Boolean(postedMessageEl && postedMessageEl.textContent.includes(message));\n  });\n});\ncy.getLastPostId().then(function (lastPostId) {\n  // # On default viewport width of 1300\n  // # Click profile icon to open profile popover. Click \"Send Message\" and verify redirects to DM channel\n  verifyDMChannelViaSendMessage(lastPostId, '.status-wrapper', newUser); // # Click username to open profile popover. Click \"Send Message\" and verify redirects to DM channel\n  verifyDMChannelViaSendMessage(lastPostId, '.user-popover', newUser); // # On mobile view\n  cy.viewport('iphone-6'); // # Click profile icon to open profile popover. Click \"Send Message\" and verify redirects to DM channel\n  verifyDMChannelViaSendMessage(lastPostId, '.status-wrapper', newUser); // # Click username to open profile popover. Click \"Send Message\" and verify redirects to DM channel\n  verifyDMChannelViaSendMessage(lastPostId, '.user-popover', newUser);\n});","err":{"message":"CypressError: Timed out retrying: expected '<button.status-wrapper.style--none.>' to be 'visible'\n\nThis element '<button.status-wrapper.style--none.>' is not visible because it has CSS property: 'position: fixed' and its being covered by another element:\n\n<div class=\"post__img\">...</div>","estack":"CypressError: Timed out retrying: expected '<button.status-wrapper.style--none.>' to be 'visible'\n\nThis element '<button.status-wrapper.style--none.>' is not visible because it has CSS property: 'position: fixed' and its being covered by another element:\n\n<div class=\"post__img\">...</div>\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"318d3c00-7135-4dfe-ac30-0c9f45633a0a","parentUUID":"0bcb4edf-9c06-4c31-9534-10ff520c8ff8","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["318d3c00-7135-4dfe-ac30-0c9f45633a0a"],"pending":[],"skipped":[],"duration":33496,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"e0e4b592-f356-40b2-9b68-187ac43e3ea1","title":"","fullFile":"cypress/integration/messaging/strikethrough_spec.js","file":"cypress/integration/messaging/strikethrough_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"ebd91f46-9421-41b2-87f7-65512639f7c4","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18710-Edit post with \"strikethrough\" and ensure channel auto-complete closes after second tilde (~~)","fullTitle":"Messaging M18710-Edit post with \"strikethrough\" and ensure channel auto-complete closes after second tilde (~~)","timedOut":null,"duration":6734,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var message = 'Hello' + Date.now();\ncy.visit('/ad-1/channels/town-square'); // # Post message to use\ncy.postMessage(message); // # Hit up arrow to open edit modal\ncy.get('#post_textbox', {\n  timeout: TIMEOUTS.LARGE\n}).clear().type('{uparrow}'); // # Type first tilde (a{backspace} used so cursor is in the textbox and {home} gets us to the beginning of the line)\ncy.get('#edit_textbox').type('a{backspace}{home}~');\ncy.wait(TIMEOUTS.TINY); // # Channel autocomplete should show\ncy.get('#suggestionList').should('exist'); // # Write the second tilde\ncy.get('#edit_textbox').type('{home}{rightarrow}~'); // * Channel autocomplete should have closed\ncy.get('#suggestionList').should('not.exist'); // # Go to the end of the line and type the first tilde\ncy.get('#edit_textbox').type('{end} ~');\ncy.wait(TIMEOUTS.TINY); // # Channel autocomplete should show\ncy.get('#suggestionList').should('exist'); // # Write the second tilde\ncy.get('#edit_textbox').type('{end}~'); // * Channel autocomplete should close\ncy.get('#suggestionList').should('not.exist'); // # Remove the whitespace\ncy.get('#edit_textbox').type('{end}{leftarrow}{leftarrow}{backspace}'); // * Channel autocomplete should still not exist\ncy.get('#suggestionList').should('not.exist'); // # Save the changes\ncy.get('#editButton').click({\n  force: true\n});\ncy.getLastPostId().then(function (postId) {\n  // * Message strikedthrough should be the same message we posted\n  cy.get(\"#postMessageText_\".concat(postId)).find('del').should('contain', message).and('have.css', 'text-decoration', 'line-through solid rgb(61, 60, 64)');\n  cy.get(\"#postEdited_\".concat(postId)).should('be.visible').and('have.text', '(edited)');\n});","err":{},"uuid":"88b3b694-b2fd-4163-8e99-0412ad804708","parentUUID":"ebd91f46-9421-41b2-87f7-65512639f7c4","isHook":false,"skipped":false}],"suites":[],"passes":["88b3b694-b2fd-4163-8e99-0412ad804708"],"failures":[],"pending":[],"skipped":[],"duration":6734,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"fe624261-908b-48dc-9ee8-d51556a8a017","title":"","fullFile":"cypress/integration/messaging/system_message_limited_options_spec.js","file":"cypress/integration/messaging/system_message_limited_options_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"025826f2-24d8-498c-aca3-db4927b8ca52","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M17458 - System message limited options","fullTitle":"Messaging M17458 - System message limited options","timedOut":null,"duration":29087,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/messaging/system_message_limited_options_spec.js/Messaging -- M17458 - System message limited options (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/messaging/system_message_limited_options_spec.js/Messaging -- M17458 - System message limited options (failed).png\"\n}","code":"// # Update channel header to create a new system message\ncy.updateChannelHeader(Date.now()); // # Get system message Id\ncy.getLastPostId().then(function (lastPostId) {\n  // # Mouse over the post to show the options\n  cy.get(\"#post_\".concat(lastPostId)).trigger('mouseover', {\n    force: true\n  });\n  cy.wait(TIMEOUTS.TINY); // * No option to reply this post\n  cy.get(\"#CENTER_commentIcon_\".concat(lastPostId)).should('not.exist'); // * No option to react to this post\n  cy.get(\"#CENTER_reaction_\".concat(lastPostId)).should('not.exist'); // # Click in the '...' button\n  cy.get(\"#CENTER_button_\".concat(lastPostId)).click({\n    force: true\n  });\n  cy.wait(TIMEOUTS.TINY); // # Get all list elements in the dropdown\n  cy.get(\"#CENTER_dropdown_\".concat(lastPostId)).find('li').then(function (items) {\n    // * Must be only 1 element\n    expect(items.length).to.equal(1); // * The element must be delete\n    expect(items[0].id).to.equal(\"delete_post_\".concat(lastPostId));\n  }); // # Log-in as a different user\n  cy.apiLogin('user-1');\n  cy.visit('/ad-1/channels/town-square'); // # Mouse over the post to show the options\n  cy.get(\"#post_\".concat(lastPostId)).trigger('mouseover', {\n    force: true\n  });\n  cy.wait(TIMEOUTS.TINY); // * No option should appear\n  cy.get(\"#CENTER_commentIcon_\".concat(lastPostId)).should('not.exist');\n  cy.get(\"#CENTER_reaction_\".concat(lastPostId)).should('not.exist');\n  cy.get(\"#CENTER_button_\".concat(lastPostId)).should('not.exist');\n});","err":{"message":"CypressError: Timed out retrying: Expected <button#CENTER_button_tzcd7u6uptdpzx45eyqcexj6sc.post-menu__item> not to exist in the DOM, but it was continuously found.","estack":"CypressError: Timed out retrying: Expected <button#CENTER_button_tzcd7u6uptdpzx45eyqcexj6sc.post-menu__item> not to exist in the DOM, but it was continuously found.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"861e6127-5fc3-42dc-9dc0-871ca1f54acc","parentUUID":"025826f2-24d8-498c-aca3-db4927b8ca52","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["861e6127-5fc3-42dc-9dc0-871ca1f54acc"],"pending":[],"skipped":[],"duration":29087,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"bde06a8b-645c-4b22-af16-a39184a9e131","title":"","fullFile":"cypress/integration/messaging/system_message_spec.js","file":"cypress/integration/messaging/system_message_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5266ad18-c67e-46f9-8945-e35abf0bd022","title":"System Message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-14636 - Validate that system message is wrapping properly","fullTitle":"System Message MM-14636 - Validate that system message is wrapping properly","timedOut":null,"duration":15558,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var newHeader = \"\".concat(Date.now(), \" newheader\"); // # Update channel header textbox\ncy.updateChannelHeader(\"> \".concat(newHeader)); // * Check the status update\ncy.getLastPost().should('contain', 'System').and('contain', '@user-1 updated the channel header to:').and('contain', newHeader);\nvar validateSingle = function validateSingle(desc) {\n  var lines = getLines(desc.find('p').last());\n  assert(lines === 1, 'second line of the message should be a short one');\n};\ncy.getLastPost().then(validateSingle); // # Update the status to a long string\ncy.updateChannelHeader('> ' + newHeader.repeat(20)); // * Check that the status is updated and is spread on more than one line\ncy.getLastPost().should('contain', 'System').and('contain', '@user-1 updated the channel header from:').and('contain', newHeader).and('contain', 'to:').and('contain', newHeader.repeat(20));\nvar validateMulti = function validateMulti(desc) {\n  var lines = getLines(desc.find('p').last());\n  assert(lines > 1, 'second line of the message should be a long one');\n};\ncy.getLastPost().then(validateMulti);","err":{},"uuid":"4a09b64e-ccad-4f06-bf84-02827e16badc","parentUUID":"5266ad18-c67e-46f9-8945-e35abf0bd022","isHook":false,"skipped":false}],"suites":[],"passes":["4a09b64e-ccad-4f06-bf84-02827e16badc"],"failures":[],"pending":[],"skipped":[],"duration":15558,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"abf0d2c2-8ef3-4506-b02b-cdba71118506","title":"","fullFile":"cypress/integration/messaging/tooltip_visual_verification_spec.js","file":"cypress/integration/messaging/tooltip_visual_verification_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"47b2a28d-9b6a-41c0-a177-326a462f9d36","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18697 - Visual verification of tooltips on post hover menu","fullTitle":"Messaging M18697 - Visual verification of tooltips on post hover menu","timedOut":null,"duration":9373,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.getLastPostId().then(function (postId) {\n  verifyToolTip(postId, \"#CENTER_button_\".concat(postId), 'More actions');\n  verifyToolTip(postId, \"#CENTER_reaction_\".concat(postId), 'Add Reaction');\n  verifyToolTip(postId, \"#CENTER_commentIcon_\".concat(postId), 'Reply');\n});","err":{},"uuid":"1aca4d06-9e9d-4eab-b996-d55b190bd5c2","parentUUID":"47b2a28d-9b6a-41c0-a177-326a462f9d36","isHook":false,"skipped":false}],"suites":[],"passes":["1aca4d06-9e9d-4eab-b996-d55b190bd5c2"],"failures":[],"pending":[],"skipped":[],"duration":9373,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"8a0d5664-a0a1-497e-b976-b8192a0e2d21","title":"","fullFile":"cypress/integration/messaging/typing_on_middle_spec.js","file":"cypress/integration/messaging/typing_on_middle_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"e910befb-5e34-47d3-a5cd-6f1fb9535b71","title":"Messaging","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M18683-Trying to type in middle of text should not send the cursor to end of textbox","fullTitle":"Messaging M18683-Trying to type in middle of text should not send the cursor to end of textbox","timedOut":null,"duration":9477,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Type message to use\ncy.get('#post_textbox').clear().type('aa'); // # Move the cursor and keep typing\ncy.get('#post_textbox').click().type('{leftarrow}b'); // # Wait for the cursor to move in failing case\ncy.wait(TIMEOUTS.SMALL); // # Write another letter\ncy.get('#post_textbox').type('c'); // * Should contain abca instead of aabc or abac\ncy.get('#post_textbox').should('contain', 'abca');","err":{},"uuid":"7cb3f9c3-dd51-4a26-ae75-187dd1801bf5","parentUUID":"e910befb-5e34-47d3-a5cd-6f1fb9535b71","isHook":false,"skipped":false}],"suites":[],"passes":["7cb3f9c3-dd51-4a26-ae75-187dd1801bf5"],"failures":[],"pending":[],"skipped":[],"duration":9477,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b8e96608-6fa8-4a7b-802e-52be8a261802","title":"","fullFile":"cypress/integration/multi_team_and_dm/existing_channel_name_spec.js","file":"cypress/integration/multi_team_and_dm/existing_channel_name_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"9634edf1-8981-4f4b-aa3e-b114ec01cf6a","title":"Channel","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Mult14635 Should not create new channel with existing public channel name","fullTitle":"Channel Mult14635 Should not create new channel with existing public channel name","timedOut":null,"duration":6429,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create a new private channel\ncreateNewChannel(\"unique-public-\".concat(Date.now()), true).as('channel');\ncy.reload();\ncy.get('@channel').then(function (channel) {\n  // * Verify new public or private channel cannot be created with existing private channel name:\n  channelNameTest('PUBLIC CHANNELS', channel);\n});","err":{},"uuid":"437d00ce-08c6-4cb5-853c-7392f465d234","parentUUID":"9634edf1-8981-4f4b-aa3e-b114ec01cf6a","isHook":false,"skipped":false},{"title":"Mult14635 Should not create new channel with existing private channel name","fullTitle":"Channel Mult14635 Should not create new channel with existing private channel name","timedOut":null,"duration":4874,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create a new private channel\ncreateNewChannel(\"unique-private-\".concat(Date.now()), true).as('channel');\ncy.reload();\ncy.get('@channel').then(function (channel) {\n  // * Verify new public or private channel cannot be created with existing private channel name:\n  channelNameTest('PRIVATE CHANNELS', channel);\n});","err":{},"uuid":"fd840f54-4d55-4289-b398-e1945306a070","parentUUID":"9634edf1-8981-4f4b-aa3e-b114ec01cf6a","isHook":false,"skipped":false}],"suites":[],"passes":["437d00ce-08c6-4cb5-853c-7392f465d234","fd840f54-4d55-4289-b398-e1945306a070"],"failures":[],"pending":[],"skipped":[],"duration":11303,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"da1fdebf-bf51-487d-b7f5-86e392f7d1a1","title":"","fullFile":"cypress/integration/multi_team_and_dm/system_message_spec.js","file":"cypress/integration/multi_team_and_dm/system_message_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"a4e2ca7a-c2c7-47db-8e19-0895247cd40a","title":"System message","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Mult15240 - should have no status with compact display","fullTitle":"System message Mult15240 - should have no status with compact display","timedOut":null,"duration":5533,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Set message display\ncy.apiSaveMessageDisplayPreference(type); // # Get last post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).as('SystemMessage');\n}); // * Verify it is a system message and that the status icon is not visible\nverifySystemMessage('@SystemMessage');","err":{},"uuid":"c083b305-c78d-4775-b9b1-686206c9dd48","parentUUID":"a4e2ca7a-c2c7-47db-8e19-0895247cd40a","isHook":false,"skipped":false},{"title":"Mult15240 - should have no status with clean display","fullTitle":"System message Mult15240 - should have no status with clean display","timedOut":null,"duration":308,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Set message display\ncy.apiSaveMessageDisplayPreference(type); // # Get last post\ncy.getLastPostId().then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).as('SystemMessage');\n}); // * Verify it is a system message and that the status icon is not visible\nverifySystemMessage('@SystemMessage');","err":{},"uuid":"1c6ccc90-a8c6-455c-bcf5-4da8451ee48e","parentUUID":"a4e2ca7a-c2c7-47db-8e19-0895247cd40a","isHook":false,"skipped":false}],"suites":[],"passes":["c083b305-c78d-4775-b9b1-686206c9dd48","1c6ccc90-a8c6-455c-bcf5-4da8451ee48e"],"failures":[],"pending":[],"skipped":[],"duration":5841,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"934b11cd-ac01-485e-8ac3-c3b25c22205a","title":"","fullFile":"cypress/integration/onboarding/existing_email_adress_spec.js","file":"cypress/integration/onboarding/existing_email_adress_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"dfe7e0e8-57f2-4369-83c6-984eb9d4e4ad","title":"Email Address","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"On14634 Email address already exists","fullTitle":"Email Address On14634 Email address already exists","timedOut":null,"duration":7034,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Signup a new user with an email address and user generated in signupWithEmail\nsignupWithEmail('unique.' + uniqueUserId, 'unique1pw'); // * Verify there is Logout Button\ncy.contains('Logout').should('be.visible'); // * Verify 'Teams you can join' is visible\ncy.get('#teamsYouCanJoinContent').should('be.visible'); // * Verify the link to create a new team is available\ncy.get('#createNewTeamLink').should('have.attr', 'href', '/create_team').and('be.visible', 'contain', 'Create a team'); // # Logout and signup another user with the same email but different username and password\ncy.apiLogout();\nsignupWithEmail('unique-2', 'unique2pw'); // * Error message displays below the Create Account button that says \"An account with that email already exists\"\ncy.get('#existingEmailErrorContainer').should('contain', 'An account with that email already exists');","err":{},"uuid":"f3bcf792-8b57-46d7-a58e-2b3215306fe0","parentUUID":"dfe7e0e8-57f2-4369-83c6-984eb9d4e4ad","isHook":false,"skipped":false}],"suites":[],"passes":["f3bcf792-8b57-46d7-a58e-2b3215306fe0"],"failures":[],"pending":[],"skipped":[],"duration":7034,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"7e9abbeb-6c9b-4981-b1a6-2e380e6e8cc6","title":"","fullFile":"cypress/integration/onboarding/tutorial_navigation_and_links_spec.js","file":"cypress/integration/onboarding/tutorial_navigation_and_links_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"9a400d2e-1ada-4404-ba37-0119f9744033","title":"Test Tutorial Navigation","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"On13989 - Tutorial Navigation and Links","fullTitle":"Test Tutorial Navigation On13989 - Tutorial Navigation and Links","timedOut":null,"duration":14787,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check that step one displays after new user signs in.\ncheckStepOne(); // # Click the second dot\ncy.get('#tutorialIntroCircle1').click(); // * Verify the second step displays.\ncheckStepTwo(); // # Click the third dot.\ncy.get('#tutorialIntroCircle2').click(); // * Verify the third step displays.\ncheckStepThree(); // # click the first dot.\ncy.get('#tutorialIntroCircle0').click(); // * Verify that the user returns to the first step.\ncheckStepOne(); // # Click the Next button.\ncy.get('#tutorialNextButton').click(); // * Verify that the second step displays.\ncheckStepTwo(); // * Test the App Download Image link to ensure it returns a 200 result.\ncy.get('#appDownloadImage').should('have.attr', 'href').then(function (href) {\n  cy.request(href).its('status').should('equal', 200);\n}); //* Check the Off-Topic sidebar link to ensure it is not active.\ncy.get('#sidebarItem_off-topic').parent().should('not.have.class', 'active'); // # Click the Off-Topic sidebar link\ncy.get('#sidebarItem_off-topic').click(); // * Verify the Off-Topic sidebar link is now active.\ncy.get('#sidebarItem_off-topic').parent().should('have.class', 'active'); // * Verify that the second step of the tutorial still displays:\ncheckStepTwo(); // # Click the Next button\ncy.get('#tutorialNextButton').click(); // * Verify that the third step displays.\ncheckStepThree(); // # Click the Next button.\ncy.get('#tutorialNextButton').click(); // * Verify that the Off-Topic channel displays.\ncheckOffTopicChannel(); // # Log the current user out.\ncy.apiLogout(); // # Create another new user with the tutorial bypass flag set to false.\ncy.apiLogin('sysadmin');\ncy.apiCreateAndLoginAsNewUser({}, [team.id], false);\ncy.visit(\"/\".concat(team.name, \"/channels/town-square\")); // * Verify that the first step of the tutorial displays.\ncheckStepOne(); // # Click the Skip Tutorial link.\ncy.get('#tutorialSkipLink').click(); // * Verify that the default Town Square channel displays.\ncheckTownSquare();","err":{},"uuid":"34dc0ea3-83fe-4cd3-a0a1-9bd4a4be6b2f","parentUUID":"9a400d2e-1ada-4404-ba37-0119f9744033","isHook":false,"skipped":false}],"suites":[],"passes":["34dc0ea3-83fe-4cd3-a0a1-9bd4a4be6b2f"],"failures":[],"pending":[],"skipped":[],"duration":14787,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c7c4843e-8c2f-4e50-ab72-34109d02b302","title":"","fullFile":"cypress/integration/plugins/marketplace/marketplace_spec.js","file":"cypress/integration/plugins/marketplace/marketplace_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"de0ebf3b-0100-4ccf-ae9d-824018c90c24","title":"Plugin Marketplace","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"45e126b1-e739-47c2-8e3c-b3b740ff81da","title":"should not render in main menu","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"for non-admin","fullTitle":"Plugin Marketplace should not render in main menu for non-admin","timedOut":null,"duration":1203,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as sysadmin\ncy.apiLogin('sysadmin'); // # Enable Plugin Marketplace\ncy.apiUpdateConfig({\n  PluginSettings: {\n    Enable: true,\n    EnableMarketplace: true,\n    MarketplaceUrl: 'https://api.integrations.mattermost.com'\n  }\n}); // # Login as non admin user\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square');","err":{},"uuid":"84c37d62-efdd-4c52-a23f-7a9f611dcd79","parentUUID":"45e126b1-e739-47c2-8e3c-b3b740ff81da","isHook":false,"skipped":false},{"title":"when marketplace disabled","fullTitle":"Plugin Marketplace should not render in main menu when marketplace disabled","timedOut":null,"duration":644,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as sysadmin\ncy.apiLogin('sysadmin'); // # Disable Plugin Marketplace\ncy.apiUpdateConfig({\n  PluginSettings: {\n    Enable: true,\n    EnableMarketplace: false,\n    MarketplaceUrl: 'https://api.integrations.mattermost.com'\n  }\n}); // # Visit town-square channel\ncy.visit('/ad-1/channels/town-square');","err":{},"uuid":"df779f14-d6b7-41b1-a2c5-b206128e5e48","parentUUID":"45e126b1-e739-47c2-8e3c-b3b740ff81da","isHook":false,"skipped":false},{"title":"when plugins disabled","fullTitle":"Plugin Marketplace should not render in main menu when plugins disabled","timedOut":null,"duration":504,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as sysadmin\ncy.apiLogin('sysadmin'); // # Disable Plugin\n// # Enable Plugin Marketplace\ncy.apiUpdateConfig({\n  PluginSettings: {\n    Enable: false,\n    EnableMarketplace: true,\n    MarketplaceUrl: 'https://api.integrations.mattermost.com'\n  }\n}); // # Visit town-square channel\ncy.visit('/ad-1/channels/town-square');","err":{},"uuid":"0a1bd6e5-8109-4e97-a4c5-1fbd0cdde606","parentUUID":"45e126b1-e739-47c2-8e3c-b3b740ff81da","isHook":false,"skipped":false}],"suites":[],"passes":["84c37d62-efdd-4c52-a23f-7a9f611dcd79","df779f14-d6b7-41b1-a2c5-b206128e5e48","0a1bd6e5-8109-4e97-a4c5-1fbd0cdde606"],"failures":[],"pending":[],"skipped":[],"duration":2351,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"a3b106b9-d06b-4336-91c7-03f593c49694","title":"invalid marketplace, should","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"render an error bar","fullTitle":"Plugin Marketplace invalid marketplace, should render an error bar","timedOut":null,"duration":2776,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Should be an error connecting to the marketplace server\ncy.get('#error_bar').contains('Error connecting to the marketplace server');","err":{},"uuid":"9a663c78-805e-4b76-94c0-a7e42d3a6974","parentUUID":"a3b106b9-d06b-4336-91c7-03f593c49694","isHook":false,"skipped":false},{"title":"show an error bar on failing to filter","fullTitle":"Plugin Marketplace invalid marketplace, should show an error bar on failing to filter","timedOut":null,"duration":2179,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Enable Plugin Marketplace\ncy.apiUpdateConfig({\n  PluginSettings: {\n    Enable: true,\n    EnableMarketplace: true,\n    MarketplaceUrl: 'example.com'\n  }\n}); // # filter to jira plugin only\ncy.get('#searchMarketplaceTextbox').type('jira', {\n  force: true\n}); // * Should be an error connecting to the marketplace server\ncy.get('#error_bar').contains('Error connecting to the marketplace server');","err":{},"uuid":"b95ffa09-ebdf-45a7-8f5b-7e858dcd3fee","parentUUID":"a3b106b9-d06b-4336-91c7-03f593c49694","isHook":false,"skipped":false},{"title":"display installed plugins and error bar","fullTitle":"Plugin Marketplace invalid marketplace, should display installed plugins and error bar","timedOut":null,"duration":23625,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/plugins/marketplace/marketplace_spec.js/Plugin Marketplace -- invalid marketplace, should -- display installed plugins and error bar (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/plugins/marketplace/marketplace_spec.js/Plugin Marketplace -- invalid marketplace, should -- display installed plugins and error bar (failed).png\"\n}","code":"// * install one plugin\ncy.installPluginFromUrl('https://github.com/mattermost/mattermost-plugin-github/releases/download/v0.7.0/github-0.7.0.tar.gz', true); // * one local plugin should be visible\ncy.get('#marketplaceTabs-pane-allPlugins').find('.more-modal__row').should('have.length', 1); // * Should be an error connecting to the marketplace server\ncy.get('#error_bar').contains('Error connecting to the marketplace server');","err":{"message":"CypressError: Timed out retrying: Too many elements found. Found '11', expected '1'.","estack":"CypressError: Timed out retrying: Too many elements found. Found '11', expected '1'.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"539e91be-16a1-4a63-806d-d8109bedf640","parentUUID":"a3b106b9-d06b-4336-91c7-03f593c49694","isHook":false,"skipped":false}],"suites":[],"passes":["9a663c78-805e-4b76-94c0-a7e42d3a6974","b95ffa09-ebdf-45a7-8f5b-7e858dcd3fee"],"failures":["539e91be-16a1-4a63-806d-d8109bedf640"],"pending":[],"skipped":[],"duration":28580,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"35c68644-ee3d-4b8d-b77a-757a2808219b","title":"should","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"autofocus on search plugin input box","fullTitle":"Plugin Marketplace should autofocus on search plugin input box","timedOut":null,"duration":2657,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.findByPlaceholderText('Search Plugins').scrollIntoView().should('be.focused');","err":{},"uuid":"27a34d2a-392f-4018-ae9b-be2a1721fec4","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"render the list of all plugins by default","fullTitle":"Plugin Marketplace should render the list of all plugins by default","timedOut":null,"duration":1953,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * all plugins tab should be active\ncy.get('#marketplaceTabs-pane-allPlugins').should('exist'); // * installed plugins tab should not be active\ncy.get('#marketplaceTabs-pane-installed').should('not.exist');","err":{},"uuid":"6daa589e-42ea-4d13-902c-afb05d13c3a6","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"render the list of installed plugins on demand","fullTitle":"Plugin Marketplace should render the list of installed plugins on demand","timedOut":null,"duration":2330,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # click on installed plugins tab\ncy.get('#marketplaceTabs-tab-installed').scrollIntoView().click(); // * all plugins tab should not be active\ncy.get('#marketplaceTabs-pane-allPlugins').should('not.exist'); // * installed plugins tab should exist\ncy.get('#marketplaceTabs-pane-installed').should('exist');","err":{},"uuid":"85b92172-e92a-4c35-a6b6-ff05bd589d11","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"should close the modal on demand","fullTitle":"Plugin Marketplace should should close the modal on demand","timedOut":null,"duration":2031,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # close marketplace modal\ncy.get('#closeIcon').click(); // * marketplace should not be visible\ncy.get('#modal_marketplace').should('not.be.visible');","err":{},"uuid":"719f8b05-b2c9-46ac-b6b9-236abb37ecde","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"should filter all on search","fullTitle":"Plugin Marketplace should should filter all on search","timedOut":null,"duration":2296,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # filter to jira plugin only\ncy.findByPlaceholderText('Search Plugins').scrollIntoView().should('be.visible').type('jira'); // * jira plugin should be visible\ncy.get('#marketplace-plugin-jira').should('be.visible'); // * no other plugins should be visible\ncy.get('#marketplaceTabs-pane-allPlugins').find('.more-modal__row').should('have.length', 1);","err":{},"uuid":"633210c7-9f89-4ef1-adf1-10edd598de7a","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"should show an error bar on failing to filter","fullTitle":"Plugin Marketplace should should show an error bar on failing to filter","timedOut":null,"duration":2448,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Enable Plugin Marketplace\ncy.apiUpdateConfig({\n  PluginSettings: {\n    Enable: true,\n    EnableMarketplace: true,\n    MarketplaceUrl: 'example.com'\n  }\n}); // # filter to jira plugin only\ncy.findByPlaceholderText('Search Plugins').should('be.visible').type('jira'); // * Should be an error connecting to the marketplace server\ncy.get('#error_bar').contains('Error connecting to the marketplace server');","err":{},"uuid":"7c2c8482-36c5-46c7-8eb3-d60d992a4222","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"should install a plugin on demand","fullTitle":"Plugin Marketplace should should install a plugin on demand","timedOut":null,"duration":4427,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # uninstall any existing webex plugin\ncy.uninstallPluginById('com.mattermost.webex'); // * webex plugin should be visible\ncy.get('#marketplace-plugin-com\\\\.mattermost\\\\.webex').scrollIntoView().should('be.visible'); // # install the webex plugin\ncy.get('#marketplace-plugin-com\\\\.mattermost\\\\.webex').find('.btn.btn-primary').click(); // * should show \"Configure\" after installation\ncy.get('#marketplace-plugin-com\\\\.mattermost\\\\.webex').find('.btn.btn-outline', {\n  timeout: 60000\n}).should('be.visible').and('have.text', 'Configure');","err":{},"uuid":"ebe74cb9-e7b1-434f-9465-5854fb925ae8","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"should install a plugin from search results on demand","fullTitle":"Plugin Marketplace should should install a plugin from search results on demand","timedOut":null,"duration":4647,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # uninstall any existing webex plugin\ncy.uninstallPluginById('com.mattermost.webex'); // # filter to webex plugin only\ncy.findByPlaceholderText('Search Plugins').should('be.visible').type('webex'); // * no other plugins should be visible\ncy.get('#marketplaceTabs-pane-allPlugins').find('.more-modal__row').should('have.length', 1); // * webex plugin should be visible\ncy.get('#marketplace-plugin-com\\\\.mattermost\\\\.webex').scrollIntoView().should('be.visible'); // # install the webex plugin\ncy.get('#marketplace-plugin-com\\\\.mattermost\\\\.webex').find('.btn.btn-primary').click(); // * should show \"Configure\" after installation\ncy.get('#marketplace-plugin-com\\\\.mattermost\\\\.webex').find('.btn.btn-outline', {\n  timeout: 60000\n}).should('be.visible').and('have.text', 'Configure'); // * search filter should be maintained\ncy.get('#marketplaceTabs-pane-allPlugins').find('.more-modal__row').should('have.length', 1);","err":{},"uuid":"a0c5be84-112c-41d4-a821-140ae1bb5050","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"should prompt to update an old GitHub plugin from all plugins","fullTitle":"Plugin Marketplace should should prompt to update an old GitHub plugin from all plugins","timedOut":null,"duration":7416,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Install GitHub 0.7.0 plugin\ncy.installPluginFromUrl('https://github.com/mattermost/mattermost-plugin-github/releases/download/v0.7.0/github-0.7.0.tar.gz', true); // # Scroll to GitHub plugin\ncy.get('#marketplace-plugin-github').scrollIntoView().should('be.visible'); // * github plugin should have update prompt\ncy.get('#marketplace-plugin-github').find('.update').should('be.visible').and('to.contain', 'Update available'); // * github plugin should have update link\ncy.get('#marketplace-plugin-github').find('.update b a').should('be.visible').and('have.text', 'Update'); // # update GitHub plugin\ncy.get('#marketplace-plugin-github .update b a').click(); // * confirmation modal should be visible\ncy.get('#confirmModal').should('be.visible'); // # confirm update\ncy.get('#confirmModal').find('.btn.btn-primary').click(); // * confirmation modal should not be visible\ncy.get('#confirmModal').should('not.be.visible'); // * github plugin update prompt should not be visible\ncy.get('#marketplace-plugin-github').find('.update').should('not.be.visible'); // * should show \"Configure\" after installation\ncy.get('#marketplace-plugin-github').find('.btn.btn-outline', {\n  timeout: 60000\n}).should('be.visible').and('have.text', 'Configure'); // * github plugin should still be visible\ncy.get('#marketplace-plugin-github').should('be.visible');","err":{},"uuid":"6be85fba-aa90-4d17-8025-843e74603001","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"change tab to \"All Plugins\" when \"Install Plugins\" link is clicked","fullTitle":"Plugin Marketplace should change tab to \"All Plugins\" when \"Install Plugins\" link is clicked","timedOut":null,"duration":2903,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#marketplaceTabs').should('exist').within(function () {\n  // # switch tab to installed plugin\n  cy.findByText(/Installed/).should('be.visible').click();\n  cy.findByText(/Installed/).should('have.attr', 'aria-selected', 'true'); // * installed plugins tab should be active\n  cy.get('#marketplaceTabs-pane-installed').should('be.visible');\n  cy.get('#marketplaceTabs-pane-allPlugins').should('not.exist'); // # click on Install Plugins should change current tab\n  cy.findByText('Install Plugins').should('be.visible').click(); // * all plugins tab should be active\n  cy.findByText('All Plugins').should('be.visible').should('have.attr', 'aria-selected', 'true'); // * all plugins pane should be active\n  cy.get('#marketplaceTabs-pane-installed').should('not.exist');\n  cy.get('#marketplaceTabs-pane-allPlugins').should('exist');\n});","err":{},"uuid":"64b190f8-c793-4876-93ce-4adafdd86ae9","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false},{"title":"should show OFFICIAL label for github plugin","fullTitle":"Plugin Marketplace should should show OFFICIAL label for github plugin","timedOut":null,"duration":0,"state":"pending","speed":null,"pass":false,"fail":false,"pending":true,"context":null,"code":"","err":{},"uuid":"2163c48a-a4f8-4e35-a365-db0f51660c4d","parentUUID":"35c68644-ee3d-4b8d-b77a-757a2808219b","isHook":false,"skipped":false}],"suites":[],"passes":["27a34d2a-392f-4018-ae9b-be2a1721fec4","6daa589e-42ea-4d13-902c-afb05d13c3a6","85b92172-e92a-4c35-a6b6-ff05bd589d11","719f8b05-b2c9-46ac-b6b9-236abb37ecde","633210c7-9f89-4ef1-adf1-10edd598de7a","7c2c8482-36c5-46c7-8eb3-d60d992a4222","ebe74cb9-e7b1-434f-9465-5854fb925ae8","a0c5be84-112c-41d4-a821-140ae1bb5050","6be85fba-aa90-4d17-8025-843e74603001","64b190f8-c793-4876-93ce-4adafdd86ae9"],"failures":[],"pending":["2163c48a-a4f8-4e35-a365-db0f51660c4d"],"skipped":[],"duration":33108,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"4b8027dd-b5f1-40a4-b6a3-57b5178afff4","title":"EnableRemoteMarketplace disabled, should","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"not display any plugins and no error bar","fullTitle":"Plugin Marketplace EnableRemoteMarketplace disabled, should not display any plugins and no error bar","timedOut":null,"duration":21987,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/plugins/marketplace/marketplace_spec.js/Plugin Marketplace -- EnableRemoteMarketplace disabled, should -- not display any plugins and no error bar (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/plugins/marketplace/marketplace_spec.js/Plugin Marketplace -- EnableRemoteMarketplace disabled, should -- not display any plugins and no error bar (failed).png\"\n}","code":"// * no plugins should be visible\ncy.get('#marketplaceTabs-pane-allPlugins').findByText('There are no plugins available at this time.'); // * no error bar should be visible\ncy.get('#error_bar').should('not.exist');","err":{"message":"CypressError: Timed out retrying: Unable to find an element with the text: There are no plugins available at this time.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.","estack":"CypressError: Timed out retrying: Unable to find an element with the text: There are no plugins available at this time.. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"e1fdc14a-ba1e-47fe-b9a6-ad33269aac9a","parentUUID":"4b8027dd-b5f1-40a4-b6a3-57b5178afff4","isHook":false,"skipped":false},{"title":"display installed plugins","fullTitle":"Plugin Marketplace EnableRemoteMarketplace disabled, should display installed plugins","timedOut":null,"duration":23917,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/plugins/marketplace/marketplace_spec.js/Plugin Marketplace -- EnableRemoteMarketplace disabled, should -- display installed plugins (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/plugins/marketplace/marketplace_spec.js/Plugin Marketplace -- EnableRemoteMarketplace disabled, should -- display installed plugins (failed).png\"\n}","code":"// * install one plugin\ncy.installPluginFromUrl('https://github.com/mattermost/mattermost-plugin-github/releases/download/v0.7.0/github-0.7.0.tar.gz', true); // * one local plugin should be visible\ncy.get('#marketplaceTabs-pane-allPlugins').find('.more-modal__row').should('have.length', 1); // * no error bar should be visible\ncy.get('#error_bar').should('not.exist');","err":{"message":"CypressError: Timed out retrying: Too many elements found. Found '11', expected '1'.","estack":"CypressError: Timed out retrying: Too many elements found. Found '11', expected '1'.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"460cf695-d373-4a7d-94bc-88be4fe86a15","parentUUID":"4b8027dd-b5f1-40a4-b6a3-57b5178afff4","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["e1fdc14a-ba1e-47fe-b9a6-ad33269aac9a","460cf695-d373-4a7d-94bc-88be4fe86a15"],"pending":[],"skipped":[],"duration":45904,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"74111e8e-87fe-44cd-9569-37be77143d70","title":"","fullFile":"cypress/integration/search_date_filter/date_filter_spec.js","file":"cypress/integration/search_date_filter/date_filter_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"f2d1dbe9-43db-4655-9ab9-14154516dc2d","title":"SF15699 Search Date Filter","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"6ff68b44-d357-4ae0-b0da-3b47de2ddf7e","title":"input date filter","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"can search for single post without adding a date filter","fullTitle":"SF15699 Search Date Filter input date filter can search for single post without adding a date filter","timedOut":null,"duration":9807,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(todayMessage, [todayMessage]);","err":{},"uuid":"35fb2dbe-1b58-4c68-b8a5-a04b17e574a2","parentUUID":"6ff68b44-d357-4ae0-b0da-3b47de2ddf7e","isHook":false,"skipped":false},{"title":"can search for posts sharing text","fullTitle":"SF15699 Search Date Filter input date filter can search for posts sharing text","timedOut":null,"duration":2670,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/search_date_filter/date_filter_spec.js/SF15699 Search Date Filter -- input date filter -- can search for posts sharing text (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/search_date_filter/date_filter_spec.js/SF15699 Search Date Filter -- input date filter -- can search for posts sharing text (failed).png\"\n}","code":"searchAndValidate(timestamp, allMessagesInOrder);","err":{"message":"CypressError: Timed out retrying: Unable to find an element by: [data-testid=\"search-item-container\"]","estack":"CypressError: Timed out retrying: Unable to find an element by: [data-testid=\"search-item-container\"]\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"a8b99b1c-c5b5-48c7-a332-9551a7a862b4","parentUUID":"6ff68b44-d357-4ae0-b0da-3b47de2ddf7e","isHook":false,"skipped":false},{"title":"with calendar picker to set date","fullTitle":"SF15699 Search Date Filter input date filter with calendar picker to set date","timedOut":null,"duration":728,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var today = Cypress.moment().format('YYYY-MM-DD'); // # Type before: in search field\ncy.get('#searchBox').clear().type('before:'); // * Day picker should be visible\ncy.get('.DayPicker').as('dayPicker').should('be.visible'); // # Select today's day\ncy.get('@dayPicker').find('.DayPicker-Day--today').click();\ncy.get('@dayPicker').should('not.exist'); // * Verify date picker output gets put into field as expected date\ncy.get('#searchBox').should('have.value', \"before:\".concat(today, \" \"));","err":{},"uuid":"4dc28dd7-faa7-4c30-b4a0-5ac44449424a","parentUUID":"6ff68b44-d357-4ae0-b0da-3b47de2ddf7e","isHook":false,"skipped":false},{"title":"backspace after last character of filter makes calendar reappear","fullTitle":"SF15699 Search Date Filter input date filter backspace after last character of filter makes calendar reappear","timedOut":null,"duration":770,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var today = Cypress.moment().format('YYYY-MM-DD'); // # Type before: in search field\ncy.get('#searchBox').clear().type('before:'); // * Day picker should be visible\ncy.get('.DayPicker').as('dayPicker').should('be.visible'); // # Select today's day\ncy.get('@dayPicker').find('.DayPicker-Day--today').click(); // * Day picker should disappear\ncy.get('@dayPicker').should('not.exist'); // # Hit backspace with focus right after the date\ncy.get('#searchBox').should('have.value', \"before:\".concat(today, \" \")).focus().type('{backspace}'); // * Day picker should reappear\ncy.get('@dayPicker').should('be.visible');","err":{},"uuid":"d498663c-8b96-4681-8bcc-17e1f99fcbd4","parentUUID":"6ff68b44-d357-4ae0-b0da-3b47de2ddf7e","isHook":false,"skipped":false}],"suites":[{"uuid":"924dea10-f1b6-408c-88b3-9b2fcd2bb37c","title":"works without leading 0 in","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"day","fullTitle":"SF15699 Search Date Filter input date filter works without leading 0 in day","timedOut":null,"duration":3980,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"on:\".concat(test.date, \" \\\"\").concat(firstMessage, \"\\\"\"), [firstMessage]);","err":{},"uuid":"4dac9b2c-ef97-46e1-afe9-4a9c61e35942","parentUUID":"924dea10-f1b6-408c-88b3-9b2fcd2bb37c","isHook":false,"skipped":false},{"title":"month","fullTitle":"SF15699 Search Date Filter input date filter works without leading 0 in month","timedOut":null,"duration":3597,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"on:\".concat(test.date, \" \\\"\").concat(firstMessage, \"\\\"\"), [firstMessage]);","err":{},"uuid":"62035eab-ce54-461e-86f7-6a8d4b401ed2","parentUUID":"924dea10-f1b6-408c-88b3-9b2fcd2bb37c","isHook":false,"skipped":false},{"title":"month and date","fullTitle":"SF15699 Search Date Filter input date filter works without leading 0 in month and date","timedOut":null,"duration":3528,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"on:\".concat(test.date, \" \\\"\").concat(firstMessage, \"\\\"\"), [firstMessage]);","err":{},"uuid":"64ea9202-ba78-4ed9-b544-06b2c0cbb5ba","parentUUID":"924dea10-f1b6-408c-88b3-9b2fcd2bb37c","isHook":false,"skipped":false}],"suites":[],"passes":["4dac9b2c-ef97-46e1-afe9-4a9c61e35942","62035eab-ce54-461e-86f7-6a8d4b401ed2","64ea9202-ba78-4ed9-b544-06b2c0cbb5ba"],"failures":[],"pending":[],"skipped":[],"duration":11105,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"bda6bb40-d02b-44ad-8c45-ca448d141637","title":"query string can be removed with","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"with keyboard","fullTitle":"SF15699 Search Date Filter input date filter query string can be removed with with keyboard","timedOut":null,"duration":2099,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#searchBox').clear().wait(500).type(queryString).type('{backspace}'.repeat(queryString.length)).should('have.value', '');","err":{},"uuid":"9b148832-7f5f-4e52-8854-e4b544098c80","parentUUID":"bda6bb40-d02b-44ad-8c45-ca448d141637","isHook":false,"skipped":false},{"title":"with \"x\"","fullTitle":"SF15699 Search Date Filter input date filter query string can be removed with with \"x\"","timedOut":null,"duration":1374,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#searchBox').clear().wait(500).type(queryString);\ncy.get('#searchFormContainer').find('.input-clear-x').click({\n  force: true\n});\ncy.get('#searchBox').should('have.value', '');","err":{},"uuid":"b6e40684-d8fd-4bb7-8593-4adec1a614f6","parentUUID":"bda6bb40-d02b-44ad-8c45-ca448d141637","isHook":false,"skipped":false}],"suites":[],"passes":["9b148832-7f5f-4e52-8854-e4b544098c80","b6e40684-d8fd-4bb7-8593-4adec1a614f6"],"failures":[],"pending":[],"skipped":[],"duration":3473,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":["35fb2dbe-1b58-4c68-b8a5-a04b17e574a2","4dc28dd7-faa7-4c30-b4a0-5ac44449424a","d498663c-8b96-4681-8bcc-17e1f99fcbd4"],"failures":["a8b99b1c-c5b5-48c7-a332-9551a7a862b4"],"pending":[],"skipped":[],"duration":13975,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"8390974a-b5d6-4c96-9412-6896999770e3","title":"\"before:\"","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"omits results on and after target date","fullTitle":"SF15699 Search Date Filter \"before:\" omits results on and after target date","timedOut":null,"duration":3144,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:\".concat(secondDateEarly.query, \" \").concat(timestamp), [firstOffTopicMessage, firstMessage]);","err":{},"uuid":"da5b9089-dfca-4a54-ad58-5e86f67f78d7","parentUUID":"8390974a-b5d6-4c96-9412-6896999770e3","isHook":false,"skipped":false},{"title":"can be used in conjunction with \"in:\"","fullTitle":"SF15699 Search Date Filter \"before:\" can be used in conjunction with \"in:\"","timedOut":null,"duration":3913,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:\".concat(secondDateEarly.query, \" in:town-square \").concat(timestamp), [firstMessage]);","err":{},"uuid":"bd098898-3edf-4f5c-8f02-6e07ad0be756","parentUUID":"8390974a-b5d6-4c96-9412-6896999770e3","isHook":false,"skipped":false},{"title":"can be used in conjunction with \"from:\"","fullTitle":"SF15699 Search Date Filter \"before:\" can be used in conjunction with \"from:\"","timedOut":null,"duration":3825,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:\".concat(secondDateEarly.query, \" from:\").concat(newAdmin.username, \" \").concat(timestamp), [firstMessage]);","err":{},"uuid":"0045625c-4849-4662-bf90-2d655a27d425","parentUUID":"8390974a-b5d6-4c96-9412-6896999770e3","isHook":false,"skipped":false},{"title":"using a date from the future shows results","fullTitle":"SF15699 Search Date Filter \"before:\" using a date from the future shows results","timedOut":null,"duration":3058,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:2099-7-15 \".concat(timestamp), allMessagesInOrder);","err":{},"uuid":"62fd6e41-c907-4cae-9f25-e89177eac740","parentUUID":"8390974a-b5d6-4c96-9412-6896999770e3","isHook":false,"skipped":false}],"suites":[],"passes":["da5b9089-dfca-4a54-ad58-5e86f67f78d7","bd098898-3edf-4f5c-8f02-6e07ad0be756","0045625c-4849-4662-bf90-2d655a27d425","62fd6e41-c907-4cae-9f25-e89177eac740"],"failures":[],"pending":[],"skipped":[],"duration":13940,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"4467ebcb-b2cf-425d-a6ca-6f9a5bf30223","title":"\"after:\"","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"omits results before and on target date","fullTitle":"SF15699 Search Date Filter \"after:\" omits results before and on target date","timedOut":null,"duration":2995,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"after:\".concat(firstDateEarly.query, \" \").concat(timestamp), [todayMessage, secondOffTopicMessage, secondMessage]);","err":{},"uuid":"30d182e8-da34-4318-b2fc-9e97b203d227","parentUUID":"4467ebcb-b2cf-425d-a6ca-6f9a5bf30223","isHook":false,"skipped":false},{"title":"can be used in conjunction with \"in:\"","fullTitle":"SF15699 Search Date Filter \"after:\" can be used in conjunction with \"in:\"","timedOut":null,"duration":3596,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"after:\".concat(firstDateEarly.query, \" in:town-square \").concat(timestamp), [todayMessage, secondMessage]);","err":{},"uuid":"420fb268-de8f-4735-b458-190ac29b1a77","parentUUID":"4467ebcb-b2cf-425d-a6ca-6f9a5bf30223","isHook":false,"skipped":false},{"title":"can be used in conjunction with \"from:\"","fullTitle":"SF15699 Search Date Filter \"after:\" can be used in conjunction with \"from:\"","timedOut":null,"duration":3675,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"after:\".concat(firstDateEarly.query, \" from:\").concat(newAdmin.username, \" \").concat(timestamp), [secondOffTopicMessage]);","err":{},"uuid":"5821b6e9-58c5-4a68-81a4-fa37d8f96478","parentUUID":"4467ebcb-b2cf-425d-a6ca-6f9a5bf30223","isHook":false,"skipped":false},{"title":"using a date from the future shows no results","fullTitle":"SF15699 Search Date Filter \"after:\" using a date from the future shows no results","timedOut":null,"duration":2922,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"after:2099-7-15 \".concat(timestamp));","err":{},"uuid":"c7f8e093-75f3-405a-8a0c-671555012909","parentUUID":"4467ebcb-b2cf-425d-a6ca-6f9a5bf30223","isHook":false,"skipped":false}],"suites":[],"passes":["30d182e8-da34-4318-b2fc-9e97b203d227","420fb268-de8f-4735-b458-190ac29b1a77","5821b6e9-58c5-4a68-81a4-fa37d8f96478","c7f8e093-75f3-405a-8a0c-671555012909"],"failures":[],"pending":[],"skipped":[],"duration":13188,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"2c79d249-7f15-4348-884a-5389b71bbb80","title":"\"on:\"","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"omits results before and after target date","fullTitle":"SF15699 Search Date Filter \"on:\" omits results before and after target date","timedOut":null,"duration":2872,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"on:\".concat(secondDateEarly.query, \" \").concat(timestamp), [secondOffTopicMessage, secondMessage]);","err":{},"uuid":"d27fd7b1-1176-493a-bab0-56bd69347e62","parentUUID":"2c79d249-7f15-4348-884a-5389b71bbb80","isHook":false,"skipped":false},{"title":"takes precedence over \"after:\" and \"before:\"","fullTitle":"SF15699 Search Date Filter \"on:\" takes precedence over \"after:\" and \"before:\"","timedOut":null,"duration":3530,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:\".concat(Cypress.moment().format('YYYY-MM-DD'), \" on:\").concat(secondDateEarly.query, \" \").concat(timestamp), [secondOffTopicMessage, secondMessage]);","err":{},"uuid":"b1b1033b-e1ec-458b-82a6-8e92bf91f809","parentUUID":"2c79d249-7f15-4348-884a-5389b71bbb80","isHook":false,"skipped":false},{"title":"takes precedence over \"after:\"","fullTitle":"SF15699 Search Date Filter \"on:\" takes precedence over \"after:\"","timedOut":null,"duration":3550,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"after:\".concat(firstDateEarly.query, \" on:\").concat(secondDateEarly.query, \" \").concat(timestamp), [secondOffTopicMessage, secondMessage]);","err":{},"uuid":"2dba331a-dab3-460f-b079-6ae49720ba1b","parentUUID":"2c79d249-7f15-4348-884a-5389b71bbb80","isHook":false,"skipped":false},{"title":"can be used in conjunction with \"in:\"","fullTitle":"SF15699 Search Date Filter \"on:\" can be used in conjunction with \"in:\"","timedOut":null,"duration":3618,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"on:\".concat(secondDateEarly.query, \" in:town-square \").concat(timestamp), [secondMessage]);","err":{},"uuid":"b450465f-583a-4d7d-b521-1b892095bd56","parentUUID":"2c79d249-7f15-4348-884a-5389b71bbb80","isHook":false,"skipped":false},{"title":"can be used in conjunction with \"from:\"","fullTitle":"SF15699 Search Date Filter \"on:\" can be used in conjunction with \"from:\"","timedOut":null,"duration":3883,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"on:\".concat(secondDateEarly.query, \" from:\").concat(newAdmin.username, \" \").concat(timestamp), [secondOffTopicMessage]);","err":{},"uuid":"79124491-1c04-4556-9109-d5fda22215d9","parentUUID":"2c79d249-7f15-4348-884a-5389b71bbb80","isHook":false,"skipped":false},{"title":"works from 12:00am to 11:59pm","fullTitle":"SF15699 Search Date Filter \"on:\" works from 12:00am to 11:59pm","timedOut":null,"duration":4291,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// create posts on a day att 11:59 the previous day, 12:00am the main day, 11:59pm the main day, and 12:00 the next day\nvar identifier = 'christmas' + Date.now();\nvar preTarget = getMsAndQueryForDate(Date.UTC(2018, 11, 24, 23, 59)); // December 24th, 2018 @ 11:59pm\nvar targetAM = getMsAndQueryForDate(Date.UTC(2018, 11, 25, 0, 0)); // December 25th, 2018 @ 12:00am\nvar targetPM = getMsAndQueryForDate(Date.UTC(2018, 11, 25, 23, 59)); // December 25th, 2018 @ 11:59pm\nvar postTarget = getMsAndQueryForDate(Date.UTC(2018, 11, 26, 0, 0)); // December 26th, 2018 @ 12:00am\nvar targetAMMessage = 'targetAM ' + identifier;\nvar targetPMMessage = 'targetPM ' + identifier; // Post same message at different times\ncy.getCurrentChannelId().then(function (channelId) {\n  cy.postMessageAs({\n    sender: _users[\"default\"].sysadmin,\n    message: 'pretarget ' + identifier,\n    channelId: channelId,\n    createAt: preTarget.ms\n  });\n  cy.postMessageAs({\n    sender: _users[\"default\"].sysadmin,\n    message: targetAMMessage,\n    channelId: channelId,\n    createAt: targetAM.ms\n  });\n  cy.postMessageAs({\n    sender: _users[\"default\"].sysadmin,\n    message: targetPMMessage,\n    channelId: channelId,\n    createAt: targetPM.ms\n  });\n  cy.postMessageAs({\n    sender: _users[\"default\"].sysadmin,\n    message: 'postTarget' + identifier,\n    channelId: channelId,\n    createAt: postTarget.ms\n  });\n}); // * Verify we only see messages from the expected date, and not outside of it\nsearchAndValidate(\"on:\".concat(targetAM.query, \" \").concat(identifier), [targetPMMessage, targetAMMessage]);","err":{},"uuid":"119af4cc-7177-4494-bbf1-33699820b467","parentUUID":"2c79d249-7f15-4348-884a-5389b71bbb80","isHook":false,"skipped":false},{"title":"using a date from the future shows no results","fullTitle":"SF15699 Search Date Filter \"on:\" using a date from the future shows no results","timedOut":null,"duration":2980,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"on:2099-7-15 \".concat(timestamp));","err":{},"uuid":"7f909d2e-562c-4e74-a505-f36badebd66c","parentUUID":"2c79d249-7f15-4348-884a-5389b71bbb80","isHook":false,"skipped":false}],"suites":[],"passes":["d27fd7b1-1176-493a-bab0-56bd69347e62","b1b1033b-e1ec-458b-82a6-8e92bf91f809","2dba331a-dab3-460f-b079-6ae49720ba1b","b450465f-583a-4d7d-b521-1b892095bd56","79124491-1c04-4556-9109-d5fda22215d9","119af4cc-7177-4494-bbf1-33699820b467","7f909d2e-562c-4e74-a505-f36badebd66c"],"failures":[],"pending":[],"skipped":[],"duration":24724,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"ca6caf49-0717-4de0-889a-75cbf6174fb5","title":"invalid dates","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"wrong format returns no results","fullTitle":"SF15699 Search Date Filter invalid dates wrong format returns no results","timedOut":null,"duration":3153,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:123-456-789 \".concat(timestamp));","err":{},"uuid":"6c2b5921-4aff-4efc-b9d0-e547a48f2254","parentUUID":"ca6caf49-0717-4de0-889a-75cbf6174fb5","isHook":false,"skipped":false},{"title":"correct format, invalid date returns no results","fullTitle":"SF15699 Search Date Filter invalid dates correct format, invalid date returns no results","timedOut":null,"duration":3161,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:2099-15-45 \".concat(timestamp));","err":{},"uuid":"92d6c0dc-3874-4cfc-a8c6-11069d33e553","parentUUID":"ca6caf49-0717-4de0-889a-75cbf6174fb5","isHook":false,"skipped":false},{"title":"invalid leap year returns no results","fullTitle":"SF15699 Search Date Filter invalid dates invalid leap year returns no results","timedOut":null,"duration":3100,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"after:2018-02-29 \".concat(timestamp));","err":{},"uuid":"7c861541-c1aa-43d1-b73b-1959445ff678","parentUUID":"ca6caf49-0717-4de0-889a-75cbf6174fb5","isHook":false,"skipped":false},{"title":"using invalid string for date returns no results","fullTitle":"SF15699 Search Date Filter invalid dates using invalid string for date returns no results","timedOut":null,"duration":2992,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:banana \".concat(timestamp));","err":{},"uuid":"adb72f5f-acb9-47c8-a760-e287176ab630","parentUUID":"ca6caf49-0717-4de0-889a-75cbf6174fb5","isHook":false,"skipped":false}],"suites":[],"passes":["6c2b5921-4aff-4efc-b9d0-e547a48f2254","92d6c0dc-3874-4cfc-a8c6-11069d33e553","7c861541-c1aa-43d1-b73b-1959445ff678","adb72f5f-acb9-47c8-a760-e287176ab630"],"failures":[],"pending":[],"skipped":[],"duration":12406,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"86380a84-1d17-40fb-b877-094580dcb4c9","title":"mixed filters","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"\"before:\" and \"after:\" can be used together","fullTitle":"SF15699 Search Date Filter mixed filters \"before:\" and \"after:\" can be used together","timedOut":null,"duration":3750,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:\".concat(Cypress.moment().format('YYYY-MM-DD'), \" after:\").concat(firstDateEarly.query, \" \").concat(timestamp), [secondOffTopicMessage, secondMessage]);","err":{},"uuid":"bf77c562-2ee9-498d-9acf-3b049913570b","parentUUID":"86380a84-1d17-40fb-b877-094580dcb4c9","isHook":false,"skipped":false},{"title":"\"before:\", \"after:\", \"from:\", and \"in:\" can be used in one search","fullTitle":"SF15699 Search Date Filter mixed filters \"before:\", \"after:\", \"from:\", and \"in:\" can be used in one search","timedOut":null,"duration":4580,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"searchAndValidate(\"before:\".concat(Cypress.moment().format('YYYY-MM-DD'), \" after:\").concat(firstDateEarly.query, \" from:\").concat(newAdmin.username, \" in:off-topic \").concat(timestamp), [secondOffTopicMessage]);","err":{},"uuid":"d35d9d53-b8e2-42da-9b63-8b5b338b6ef6","parentUUID":"86380a84-1d17-40fb-b877-094580dcb4c9","isHook":false,"skipped":false}],"suites":[],"passes":["bf77c562-2ee9-498d-9acf-3b049913570b","d35d9d53-b8e2-42da-9b63-8b5b338b6ef6"],"failures":[],"pending":[],"skipped":[],"duration":8330,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"fa56d06e-ee9d-46d9-a389-1a83a49ab8a3","title":"edit search with date filter","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"with calendar picker and results update","fullTitle":"SF15699 Search Date Filter edit search with date filter with calendar picker and results update","timedOut":null,"duration":5734,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Create expected data\nvar targetMessage = 'calendarUpdate' + Date.now();\nvar targetDate = getMsAndQueryForDate(Date.UTC(2019, 0, 15, 9, 30)); // # Post message with unique text\ncy.getCurrentChannelId().then(function (channelId) {\n  cy.postMessageAs({\n    sender: _users[\"default\"].sysadmin,\n    message: targetMessage,\n    channelId: channelId,\n    createAt: targetDate.ms\n  });\n}); // # Set clock to custom date, reload page for it to take effect\ncy.clock(targetDate.ms, ['Date']);\ncy.reload(); // # Type on: into search field\ncy.get('#searchBox').clear().type('on:'); // * Day picker should appear\ncy.get('.DayPicker').as('dayPicker').should('be.visible'); // # Click on today's date\ncy.get('@dayPicker').find('.DayPicker-Day--today').click(); // * Search field should populate with the correct date, then send rest of query\ncy.get('#searchBox').should('have.value', 'on:2019-01-15 ').focus().type(\"\".concat(targetMessage, \"{enter}\"));\ncy.get('#loadingSpinner').should('not.be.visible'); // * Verify we see our single result\ncy.queryAllByTestId('search-item-container').should('be.visible').and('have.length', 1).find('.post-message').should('have.text', targetMessage);\ncy.reload(); // # Back space right after the date to bring up date picker again\ncy.get('#searchBox').focus().clear().type(\"on:2019-01-15 \".concat(targetMessage)).type('{leftarrow}'.repeat(targetMessage.length + 1)).type('{backspace}'); // * Day picker should be visible\ncy.get('@dayPicker').should('be.visible'); // # Click on tomorrow's day\ncy.get('@dayPicker').find('.DayPicker-Day--today').next('.DayPicker-Day').click(); // # Add message to search for, and hit enter\ncy.get('#searchBox').should('have.value', \"on:2019-01-16  \".concat(targetMessage)).type('{enter}');\ncy.get('#loadingSpinner').should('not.be.visible'); // * There should be no results\ncy.queryAllByTestId('search-item-container').should('have.length', 0);","err":{},"uuid":"8c6b240a-5617-4937-a0be-2c765b5c5bfc","parentUUID":"fa56d06e-ee9d-46d9-a389-1a83a49ab8a3","isHook":false,"skipped":false},{"title":"changing timezone changes day search results appears","fullTitle":"SF15699 Search Date Filter edit search with date filter changing timezone changes day search results appears","timedOut":null,"duration":7394,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var identifier = 'timezone' + Date.now();\nvar target = getMsAndQueryForDate(Date.UTC(2018, 9, 31, 23, 59));\nvar targetMessage = 'targetAM ' + identifier; // # Post message with unique text\ncy.getCurrentChannelId().then(function (channelId) {\n  cy.postMessageAs({\n    sender: _users[\"default\"].sysadmin,\n    message: targetMessage,\n    channelId: channelId,\n    createAt: target.ms\n  });\n}); // * Verify result appears in current timezone\nsearchAndValidate(\"on:\".concat(target.query, \" \").concat(identifier), [targetMessage]); // # Change timezone to alter what posts appear in results\nchangeTimezone('Europe/Brussels'); // * With same query, no results should appear\nsearchAndValidate(\"on:\".concat(target.query, \" \").concat(identifier));","err":{},"uuid":"c8d52718-6079-41b0-a502-4a2ecd5c4963","parentUUID":"fa56d06e-ee9d-46d9-a389-1a83a49ab8a3","isHook":false,"skipped":false}],"suites":[],"passes":["8c6b240a-5617-4937-a0be-2c765b5c5bfc","c8d52718-6079-41b0-a502-4a2ecd5c4963"],"failures":[],"pending":[],"skipped":[],"duration":13128,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"4737c618-6f9c-46b4-a45c-589a3e4dc181","title":"","fullFile":"cypress/integration/search_date_filter/negative_filter_spec.js","file":"cypress/integration/search_date_filter/negative_filter_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"284d8872-88c2-4f37-ad1d-6d94a32fba65","title":"Negative search filters will omit results","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"just search query","fullTitle":"Negative search filters will omit results just search query","timedOut":null,"duration":29485,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/search_date_filter/negative_filter_spec.js/Negative search filters will omit results -- just search query (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/search_date_filter/negative_filter_spec.js/Negative search filters will omit results -- just search query (failed).png\"\n}","code":"searchAndVerify(message);","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#noResultsMessage', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#noResultsMessage', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"c1167599-b311-43b6-bb85-c62b862502ba","parentUUID":"284d8872-88c2-4f37-ad1d-6d94a32fba65","isHook":false,"skipped":false},{"title":"-before:","fullTitle":"Negative search filters will omit results -before:","timedOut":null,"duration":7431,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var tomorrow = Cypress.moment().add(1, 'days').format('YYYY-MM-DD');\nvar query = \"before:\".concat(tomorrow, \" \").concat(message);\nsearchAndVerify(query);","err":{},"uuid":"0797fd4d-7e61-434d-b538-ca495586ce0c","parentUUID":"284d8872-88c2-4f37-ad1d-6d94a32fba65","isHook":false,"skipped":false},{"title":"-after:","fullTitle":"Negative search filters will omit results -after:","timedOut":null,"duration":7081,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var yesterday = Cypress.moment().subtract(1, 'days').format('YYYY-MM-DD');\nvar query = \"after:\".concat(yesterday, \" \").concat(message);\nsearchAndVerify(query);","err":{},"uuid":"f6eb54a2-9113-42f7-a70e-acd2ee626ee8","parentUUID":"284d8872-88c2-4f37-ad1d-6d94a32fba65","isHook":false,"skipped":false},{"title":"-on:","fullTitle":"Negative search filters will omit results -on:","timedOut":null,"duration":6798,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var today = Cypress.moment().format('YYYY-MM-DD');\nvar query = \"on:\".concat(today, \" \").concat(message);\nsearchAndVerify(query);","err":{},"uuid":"ab7a7e7c-32a3-48a0-b808-e3b7c45de510","parentUUID":"284d8872-88c2-4f37-ad1d-6d94a32fba65","isHook":false,"skipped":false},{"title":"-in:","fullTitle":"Negative search filters will omit results -in:","timedOut":null,"duration":7006,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var query = \"in:town-square \".concat(message);\nsearchAndVerify(query);","err":{},"uuid":"68e19852-dc16-4881-a819-18876bad4641","parentUUID":"284d8872-88c2-4f37-ad1d-6d94a32fba65","isHook":false,"skipped":false},{"title":"-from:","fullTitle":"Negative search filters will omit results -from:","timedOut":null,"duration":6008,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var query = \"from:sysadmin \".concat(message);\nsearchAndVerify(query);","err":{},"uuid":"60a3ea89-dca3-487a-8ba1-5cee4f61adaa","parentUUID":"284d8872-88c2-4f37-ad1d-6d94a32fba65","isHook":false,"skipped":false}],"suites":[],"passes":["0797fd4d-7e61-434d-b538-ca495586ce0c","f6eb54a2-9113-42f7-a70e-acd2ee626ee8","ab7a7e7c-32a3-48a0-b808-e3b7c45de510","68e19852-dc16-4881-a819-18876bad4641","60a3ea89-dca3-487a-8ba1-5cee4f61adaa"],"failures":["c1167599-b311-43b6-bb85-c62b862502ba"],"pending":[],"skipped":[],"duration":63809,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"4969b3bc-d5d5-4a34-8e43-17ee7e4297d6","title":"","fullFile":"cypress/integration/search/clear_input_spec.js","file":"cypress/integration/search/clear_input_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"c0f8cf0c-ecc5-487e-9701-a54fec44464e","title":"Search","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"QuickInput clear X","fullTitle":"Search QuickInput clear X","timedOut":null,"duration":6830,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Wait for the page to be completely loaded\ncy.wait(TIMEOUTS.SMALL); // * X should not be visible on empty input\ncy.get('#searchFormContainer').find('.input-clear-x').should('not.be.visible'); // # Write something on the input\ncy.get('#searchBox').clear().type('abc'); // * The input should contain what we wrote\ncy.get('#searchBox').should('have.value', 'abc'); // * The X should be visible\ncy.get('#searchFormContainer').find('.input-clear-x').should('be.visible'); // # Click the X to clear the input field\ncy.get('#searchFormContainer').find('.input-clear-x').click({\n  force: true\n}); // * The X should not be visible since the input is cleared\ncy.get('#searchFormContainer').find('.input-clear-x').should('not.be.visible'); // * The value of the input is empty\ncy.get('#searchBox').should('have.value', '');","err":{},"uuid":"7c68cea2-20fd-47cd-89c3-55269746b905","parentUUID":"c0f8cf0c-ecc5-487e-9701-a54fec44464e","isHook":false,"skipped":false}],"suites":[],"passes":["7c68cea2-20fd-47cd-89c3-55269746b905"],"failures":[],"pending":[],"skipped":[],"duration":6830,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"a26457ce-8020-4aad-9df9-aa036df97cea","title":"","fullFile":"cypress/integration/search/post_search_display_spec.js","file":"cypress/integration/search/post_search_display_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"23d034ef-d79b-4084-b0ec-d2027ac093cf","title":"Post search display","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"S14252 After clearing search query, search options display","fullTitle":"Post search display S14252 After clearing search query, search options display","timedOut":null,"duration":5647,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login and navigate to the app\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square');\nvar searchWord = 'Hello'; // # post message\ncy.postMessage(searchWord); // # search word in searchBox and validate searchWord\ncy.get('#searchBox').type(searchWord).type('{enter}').should('have.value', searchWord); // # click on \"x\" displayed on searchbox\ncy.get('#searchbarContainer').should('be.visible').within(function () {\n  cy.get('#searchFormContainer').find('.input-clear-x').click({\n    force: true\n  });\n}); // # RHS should be visible with search results\ncy.get('#search-items-container').should('be.visible'); // # click on searchbox\ncy.get('#searchbarContainer').should('be.visible').within(function () {\n  cy.get('#searchBox').click();\n}); // # check the contents in search options\ncy.get('#searchbar-help-popup').within(function () {\n  cy.get('h4 span').first().should('have.text', 'Search Options');\n  cy.get('span ul li').first().should('have.text', 'Use \"quotation marks\" to search for phrases');\n  cy.get('span ul li').eq(1).should('have.text', 'Use from: to find posts from specific users');\n  cy.get('span ul li').eq(2).should('have.text', 'Use in: to find posts in specific channels');\n  cy.get('span ul li').eq(3).should('have.text', 'Use on: to find posts on a specific date');\n  cy.get('span ul li').eq(4).should('have.text', 'Use before: to find posts before a specific date');\n  cy.get('span ul li').eq(5).should('have.text', 'Use after: to find posts after a specific date');\n  cy.get('span ul li').last().should('have.text', 'Use dash \"-\" to exclude search terms and modifiers');\n});","err":{},"uuid":"1102644b-c9e4-40ad-86ee-162dfd8c0d69","parentUUID":"23d034ef-d79b-4084-b0ec-d2027ac093cf","isHook":false,"skipped":false}],"suites":[],"passes":["1102644b-c9e4-40ad-86ee-162dfd8c0d69"],"failures":[],"pending":[],"skipped":[],"duration":5647,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"67ceffe4-eaaf-4ea9-9a01-12c507fd3a0a","title":"","fullFile":"cypress/integration/search/results_post_comment_spec.js","file":"cypress/integration/search/results_post_comment_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"2f32d6ab-79b7-4862-babc-2469a073fb5a","title":"Search","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"S14548 Search results Right-Hand-Side: Post a comment","fullTitle":"Search S14548 Search results Right-Hand-Side: Post a comment","timedOut":null,"duration":8479,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login and navigate to the app\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square');\nvar message = \"asparagus\".concat(Date.now());\nvar comment = 'Replying to asparagus'; // # Post a new message\ncy.postMessage(message); // # Search for the text we just entered\ncy.get('#searchBox').type(message).type('{enter}'); // # Get last postId\ncy.getLastPostId().then(function (postId) {\n  var postMessageText = \"#rhsPostMessageText_\".concat(postId); // * Search results should have our original message\n  cy.get('#search-items-container').find(postMessageText).should('have.text', \"\".concat(message)); // # Click on the reply button on the search result\n  cy.clickPostCommentIcon(postId, 'SEARCH'); // # Reply with a comment\n  cy.get('#reply_textbox').type(\"\".concat(comment, \"{enter}\")); // * Verify sidebar is still open\n  cy.get('#rhsContainer').should('be.visible'); // * Verify that the original message is in the RHS\n  cy.get('#rhsContainer').find(postMessageText).should('have.text', \"\".concat(message));\n}); // # Get the comment id\ncy.getLastPostId().then(function (commentId) {\n  var rhsCommentText = \"#rhsPostMessageText_\".concat(commentId);\n  var mainCommentText = \"#postMessageText_\".concat(commentId); // * Verify comment in RHS\n  cy.get('#rhsContainer').find(rhsCommentText).should('have.text', \"\".concat(comment)); // * Verify comment main thread\n  cy.get('#postListContent').find(mainCommentText).should('have.text', \"\".concat(comment));\n});","err":{},"uuid":"8d8540c9-87ae-4634-87f7-f614f67f675a","parentUUID":"2f32d6ab-79b7-4862-babc-2469a073fb5a","isHook":false,"skipped":false}],"suites":[],"passes":["8d8540c9-87ae-4634-87f7-f614f67f675a"],"failures":[],"pending":[],"skipped":[],"duration":8479,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"542916e4-c50e-4cd7-baa7-18b52028cbe2","title":"","fullFile":"cypress/integration/search/results_post_spec.js","file":"cypress/integration/search/results_post_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"274b4341-ca6b-45f7-b2fe-b5ecff8adec7","title":"Search","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"S19944 Highlighting does not change to what is being typed in the search input box","fullTitle":"Search S19944 Highlighting does not change to what is being typed in the search input box","timedOut":null,"duration":7067,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var apple = \"apple\".concat(Date.now());\nvar banana = \"banana\".concat(Date.now());\nvar message = apple + ' ' + banana; // # Post a message as \"apple\" and \"banana\"\ncy.postMessage(message); // # Search for \"apple\"\ncy.get('#searchBox').should('be.visible').type(apple).type('{enter}'); // # Get last postId\ncy.getLastPostId().as('lastPostId'); // * Search result should return one post with highlight on apple\ncy.get('@lastPostId').then(function (postId) {\n  verifySearchResult(1, postId, message, apple);\n}); // * Type banana on search box but don't hit search\ncy.get('#searchBox').clear({\n  force: true\n}).type(banana, {\n  force: true\n}); // * Search result should not change and remain as one result with highlight still on apple\ncy.get('@lastPostId').then(function (postId) {\n  verifySearchResult(1, postId, message, apple);\n});","err":{},"uuid":"35fe4c65-53f2-4965-92b2-ff2ca35516d1","parentUUID":"274b4341-ca6b-45f7-b2fe-b5ecff8adec7","isHook":false,"skipped":false}],"suites":[],"passes":["35fe4c65-53f2-4965-92b2-ff2ca35516d1"],"failures":[],"pending":[],"skipped":[],"duration":7067,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"a4752bb9-f155-4c0e-8889-3f19ae1e48dc","title":"","fullFile":"cypress/integration/search/search_group_message_spec.js","file":"cypress/integration/search/search_group_message_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"455daf0c-3e97-4ec0-9bab-b2731ad2c182","title":"Search","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"S14673 - Search \"in:[username]\" returns results in GMs","fullTitle":"Search S14673 - Search \"in:[username]\" returns results in GMs","timedOut":null,"duration":5313,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var message = \"hello\".concat(Date.now()); // # Post a message\ncy.postMessage(message); //# Type \"in:\" text in search input\ncy.get('#searchBox').type('in:'); //# Search group members in the menu\ncy.get('#search-autocomplete__popover').should('be.visible').within(function () {\n  cy.findAllByTestId('listItem').contains(groupMembers.join(',')).click();\n}); //# Press enter to select\ncy.get('#searchBox').type('{enter}'); //# Search for the message\ncy.get('#searchbarContainer').should('be.visible').within(function () {\n  cy.get('#searchBox').clear().type(\"\".concat(message, \"{enter}\"));\n}); // * Should return exactly one result from the group channel and matches the message\ncy.findAllByTestId('search-item-container').should('be.visible').and('have.length', 1).within(function () {\n  cy.get('.search-channel__name').should('be.visible').and('have.text', groupMembers.join(', '));\n  cy.get('.search-highlight').should('be.visible').and('have.text', message);\n});","err":{},"uuid":"fa3c6c53-ea55-44cf-ad7c-c1f314948fa5","parentUUID":"455daf0c-3e97-4ec0-9bab-b2731ad2c182","isHook":false,"skipped":false}],"suites":[],"passes":["fa3c6c53-ea55-44cf-ad7c-c1f314948fa5"],"failures":[],"pending":[],"skipped":[],"duration":5313,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"507e3339-cc39-4edf-9988-8c960a94af48","title":"","fullFile":"cypress/integration/search/search_user_post_spec.js","file":"cypress/integration/search/search_user_post_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"fdda6bc2-edb2-44d8-bf9d-7501208ad9ac","title":"Search in DMs","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"S14672 Search \"in:[username]\" returns results in DMs","fullTitle":"Search in DMs S14672 Search \"in:[username]\" returns results in DMs","timedOut":null,"duration":8753,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login and navigate to the app\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square');\nvar message = 'Hello' + Date.now(); // # Ensure Direct Message is visible in LHS sidebar\ncy.get('#directChannel').scrollIntoView().should('be.visible'); // # Create new DM channel with user's email\ncreateNewDMChannel(_users[\"default\"]['user-2'].email); // # Post message to user\ncy.postMessage(message); // # Type `in:` in searchbox\ncy.get('#searchBox').type('in:'); // # Select user from suggestion list\ncy.contains('.search-autocomplete__item', \"@\".concat(_users[\"default\"]['user-2'].username)).scrollIntoView().click(); // # Validate searchbox contains the username\ncy.get('#searchBox').should('have.value', 'in:@' + _users[\"default\"]['user-2'].username + ' '); // # Press Enter in searchbox\ncy.get('#searchBox').type(message).type('{enter}'); // # Search message in each filtered result\ncy.get('#search-items-container').find('.search-highlight').each(function ($el) {\n  cy.wrap($el).should('have.text', message);\n});","err":{},"uuid":"3ad018d1-5a2f-44e3-b457-f04066d28d77","parentUUID":"fdda6bc2-edb2-44d8-bf9d-7501208ad9ac","isHook":false,"skipped":false}],"suites":[],"passes":["3ad018d1-5a2f-44e3-b457-f04066d28d77"],"failures":[],"pending":[],"skipped":[],"duration":8753,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b8e571b5-85d4-42a5-a9fd-506b9be8fbc7","title":"","fullFile":"cypress/integration/signin_authentication/forgot_password_spec.js","file":"cypress/integration/signin_authentication/forgot_password_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"fdefed47-ae7b-442d-91f5-1852b28cdc9b","title":"Signin/Authentication","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"SA15008 - Sign In Forgot password - Email address has account on server","fullTitle":"Signin/Authentication SA15008 - Sign In Forgot password - Email address has account on server","timedOut":null,"duration":8029,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.apiCreateAndLoginAsNewUser().then(function (user) {\n  cy.apiLogout();\n  resetPasswordAndLogin(user, config.EmailSettings.FeedbackEmail, config.SupportSettings.SupportEmail);\n});","err":{},"uuid":"a32fc56d-6ff1-41f1-bea3-6ce97b9226c9","parentUUID":"fdefed47-ae7b-442d-91f5-1852b28cdc9b","isHook":false,"skipped":false}],"suites":[],"passes":["a32fc56d-6ff1-41f1-bea3-6ce97b9226c9"],"failures":[],"pending":[],"skipped":[],"duration":8029,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"52a70901-8200-4a65-b281-59a920c74b1f","title":"","fullFile":"cypress/integration/signin_authentication/login_spec.js","file":"cypress/integration/signin_authentication/login_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"615ab4b0-0c45-4ea8-b1f6-77666f7b7cf6","title":"Login page","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should render","fullTitle":"Login page should render","timedOut":null,"duration":1997,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check that the login section is loaded\ncy.get('#login_section').should('be.visible'); // * Check the title\ncy.title().should('include', config.TeamSettings.SiteName);","err":{},"uuid":"3f5dccd9-b790-4c40-835f-340ed9f71e9e","parentUUID":"615ab4b0-0c45-4ea8-b1f6-77666f7b7cf6","isHook":false,"skipped":false},{"title":"should match elements, body","fullTitle":"Login page should match elements, body","timedOut":null,"duration":112,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check elements in the body\ncy.get('#login_section').should('be.visible');\ncy.get('#site_name').should('contain', config.TeamSettings.SiteName);\ncy.get('#site_description').should('contain', config.TeamSettings.CustomDescriptionText);\ncy.get('#loginId').should('be.visible').and(function ($loginTextbox) {\n  var placeholder = $loginTextbox[0].placeholder;\n  expect(placeholder).to.match(/Email/);\n  expect(placeholder).to.match(/Username/);\n});\ncy.get('#loginPassword').should('be.visible').and('have.attr', 'placeholder', 'Password');\ncy.get('#loginButton').should('be.visible').and('contain', 'Sign in');\ncy.get('#login_forgot').should('contain', 'I forgot my password');","err":{},"uuid":"f248f3ce-4a2d-4303-acd6-fe762fde041a","parentUUID":"615ab4b0-0c45-4ea8-b1f6-77666f7b7cf6","isHook":false,"skipped":false},{"title":"should match elements, footer","fullTitle":"Login page should match elements, footer","timedOut":null,"duration":75,"state":"passed","speed":"medium","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check elements in the footer\ncy.get('#footer_section').should('be.visible');\ncy.get('#company_name').should('contain', 'Mattermost');\ncy.get('#copyright').should('contain', '© 2015-').and('contain', 'Mattermost, Inc.');\ncy.get('#about_link').should('contain', 'About').and('have.attr', 'href', config.SupportSettings.AboutLink);\ncy.get('#privacy_link').should('contain', 'Privacy').and('have.attr', 'href', config.SupportSettings.PrivacyPolicyLink);\ncy.get('#terms_link').should('contain', 'Terms').and('have.attr', 'href', config.SupportSettings.TermsOfServiceLink);\ncy.get('#help_link').should('contain', 'Help').and('have.attr', 'href', config.SupportSettings.HelpLink);","err":{},"uuid":"d184fd19-0fd3-4447-9a4b-d23abafca259","parentUUID":"615ab4b0-0c45-4ea8-b1f6-77666f7b7cf6","isHook":false,"skipped":false},{"title":"should login then logout by user-1","fullTitle":"Login page should login then logout by user-1","timedOut":null,"duration":3556,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var user = _users[\"default\"]['user-1']; // # Enter \"user-1\" on Email or Username input box\ncy.get('#loginId').should('be.visible').type(user.username); // # Enter \"user-1\" on \"Password\" input box\ncy.get('#loginPassword').should('be.visible').type(user.password); // # Click \"Sign in\" button\ncy.get('#loginButton').should('be.visible').click(); // * Check that the Signin button change with rotating icon and \"Signing in...\" text\ncy.get('#loadingSpinner').should('be.visible').and('contain', 'Signing in...'); // * Check that it login successfully and it redirects into the main channel page\ncy.get('#channel_view').should('be.visible'); // # Click hamburger main menu button\ncy.get('#sidebarHeaderDropdownButton').click();\ncy.get('#logout').should('be.visible').click(); // * Check that it logout successfully and it redirects into the login page\ncy.get('#login_section').should('be.visible');\ncy.location('pathname').should('contain', '/login');","err":{},"uuid":"fe77d459-d685-4a8f-bb69-413c670e9cf6","parentUUID":"615ab4b0-0c45-4ea8-b1f6-77666f7b7cf6","isHook":false,"skipped":false}],"suites":[],"passes":["3f5dccd9-b790-4c40-835f-340ed9f71e9e","f248f3ce-4a2d-4303-acd6-fe762fde041a","d184fd19-0fd3-4447-9a4b-d23abafca259","fe77d459-d685-4a8f-bb69-413c670e9cf6"],"failures":[],"pending":[],"skipped":[],"duration":5740,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"8721608a-a4d4-47e7-8687-86f2ec14e2f1","title":"","fullFile":"cypress/integration/signin_authentication/signup_spec.js","file":"cypress/integration/signin_authentication/signup_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8e44a520-4a5a-4eb9-b863-4303a1d62e72","title":"Signup Email page","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should render","fullTitle":"Signup Email page should render","timedOut":null,"duration":1745,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * check the initialUrl\ncy.url().should('include', '/signup_email'); // * Check that the login section is loaded\ncy.get('#signup_email_section').should('be.visible'); // * Check the title\ncy.title().should('include', config.TeamSettings.SiteName);","err":{},"uuid":"cc0172b7-51f7-435f-9e9c-bf018211f637","parentUUID":"8e44a520-4a5a-4eb9-b863-4303a1d62e72","isHook":false,"skipped":false},{"title":"should match elements, back button","fullTitle":"Signup Email page should match elements, back button","timedOut":null,"duration":40,"state":"passed","speed":"medium","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check elements in the header with back button\ncy.get('#back_button').should('be.visible');\ncy.get('#back_button').should('contain', 'Back');\ncy.get('#back_button_icon').should('be.visible');\ncy.get('#back_button_icon').should('have.attr', 'title', 'Back Icon');","err":{},"uuid":"db4bc72e-111e-4e76-9691-07c2d9ce69fe","parentUUID":"8e44a520-4a5a-4eb9-b863-4303a1d62e72","isHook":false,"skipped":false},{"title":"should match elements, body","fullTitle":"Signup Email page should match elements, body","timedOut":null,"duration":263,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check elements in the body\ncy.get('#signup_email_section').should('be.visible');\ncy.get('#site_name').should('contain', config.TeamSettings.SiteName);\ncy.get('#site_description').should('contain', config.TeamSettings.CustomDescriptionText);\ncy.get('#create_account').should('contain', 'Let\\'s create your account');\ncy.get('#signin_account').should('contain', 'Already have an account?');\ncy.get('#signin_account').should('contain', 'Click here to sign in.');\ncy.get('#signin_account_link').should('contain', 'Click here to sign in.');\ncy.get('#signin_account_link').should('have.attr', 'href', '/login');\ncy.get('#email_label').should('contain', 'What\\'s your email address?');\ncy.get('#email').should('be.visible');\ncy.focused().should('have.attr', 'id', 'email');\ncy.get('#valid_email').should('contain', 'Valid email required for sign-up');\ncy.get('#name_label').should('contain', 'Choose your username');\ncy.get('#name').should('be.visible');\ncy.get('#valid_name').should('contain', 'You can use lowercase letters, numbers, periods, dashes, and underscores.');\ncy.get('#password_label').should('contain', 'Choose your password');\ncy.get('#password').should('be.visible');\ncy.get('#createAccountButton').scrollIntoView().should('be.visible');\ncy.get('#createAccountButton').should('contain', 'Create Account');\ncy.get('#signup_agreement').should('contain', \"By proceeding to create your account and use \".concat(config.TeamSettings.SiteName, \", you agree to our Terms of Service and Privacy Policy. If you do not agree, you cannot use \").concat(config.TeamSettings.SiteName, \".\"));\ncy.get(\"#signup_agreement > span > [href=\\\"\".concat(config.SupportSettings.TermsOfServiceLink, \"\\\"]\")).should('be.visible');\ncy.get(\"#signup_agreement > span > [href=\\\"\".concat(config.SupportSettings.PrivacyPolicyLink, \"\\\"]\")).should('be.visible');","err":{},"uuid":"65a4ecba-2b4d-47e9-9311-b8d9a0d6cc61","parentUUID":"8e44a520-4a5a-4eb9-b863-4303a1d62e72","isHook":false,"skipped":false},{"title":"should match elements, footer","fullTitle":"Signup Email page should match elements, footer","timedOut":null,"duration":82,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Check elements in the footer\ncy.get('#footer_section').scrollIntoView().should('be.visible');\ncy.get('#company_name').should('contain', 'Mattermost');\ncy.get('#copyright').should('contain', '© 2015-');\ncy.get('#copyright').should('contain', 'Mattermost, Inc.');\ncy.get('#about_link').should('contain', 'About');\ncy.get('#about_link').should('have.attr', 'href', config.SupportSettings.AboutLink);\ncy.get('#privacy_link').should('contain', 'Privacy');\ncy.get('#privacy_link').should('have.attr', 'href', config.SupportSettings.PrivacyPolicyLink);\ncy.get('#terms_link').should('contain', 'Terms');\ncy.get('#terms_link').should('have.attr', 'href', config.SupportSettings.TermsOfServiceLink);\ncy.get('#help_link').should('contain', 'Help');\ncy.get('#help_link').should('have.attr', 'href', config.SupportSettings.HelpLink);","err":{},"uuid":"eae0afc6-340d-4d0d-9b3a-cd6ba973a9fe","parentUUID":"8e44a520-4a5a-4eb9-b863-4303a1d62e72","isHook":false,"skipped":false}],"suites":[],"passes":["cc0172b7-51f7-435f-9e9c-bf018211f637","db4bc72e-111e-4e76-9691-07c2d9ce69fe","65a4ecba-2b4d-47e9-9311-b8d9a0d6cc61","eae0afc6-340d-4d0d-9b3a-cd6ba973a9fe"],"failures":[],"pending":[],"skipped":[],"duration":2130,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"a3fb809f-6c53-40d0-80f2-ddd55e8306dc","title":"","fullFile":"cypress/integration/signin_authentication/subpath_login_spec.js","file":"cypress/integration/signin_authentication/subpath_login_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"d7b280d3-dff3-4896-9460-b7b3424cc1f8","title":"Cookie with Subpath","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should generate cookie with subpath","fullTitle":"Cookie with Subpath should generate cookie with subpath","timedOut":null,"duration":3648,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/signin_authentication/subpath_login_spec.js/Cookie with Subpath -- should generate cookie with subpath (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/signin_authentication/subpath_login_spec.js/Cookie with Subpath -- should generate cookie with subpath (failed).png\"\n}","code":"var user = _users[\"default\"]['user-1'];\ncy.getSubpath().then(function (subpath) {\n  // * Check login page is loaded\n  cy.get('#login_section').should('be.visible'); // # Login as user-1\n  cy.get('#loginId').should('be.visible').type(user.username);\n  cy.get('#loginPassword').should('be.visible').type(user.password);\n  cy.get('#loginButton').should('be.visible').click(); // * Check login success\n  cy.get('#channel_view').should('be.visible'); // * Check subpath included in url\n  cy.url().should('include', subpath);\n  cy.url().should('include', '/channels/town-square'); // * Check cookies have correct path parameter\n  cy.getCookies().should('have.length', 3).each(function (cookie) {\n    if (subpath) {\n      expect(cookie).to.have.property('path', subpath);\n    } else {\n      expect(cookie).to.have.property('path', '/');\n    }\n  });\n});","err":{"message":"AssertionError: expected { Object (name, value, ...) } to have property 'path' of '/ad-1/channels/town-squar', but got '/'","estack":"AssertionError: expected { Object (name, value, ...) } to have property 'path' of '/ad-1/channels/town-squar', but got '/'\n    at callback (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136947:20)\n    at getRet (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136585:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Function.Promise.attempt.Promise.try (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:164690:29)\n    at thenFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136599:23)\n    at yieldItem (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:136954:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Object.gotValue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:166557:18)\n    at Object.gotAccum (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:166546:25)\n    at Object.tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromiseCtx (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165445:10)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162145:12)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":"- '/'\n+ '/ad-1/channels/town-squar'\n"},"uuid":"621f7570-a5e7-4a35-94dd-410f38340b39","parentUUID":"d7b280d3-dff3-4896-9460-b7b3424cc1f8","isHook":false,"skipped":false}],"suites":[],"passes":[],"failures":["621f7570-a5e7-4a35-94dd-410f38340b39"],"pending":[],"skipped":[],"duration":3648,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"f19a2a1d-8c60-4f6d-90d3-7fbd28cdca2c","title":"","fullFile":"cypress/integration/system_console/demoted_user_spec.js","file":"cypress/integration/system_console/demoted_user_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"1e1789ce-1ad1-4a3d-803c-617d3c751351","title":"System Console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"SC14734 Demoted user cannot continue to view System Console","fullTitle":"System Console SC14734 Demoted user cannot continue to view System Console","timedOut":null,"duration":4491,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var baseUrl = Cypress.config('baseUrl'); // # Login as sysadmin\ncy.apiLogin('sysadmin'); // # Login as new user\ncy.apiCreateAndLoginAsNewUser().as('newuser'); // # Set user to be a sysadmin, so it can access the system console\ncy.get('@newuser').then(function (user) {\n  cy.externalRequest({\n    user: sysadmin,\n    method: 'put',\n    baseUrl: baseUrl,\n    path: \"users/\".concat(user.id, \"/roles\"),\n    data: {\n      roles: 'system_user system_admin'\n    }\n  });\n}); // # Visit a page on the system console\ncy.visit('/admin_console/reporting/system_analytics');\ncy.get('#adminConsoleWrapper').should('be.visible');\ncy.url().should('include', '/admin_console/reporting/system_analytics'); // # Change the role of the user back to user\ncy.get('@newuser').then(function (user) {\n  cy.externalRequest({\n    user: sysadmin,\n    method: 'put',\n    baseUrl: baseUrl,\n    path: \"users/\".concat(user.id, \"/roles\"),\n    data: {\n      roles: 'system_user'\n    }\n  });\n}); // # User should get redirected to town square\ncy.get('#adminConsoleWrapper').should('not.exist');\ncy.get('#postListContent', {\n  timeout: TIMEOUTS.LARGE\n}).should('be.visible');\ncy.url().should('include', 'town-square');","err":{},"uuid":"a1584f57-b0d9-49c6-8832-a2d6f08d490f","parentUUID":"1e1789ce-1ad1-4a3d-803c-617d3c751351","isHook":false,"skipped":false}],"suites":[],"passes":["a1584f57-b0d9-49c6-8832-a2d6f08d490f"],"failures":[],"pending":[],"skipped":[],"duration":4491,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"cf6c6a3d-5ff8-4c20-9b67-74f5da2e8ba4","title":"","fullFile":"cypress/integration/system_console/inactive_users_spec.js","file":"cypress/integration/system_console/inactive_users_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"106b32d9-b0fa-4410-b75d-d02c0b00c774","title":"System Console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"SC18512 List pages of inactive users","fullTitle":"System Console SC18512 List pages of inactive users","timedOut":null,"duration":5320,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as sysadmin and go to users management page\ncy.apiLogin('sysadmin');\ncy.visit('/admin_console/user_management/users'); // # Select inactive users\ncy.get('#selectUserStatus').select('Inactive');\ncy.apiGetAnalytics().then(function (res) {\n  var inactiveUsers = res.body.filter(function (d) {\n    return d.name === 'inactive_user_count';\n  }).reduce(function (_, item) {\n    return item.value;\n  }, 0);\n  var pages = Math.floor(inactiveUsers / perPage);\n  var remainder = inactiveUsers % perPage;\n  Cypress._.forEach(Array(pages), function (_, index) {\n    if (pages === index) {\n      // * This is the last page, so:\n      // * - number of users should match the remainder\n      // * - no next button since no more inactive users to load\n      cy.findAllByTestId('userListRow').should('have.length', remainder);\n      cy.get('#searchableUserListNextBtn').should('not.be.visible');\n    } else {\n      // * There are still next page to load, so:\n      // * - number of users should match per page\n      // * - next button is visible\n      // # Click \"Next\" to load more.\n      cy.findAllByTestId('userListRow').should('have.length', perPage);\n      cy.get('#searchableUserListNextBtn').should('be.visible').click();\n    }\n  });\n});","err":{},"uuid":"68309628-b891-4e7d-a88b-e974a74242b2","parentUUID":"106b32d9-b0fa-4410-b75d-d02c0b00c774","isHook":false,"skipped":false}],"suites":[],"passes":["68309628-b891-4e7d-a88b-e974a74242b2"],"failures":[],"pending":[],"skipped":[],"duration":5320,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c6883ae9-df99-4bdb-bf98-6a58e1d9c81b","title":"","fullFile":"cypress/integration/system_console/lock_teammate_name_display_spec.js","file":"cypress/integration/system_console/lock_teammate_name_display_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"7cb56855-ca0c-4613-b9cf-66cba996c97d","title":"System Console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"MM-19309 Allow System Admins to control Teammate Name Display at the system level","fullTitle":"System Console MM-19309 Allow System Admins to control Teammate Name Display at the system level","timedOut":null,"duration":8893,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.apiLogin('sysadmin'); // # Go to system admin page\ncy.visit('/admin_console/site_config/users_and_teams'); // # Set Temmate Name Display dropdown to 'Show nickname if one exists, otherwise show first and last name' and set Lock Teammate Name Display to false\ncy.findByTestId('TeamSettings.TeammateNameDisplaydropdown').select('nickname_full_name');\ncy.findByTestId('TeamSettings.LockTeammateNameDisplayfalse').click(); // * Assert that there exists a description underneath the Teammate Name Display lock setting with the following text\ncy.findByTestId('TeamSettings.LockTeammateNameDisplayhelp-text').contains('When true, disables users\\' ability to change settings under Main Menu > Account Settings > Display > Teammate Name Display.').should('be.visible'); // # Click save button\ncy.get('#saveSetting').click(); // # Go to main page\ncy.visit('/ad-1/channels/town-square'); // # Go to Account settings\ncy.toAccountSettingsModal(); // # Click Display on the left hand side\ncy.get('#displayButton').click(); // # Click Edit button beside Temmate Name Display\ncy.get('#name_formatEdit').click(); // # Choose Show first and last name\ncy.get('#name_formatFormatC').check(); // # Click Save button to save the settings\ncy.get('#saveSetting').click(); // * Assert the description under the Teammate Name Display title has changed to Show first and last name\ncy.get('#name_formatDesc').contains('Show first and last name').should('be.visible'); // # Go back to System Admin console page\ncy.visit('/admin_console/site_config/users_and_teams'); // # Set Temmate Name Display dropdown to 'Show by username' and set Lock Teammate Name Display to true\ncy.findByTestId('TeamSettings.TeammateNameDisplaydropdown').select('username');\ncy.findByTestId('TeamSettings.LockTeammateNameDisplaytrue').click(); // # Click save button\ncy.get('#saveSetting').click(); // # Go to main page\ncy.visit('/ad-1/channels/town-square'); // # Go to Account settings\ncy.toAccountSettingsModal(); // # Click Display on the left hand side\ncy.get('#displayButton').click(); // * Assert the description under the Teammate Name Display title has changed to Show username\ncy.get('#name_formatDesc').contains('Show username').should('be.visible'); // # Click edit button for Teammate Name Display\ncy.get('#name_formatEdit').click(); // * Assert that there exists a description noting that this feature has been locked and can only be changed by system admin\ncy.get('#extraInfo').contains('This field is handled through your System Administrator. If you want to change it, you need to do so through your System Administrator.').should('be.visible');","err":{},"uuid":"1cd2cdc8-17f2-456c-b4de-cc77af17957a","parentUUID":"7cb56855-ca0c-4613-b9cf-66cba996c97d","isHook":false,"skipped":false}],"suites":[],"passes":["1cd2cdc8-17f2-456c-b4de-cc77af17957a"],"failures":[],"pending":[],"skipped":[],"duration":8893,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b5183a09-8035-48a0-80bc-63504472f68d","title":"","fullFile":"cypress/integration/system_console/plugin_upload_spec.js","file":"cypress/integration/system_console/plugin_upload_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"112dcb13-67e9-42da-ac97-f8fef9536a6e","title":"Draw Plugin - Upload","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"M11759-Draw plugin Configuration - should upload draw plugin","fullTitle":"Draw Plugin - Upload M11759-Draw plugin Configuration - should upload draw plugin","timedOut":null,"duration":17543,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * upload Draw plugin from the browser\ncy.get('input[type=file]').uploadFile(fileName, fileType).wait(TIMEOUTS.TINY);\ncy.get('#uploadPlugin').should('be.visible').click().wait(TIMEOUTS.TINY); // * Verify that the button shows correct text while uploading\ncy.findByText('Uploading...').should('be.visible'); // * Verify that the button shows correct text and is disabled after upload\ncy.findByText('Upload').should('be.visible');\ncy.get('#uploadPlugin').and('be.disabled'); // * Verify that the Draw Plugin is shown on successful upload\ncy.findByText('Draw Plugin').should('be.visible'); // # Draw plugin ID should be visible\ncy.findByTestId('com.mattermost.draw-plugin').should('be.visible').within(function () {\n  // #Enable draw plugin and check plugin is running\n  cy.wait(TIMEOUTS.TINY).findByText('Enable').click();\n  cy.findByText('This plugin is running.').should('be.visible'); // #Disable draw plugin and check plugin is not enabled\n  cy.findByText('Disable').click();\n  cy.findByText('This plugin is not enabled.').should('be.visible'); // * Click on remove\n  cy.findByText('Remove').click();\n}); // #Remove plugin Id should exist upon clicking Cancel in confirmation popup\ncy.get('#cancelModalButton').should('be.visible').click();\ncy.findByTestId('com.mattermost.draw-plugin').should('exist');\ncy.findByTestId('com.mattermost.draw-plugin').should('be.visible').within(function () {\n  // * Click on remove\n  cy.wait(TIMEOUTS.TINY).findByText('Remove').click();\n}); // #Remove plugin Id should not exist upon clicking remove in confirmation popup\ncy.findByText('Are you sure you would like to remove the plugin?').should('be.visible');\ncy.get('#confirmModalButton').should('be.visible').click();\ncy.findByTestId('com.mattermost.draw-plugin').should('not.exist');","err":{},"uuid":"74d1d571-b969-470e-a522-52c866887838","parentUUID":"112dcb13-67e9-42da-ac97-f8fef9536a6e","isHook":false,"skipped":false}],"suites":[],"passes":["74d1d571-b969-470e-a522-52c866887838"],"failures":[],"pending":[],"skipped":[],"duration":17543,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"b55d8b16-1f85-45e0-a281-d4f654e03677","title":"","fullFile":"cypress/integration/system_console/revoke_all_sessions_spec.js","file":"cypress/integration/system_console/revoke_all_sessions_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"8e8812c5-1a38-4067-9afd-6de119c44cda","title":"SC17020 - Revoke All Sessions from System Console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Verify for System Admin","fullTitle":"SC17020 - Revoke All Sessions from System Console Verify for System Admin","timedOut":null,"duration":3674,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as System Admin\ncy.apiLogin('sysadmin');\ncy.visit('/admin_console/user_management/users'); // * Verify the presence of Revoke All Sessions button\ncy.get('#revoke-all-users').should('be.visible').and('not.have.class', 'btn-danger').click(); // * Verify the confirmation message when users clicks on the Revoke All Sessions button\ncy.get('#confirmModalLabel').should('be.visible').and('have.text', 'Revoke all sessions in the system');\ncy.get('.modal-body').should('be.visible').and('have.text', 'This action revokes all sessions in the system. All users will be logged out from all devices. Are you sure you want to revoke all sessions?');\ncy.get('#confirmModalButton').should('be.visible').and('have.class', 'btn-danger'); // # Click on Cancel button in the confirmation message\ncy.get('#cancelModalButton').click(); // * Verify if Confirmation message is closed\ncy.get('#confirmModal').should('not.exist'); // * Verify if the Admin's session is still active and user is still in the same page\ncy.url().should('contain', '/admin_console/user_management/users'); // * Verify if the Admin's Session is still active and click on it and then confirm\ncy.get('#revoke-all-users').should('be.visible').click();\ncy.get('#confirmModalButton').click(); // * Verify if Admin User's session is expired and is redirected to login page\ncy.url({\n  timeout: TIMEOUTS.LARGE\n}).should('include', '/login');\ncy.get('#login_section', {\n  timeout: TIMEOUTS.LARGE\n}).should('be.visible');","err":{},"uuid":"eff73ec5-e7a4-4333-8645-43fec521f36e","parentUUID":"8e8812c5-1a38-4067-9afd-6de119c44cda","isHook":false,"skipped":false},{"title":"Verify for Regular Member","fullTitle":"SC17020 - Revoke All Sessions from System Console Verify for Regular Member","timedOut":null,"duration":2049,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as a regular member and navigate to Town Square Chat channel\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square');\ncy.get('#sidebarItem_town-square').click({\n  force: true\n}); // # Issue a Request to Revoke All Sessions as SysAdmin\nvar baseUrl = Cypress.config('baseUrl');\ncy.externalRequest({\n  user: _users[\"default\"].sysadmin,\n  method: 'post',\n  baseUrl: baseUrl,\n  path: 'users/sessions/revoke/all'\n}).then(function () {\n  // # Initiate browser activity like visit on \"/\"\n  cy.visit('/ad-1/channels/town-square'); // * Verify if the regular member is logged out and redirected to login page\n  cy.url({\n    timeout: TIMEOUTS.LARGE\n  }).should('include', '/login');\n  cy.get('#login_section', {\n    timeout: TIMEOUTS.LARGE\n  }).should('be.visible');\n});","err":{},"uuid":"11d502a6-972c-41da-a2fa-d145b76d0906","parentUUID":"8e8812c5-1a38-4067-9afd-6de119c44cda","isHook":false,"skipped":false}],"suites":[],"passes":["eff73ec5-e7a4-4333-8645-43fec521f36e","11d502a6-972c-41da-a2fa-d145b76d0906"],"failures":[],"pending":[],"skipped":[],"duration":5723,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"cbc5ca1b-d9be-4534-bf68-aed512c6cf78","title":"","fullFile":"cypress/integration/system_console/sidebar_link_navigation_spec.js","file":"cypress/integration/system_console/sidebar_link_navigation_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","title":"System Console","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"can go to admin console by clicking System Console","fullTitle":"System Console can go to admin console by clicking System Console","timedOut":null,"duration":3020,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"cy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\ncy.get('.Menu__content').should('be.visible').within(function () {\n  cy.findByText('System Console').should('be.visible').click();\n});\ncy.url().should('include', '/admin_console/about/license');","err":{},"uuid":"0887d8cc-43b4-4f8d-ad4a-45a1aa2a4787","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Edition and License","fullTitle":"System Console can navigate to Edition and License","timedOut":null,"duration":1978,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"e47498dd-8d1f-444c-923b-ed43d75f0860","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to System Statistics","fullTitle":"System Console can navigate to System Statistics","timedOut":null,"duration":1555,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"e9039cf2-7442-492f-9cce-df6bd84579ea","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Team Statistics","fullTitle":"System Console can navigate to Team Statistics","timedOut":null,"duration":1566,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"71a76663-d2aa-4725-9acb-4a002f046291","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Server Logs","fullTitle":"System Console can navigate to Server Logs","timedOut":null,"duration":1635,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"de707178-6209-4f61-b825-ae292883edf1","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Mattermost Users","fullTitle":"System Console can navigate to Mattermost Users","timedOut":null,"duration":1801,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"bcaa372a-73a1-4a22-8679-e0dc2867f9c2","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Web Server","fullTitle":"System Console can navigate to Web Server","timedOut":null,"duration":1635,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"d32bbef0-09a7-443c-87a9-4d45eb81337e","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Database","fullTitle":"System Console can navigate to Database","timedOut":null,"duration":1564,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"838fcc80-75b2-4b5d-bfa5-4f52fbcbe5f0","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to File Storage","fullTitle":"System Console can navigate to File Storage","timedOut":null,"duration":1607,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"ed72cc84-fb25-428d-8c9a-12b1810c5679","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Image Proxy","fullTitle":"System Console can navigate to Image Proxy","timedOut":null,"duration":2747,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"404a36b2-2d0d-49b1-8cf4-6adf231ecd44","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to SMTP","fullTitle":"System Console can navigate to SMTP","timedOut":null,"duration":1654,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"b709a955-0143-4e8a-92fd-90dcdd16c5d6","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Push Notification Server","fullTitle":"System Console can navigate to Push Notification Server","timedOut":null,"duration":1700,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"e5506cd3-962f-4ee0-9a78-dc198ff96859","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Rate Limiting","fullTitle":"System Console can navigate to Rate Limiting","timedOut":null,"duration":1828,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"f67732d3-f99a-462a-9661-af88e5cb5bc2","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Logging","fullTitle":"System Console can navigate to Logging","timedOut":null,"duration":1753,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"e7bab505-0722-4fc2-8dcd-d988e1361e94","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Session Lengths","fullTitle":"System Console can navigate to Session Lengths","timedOut":null,"duration":1756,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"3b7e8632-3365-427b-9065-b6005eec0fca","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Developer Settings","fullTitle":"System Console can navigate to Developer Settings","timedOut":null,"duration":1791,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"a912fec2-1b94-463b-b36e-d6867bc6e5a6","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Customization","fullTitle":"System Console can navigate to Customization","timedOut":null,"duration":2066,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"93237a9e-0ffe-4bf1-b394-8c7bb501d862","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Localization","fullTitle":"System Console can navigate to Localization","timedOut":null,"duration":1969,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"0e2edd7b-81bf-491d-af1b-8eb065fc5ec4","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Users and Teams","fullTitle":"System Console can navigate to Users and Teams","timedOut":null,"duration":1945,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"22675224-49e1-4f8c-8e90-b0b39315656c","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Notifications","fullTitle":"System Console can navigate to Notifications","timedOut":null,"duration":1976,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"862bbe27-ad99-436c-8577-c864a09afe11","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Emoji","fullTitle":"System Console can navigate to Emoji","timedOut":null,"duration":2009,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"9a6edbf0-8c09-4541-9d1b-6aabf5142842","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Posts","fullTitle":"System Console can navigate to Posts","timedOut":null,"duration":2051,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"0d3cddb7-2565-46bf-b0d2-6bcf0fe115f6","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to File Sharing and Downloads","fullTitle":"System Console can navigate to File Sharing and Downloads","timedOut":null,"duration":2044,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"0e89d5e4-7b42-452b-a691-656b7ba322db","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Public Links","fullTitle":"System Console can navigate to Public Links","timedOut":null,"duration":2086,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"bee2c327-06a0-400d-8fca-a03142028f0a","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Signup","fullTitle":"System Console can navigate to Signup","timedOut":null,"duration":2121,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"0866cf2d-78d7-422d-a2cb-bf8ecd6840c0","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Email Authentication","fullTitle":"System Console can navigate to Email Authentication","timedOut":null,"duration":2163,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"9ce3583a-3508-43a3-89ed-8d7f31f6d5aa","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Password","fullTitle":"System Console can navigate to Password","timedOut":null,"duration":2787,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"d2c82357-5674-4a86-9147-c07ea8fb984c","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Multi-factor Authentication","fullTitle":"System Console can navigate to Multi-factor Authentication","timedOut":null,"duration":2209,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"9a6ce15c-abe0-4a97-bc55-f63ef3ffc411","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Plugin Management","fullTitle":"System Console can navigate to Plugin Management","timedOut":null,"duration":2343,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"a918785e-c868-4cb8-923a-28a1b5b69a80","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Integration Management","fullTitle":"System Console can navigate to Integration Management","timedOut":null,"duration":2263,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"529f15a2-7753-403b-811a-64537530868e","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Bot Accounts","fullTitle":"System Console can navigate to Bot Accounts","timedOut":null,"duration":2321,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"0467d8b2-7592-4017-88f0-5e4982dae470","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to GIF (Beta)","fullTitle":"System Console can navigate to GIF (Beta)","timedOut":null,"duration":2329,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"699c3b1e-2f6a-4ec1-88b7-5ba4f0696955","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to CORS","fullTitle":"System Console can navigate to CORS","timedOut":null,"duration":2435,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"7a376097-f66d-4677-a78e-03b3d415f521","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false},{"title":"can navigate to Experimental Features","fullTitle":"System Console can navigate to Experimental Features","timedOut":null,"duration":2473,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Visit the URL directly\ncy.visit(testCase.url); // * Verify that the header is correct\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n}); // # Visit other URL and click the link on the sidebar\ncy.visit(testCase.otherUrl);\ncy.get('.admin-sidebar').should('be.visible').within(function () {\n  cy.findByText(testCase.sidebar).scrollIntoView().should('be.visible').click();\n}); // * Verify that it redirects to the URL and matches with the header\ncy.url().should('include', testCase.url);\ncy.get('.admin-console').should('be.visible').within(function () {\n  cy.get('.admin-console__header').should('be.visible').and(testCase.headerContains ? 'contain' : 'have.text', testCase.header);\n});","err":{},"uuid":"1ca103a9-66dc-40c1-b2b3-3c28f4555ae9","parentUUID":"bf44c527-cd3f-4a8b-ae1c-86511641b8b6","isHook":false,"skipped":false}],"suites":[],"passes":["0887d8cc-43b4-4f8d-ad4a-45a1aa2a4787","e47498dd-8d1f-444c-923b-ed43d75f0860","e9039cf2-7442-492f-9cce-df6bd84579ea","71a76663-d2aa-4725-9acb-4a002f046291","de707178-6209-4f61-b825-ae292883edf1","bcaa372a-73a1-4a22-8679-e0dc2867f9c2","d32bbef0-09a7-443c-87a9-4d45eb81337e","838fcc80-75b2-4b5d-bfa5-4f52fbcbe5f0","ed72cc84-fb25-428d-8c9a-12b1810c5679","404a36b2-2d0d-49b1-8cf4-6adf231ecd44","b709a955-0143-4e8a-92fd-90dcdd16c5d6","e5506cd3-962f-4ee0-9a78-dc198ff96859","f67732d3-f99a-462a-9661-af88e5cb5bc2","e7bab505-0722-4fc2-8dcd-d988e1361e94","3b7e8632-3365-427b-9065-b6005eec0fca","a912fec2-1b94-463b-b36e-d6867bc6e5a6","93237a9e-0ffe-4bf1-b394-8c7bb501d862","0e2edd7b-81bf-491d-af1b-8eb065fc5ec4","22675224-49e1-4f8c-8e90-b0b39315656c","862bbe27-ad99-436c-8577-c864a09afe11","9a6edbf0-8c09-4541-9d1b-6aabf5142842","0d3cddb7-2565-46bf-b0d2-6bcf0fe115f6","0e89d5e4-7b42-452b-a691-656b7ba322db","bee2c327-06a0-400d-8fca-a03142028f0a","0866cf2d-78d7-422d-a2cb-bf8ecd6840c0","9ce3583a-3508-43a3-89ed-8d7f31f6d5aa","d2c82357-5674-4a86-9147-c07ea8fb984c","9a6ce15c-abe0-4a97-bc55-f63ef3ffc411","a918785e-c868-4cb8-923a-28a1b5b69a80","529f15a2-7753-403b-811a-64537530868e","0467d8b2-7592-4017-88f0-5e4982dae470","699c3b1e-2f6a-4ec1-88b7-5ba4f0696955","7a376097-f66d-4677-a78e-03b3d415f521","1ca103a9-66dc-40c1-b2b3-3c28f4555ae9"],"failures":[],"pending":[],"skipped":[],"duration":69180,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"0c8d60eb-6296-4f36-8ae3-ab169ed7c4e4","title":"","fullFile":"cypress/integration/system_console/ui_and_api/customization_spec.js","file":"cypress/integration/system_console/ui_and_api/customization_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"134e2857-4be3-4971-9d69-98dc6f00d30d","title":"Customization","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"SC20336 - Can change Custom Brand Image setting","fullTitle":"Customization SC20336 - Can change Custom Brand Image setting","timedOut":null,"duration":4909,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Make sure necessary field is false\ncy.apiUpdateConfig({\n  TeamSettings: {\n    EnableCustomBrand: false\n  }\n});\ncy.reload(); // # Set Enable Custom Branding to true to be able to upload custom brand image\ncy.get('[id=\"TeamSettings.EnableCustomBrandtrue\"]').check();\ncy.findByTestId('CustomBrandImage').should('be.visible').within(function () {\n  // * Verify that setting is visible and matches text content\n  cy.get('label').should('be.visible').and('have.text', 'Custom Brand Image:'); // * Verify that help setting is visible and matches text content\n  var contents = 'Customize your user experience by adding a custom image to your login screen. Recommended maximum image size is less than 2 MB.';\n  cy.get('.help-text').should('be.visible').and('have.text', contents); // # upload the image\n  cy.fileUpload('input');\n}); // # Save setting\nsaveSetting(); // # Verify that after page reload image exist\ncy.reload();\ncy.findByTestId('CustomBrandImage').should('be.visible').within(function () {\n  cy.get('img').should('have.attr', 'src').and('include', '/api/v4/brand/image?t=');\n});","err":{},"uuid":"dd593f9f-519b-430c-a30c-729263436a26","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20335 - Can change Site Name setting","fullTitle":"Customization SC20335 - Can change Site Name setting","timedOut":null,"duration":1258,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify site name's setting name for is visible and matches the text\ncy.findByTestId('TeamSettings.SiteNamelabel').scrollIntoView().should('be.visible').and('have.text', 'Site Name:'); // * Verify the site name input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('TeamSettings.SiteNameinput').should('have.value', origConfig.TeamSettings.SiteName); // * Verify the site name's help text is visible and matches the text\ncy.findByTestId('TeamSettings.SiteNamehelp-text').should('be.visible').and('have.text', 'Name of service shown in login screens and UI. When not specified, it defaults to \"Mattermost\".'); // # Generate and enter a random site name\nvar siteName = 'New site name';\ncy.findByTestId('TeamSettings.SiteNameinput').clear().type(siteName); // # Save setting\nsaveSetting(); // Get config again\ncy.apiGetConfig().then(function (response) {\n  var config = response.body; // * Verify the site name is saved, directly via REST API\n  expect(config.TeamSettings.SiteName).to.eq(siteName);\n});","err":{},"uuid":"c86618c7-cd6e-4246-b678-84c3b38a229f","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20332 - Can change Site Description setting","fullTitle":"Customization SC20332 - Can change Site Description setting","timedOut":null,"duration":1292,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify site description label is visible and matches the text\ncy.findByTestId('TeamSettings.CustomDescriptionTextlabel').should('be.visible').and('have.text', 'Site Description: '); // * Verify the site description input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('TeamSettings.CustomDescriptionTextinput').should('have.value', origConfig.TeamSettings.CustomDescriptionText); // * Verify the site description help text is visible and matches the text\ncy.findByTestId('TeamSettings.CustomDescriptionTexthelp-text').find('span').should('be.visible').and('have.text', 'Description of service shown in login screens and UI. When not specified, \"All team communication in one place, searchable and accessible anywhere\" is displayed.'); // # Generate and enter a random site description\nvar siteDescription = 'New site description';\ncy.findByTestId('TeamSettings.CustomDescriptionTextinput').clear().type(siteDescription); // # Save setting\nsaveSetting(); // Get config again\ncy.apiGetConfig().then(function (response) {\n  // * Verify the site description is saved, directly via REST API\n  expect(response.body.TeamSettings.CustomDescriptionText).to.eq(siteDescription);\n});","err":{},"uuid":"b96f4e46-2007-430e-8085-afebe408121c","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20342 - Can change Custom Brand Text setting","fullTitle":"Customization SC20342 - Can change Custom Brand Text setting","timedOut":null,"duration":1196,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify custom brand text label is visible and matches the text\ncy.findByTestId('TeamSettings.CustomBrandTextlabel').scrollIntoView().should('be.visible').and('have.text', 'Custom Brand Text:'); // * Verify the custom brand input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('TeamSettings.CustomBrandTextinput').should('have.value', origConfig.TeamSettings.CustomBrandText); // * Verify the custom brand help text is visible and matches the text\ncy.findByTestId('TeamSettings.CustomBrandTexthelp-text').find('span').should('be.visible').and('have.text', 'Text that will appear below your custom brand image on your login screen. Supports Markdown-formatted text. Maximum 500 characters allowed.'); //Enable custom branding\ncy.findByTestId('TeamSettings.EnableCustomBrandtrue').check({\n  force: true\n}); // # Enter a custom brand text\nvar customBrandText = 'Random brand text';\ncy.findByTestId('TeamSettings.CustomBrandTextinput').clear().type(customBrandText); // # Save setting\nsaveSetting(); // Get config again\ncy.apiGetConfig().then(function (response) {\n  // * Verify the custom brand text is saved, directly via REST API\n  expect(response.body.TeamSettings.CustomBrandText).to.eq(customBrandText);\n});","err":{},"uuid":"1e06f35e-84d2-4233-ad3c-162f6ba5d89b","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20331 - Can change Report a Problem Link setting","fullTitle":"Customization SC20331 - Can change Report a Problem Link setting","timedOut":null,"duration":1991,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify Report a Problem link label is visible and matches the text\ncy.findByTestId('SupportSettings.ReportAProblemLinklabel').scrollIntoView().should('be.visible').and('have.text', 'Report a Problem Link:'); // * Verify Report a Problem link input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('SupportSettings.ReportAProblemLinkinput').should('have.value', origConfig.SupportSettings.ReportAProblemLink); // * Verify Report a Problem link help text is visible and matches the text\ncy.findByTestId('SupportSettings.ReportAProblemLinkhelp-text').find('span').should('be.visible').and('have.text', 'The URL for the Report a Problem link in the Main Menu. If this field is empty, the link is removed from the Main Menu.'); // # Enter a problem link\nvar reportAProblemLink = 'https://about.mattermost.com/default-report-a-problem/test';\ncy.findByTestId('SupportSettings.ReportAProblemLinkinput').clear().type(reportAProblemLink); // # Save setting\nsaveSetting(); // Get config again\ncy.apiGetConfig().then(function (response) {\n  // * Verify the Report a Problem link is saved, directly via REST API\n  expect(response.body.SupportSettings.ReportAProblemLink).to.eq(reportAProblemLink);\n});","err":{},"uuid":"c5297fe3-56ba-4def-8377-90ff287398dd","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20330 - Can change Privacy Policy Link setting","fullTitle":"Customization SC20330 - Can change Privacy Policy Link setting","timedOut":null,"duration":1188,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify that setting is visible and matches text content\ncy.findByTestId('SupportSettings.PrivacyPolicyLinklabel').scrollIntoView().should('be.visible').and('have.text', 'Privacy Policy Link:'); // * Verify that help setting is visible and matches text content\nvar content = 'The URL for the Privacy link on the login and sign-up pages. If this field is empty, the Privacy link is hidden from users.';\ncy.findByTestId('SupportSettings.PrivacyPolicyLinkhelp-text').scrollIntoView().find('span').should('be.visible').and('have.text', content); // * Verify the input box visible and has default value\ncy.findByTestId('SupportSettings.PrivacyPolicyLinkinput').scrollIntoView().should('have.value', origConfig.SupportSettings.PrivacyPolicyLink).and('be.visible'); // # Fill input field with value\nvar stringToSave = 'https://some.com';\ncy.findByTestId('SupportSettings.PrivacyPolicyLinkinput').clear().type(stringToSave); // # Save setting\nsaveSetting(); // * Verify that the value is save, directly via REST API\ncy.apiGetConfig().then(function (response) {\n  expect(response.body.SupportSettings.PrivacyPolicyLink).to.equal(stringToSave);\n});","err":{},"uuid":"7d665579-aaa4-4627-bbf9-c4f429c0fb7b","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20337 Can change Support Email setting","fullTitle":"Customization SC20337 Can change Support Email setting","timedOut":null,"duration":1228,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Scroll Support Email section into view and verify that it's visible\ncy.findByTestId('SupportSettings.SupportEmail').scrollIntoView().should('be.visible'); // * Verify that setting label is visible and matches text content\ncy.findByTestId('SupportSettings.SupportEmaillabel').should('be.visible').and('have.text', 'Support Email:'); // * Verify the Support Email input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('SupportSettings.SupportEmailinput').should('have.value', origConfig.SupportSettings.SupportEmail); // * Verify that the help text is visible and matches text content\ncy.findByTestId('SupportSettings.SupportEmailhelp-text').find('span').should('be.visible').and('have.text', 'Email address displayed on email notifications and during tutorial for end users to ask support questions.');\nvar newEmail = 'support@example.com'; // * Verify that set value is visible and matches text\ncy.findByTestId('SupportSettings.SupportEmail').find('input').clear().type(newEmail).should('have.value', newEmail); // # Save setting\nsaveSetting(); // * Verify that the config is correctly saved in the server\ncy.apiGetConfig().then(function (response) {\n  expect(response.body.SupportSettings.SupportEmail).to.equal(newEmail);\n});","err":{},"uuid":"eb66aad2-87ba-4fb5-9af3-52b56cdec948","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20338 Can change Android App Download Link setting","fullTitle":"Customization SC20338 Can change Android App Download Link setting","timedOut":null,"duration":1425,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Scroll Android App Download Link section into view and verify that it's visible\ncy.findByTestId('NativeAppSettings.AndroidAppDownloadLink').scrollIntoView().should('be.visible'); // * Verify that Android App Download Link label is visible and matches text content\ncy.findByTestId('NativeAppSettings.AndroidAppDownloadLinklabel').should('be.visible').and('have.text', 'Android App Download Link:'); // * Verify the Android App Download Link input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('NativeAppSettings.AndroidAppDownloadLinkinput').should('have.value', origConfig.NativeAppSettings.AndroidAppDownloadLink); // * Verify that the help text is visible and matches text content\ncy.findByTestId('NativeAppSettings.AndroidAppDownloadLinkhelp-text').find('span').should('be.visible').and('have.text', 'Add a link to download the Android app. Users who access the site on a mobile web browser will be prompted with a page giving them the option to download the app. Leave this field blank to prevent the page from appearing.');\nvar newAndroidAppDownloadLink = 'https://example.com/android-app/'; // * Verify that set value is visible and matches text\ncy.findByTestId('NativeAppSettings.AndroidAppDownloadLinkinput').clear().type(newAndroidAppDownloadLink).should('have.value', newAndroidAppDownloadLink); // # Save setting\nsaveSetting(); // * Verify that the config is correctly saved in the server\ncy.apiGetConfig().then(function (response) {\n  expect(response.body.NativeAppSettings.AndroidAppDownloadLink).to.equal(newAndroidAppDownloadLink);\n});","err":{},"uuid":"f8d194cd-9700-4ff2-b901-1c5ec41e8ac9","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20340 Can change iOS App Download Link setting","fullTitle":"Customization SC20340 Can change iOS App Download Link setting","timedOut":null,"duration":1341,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Scroll iOS App Download Link section into view and verify that it's visible\ncy.findByTestId('NativeAppSettings.IosAppDownloadLink').scrollIntoView().should('be.visible'); // * Verify that iOS App Download Link label is visible and matches text content\ncy.findByTestId('NativeAppSettings.IosAppDownloadLinklabel').should('be.visible').and('have.text', 'iOS App Download Link:'); // * Verify the iOS App Download Link input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('NativeAppSettings.IosAppDownloadLinkinput').should('have.value', origConfig.NativeAppSettings.IosAppDownloadLink); // * Verify that the help text is visible and matches text content\ncy.findByTestId('NativeAppSettings.IosAppDownloadLinkhelp-text').find('span').should('be.visible').and('have.text', 'Add a link to download the iOS app. Users who access the site on a mobile web browser will be prompted with a page giving them the option to download the app. Leave this field blank to prevent the page from appearing.');\nvar newIosAppDownloadLink = 'https://example.com/iOS-app/'; // * Verify that set value is visible and matches text\ncy.findByTestId('NativeAppSettings.IosAppDownloadLinkinput').clear().type(newIosAppDownloadLink).should('have.value', newIosAppDownloadLink); // # Save setting\nsaveSetting(); // * Verify that the config is correctly saved in the server\ncy.apiGetConfig().then(function (response) {\n  expect(response.body.NativeAppSettings.IosAppDownloadLink).to.equal(newIosAppDownloadLink);\n});","err":{},"uuid":"f70620ee-3b94-445b-8d41-8186d98dd3c9","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20333 - Can change Mattermost Apps Download Page Link setting","fullTitle":"Customization SC20333 - Can change Mattermost Apps Download Page Link setting","timedOut":null,"duration":1471,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify Mattermost Apps Download Page Link's setting name is visible and matches the text\ncy.findByTestId('NativeAppSettings.AppDownloadLinklabel').scrollIntoView().should('be.visible').and('have.text', 'Mattermost Apps Download Page Link:'); // * Verify the Mattermost Apps Download Page Link input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('NativeAppSettings.AppDownloadLinkinput').should('have.value', origConfig.NativeAppSettings.AppDownloadLink); // * Verify the site name's help text is visible and matches the text\ncy.findByTestId('NativeAppSettings.AppDownloadLinkhelp-text').find('span').should('be.visible').and('have.text', 'Add a link to a download page for the Mattermost apps. When a link is present, an option to \"Download Mattermost Apps\" will be added in the Main Menu so users can find the download page. Leave this field blank to hide the option from the Main Menu.'); // # Enter new App download link\nvar newAppDownloadLink = 'https://example.com/app-download-link/';\ncy.findByTestId('NativeAppSettings.AppDownloadLinkinput').clear().type(newAppDownloadLink); // # Save setting\nsaveSetting(); // Get config again\ncy.apiGetConfig().then(function (response) {\n  var config = response.body; // * Verify the App download link is saved, directly via REST API\n  expect(config.NativeAppSettings.AppDownloadLink).to.eq(newAppDownloadLink);\n});","err":{},"uuid":"e21bb825-a31b-4650-8a1f-78c96765e14b","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20330 - Can change Help Link setting","fullTitle":"Customization SC20330 - Can change Help Link setting","timedOut":null,"duration":1156,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify that setting is visible and matches text content\nvar contents = ['The URL for the Help link on the Mattermost login page, sign-up pages, and Main Menu. If this field is empty, the Help link is hidden from users.'];\ncy.findByTestId('SupportSettings.HelpLinklabel').scrollIntoView().should('be.visible').and('have.text', 'Help Link:'); // * Verify that help setting is visible and matches text content\ncy.findByTestId('SupportSettings.HelpLinkhelp-text').scrollIntoView().find('span').should('be.visible').and('have.text', contents[0]); // * Verify the input box visible and has default value\ncy.findByTestId('SupportSettings.HelpLinkinput').scrollIntoView().should('have.value', origConfig.SupportSettings.HelpLink).and('be.visible'); // # Fill input field with value\nvar stringToSave = 'https://some.com';\ncy.findByTestId('SupportSettings.HelpLinkinput').clear().type(stringToSave); // # Save setting\nsaveSetting(); // * Verify that the value is save, directly via REST API\ncy.apiGetConfig().then(function (response) {\n  expect(response.body.SupportSettings.HelpLink).to.equal(stringToSave);\n});","err":{},"uuid":"57689f98-efce-4d3f-a8a1-f97167680975","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20341 Can change About Link setting","fullTitle":"Customization SC20341 Can change About Link setting","timedOut":null,"duration":1553,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var newAboutLink = 'https://about.mattermost.com/new-about-page/'; // * Verify that setting is visible and has the correct label text\ncy.findByTestId('SupportSettings.AboutLinklabel').scrollIntoView().should('be.visible').and('have.text', 'About Link:'); // * Verify that the help text is visible and matches text content\ncy.findByTestId('SupportSettings.AboutLinkhelp-text').should('be.visible').and('have.text', 'The URL for the About link on the Mattermost login and sign-up pages. If this field is empty, the About link is hidden from users.'); // * Verify that the existing is visible and has default value\ncy.findByTestId('SupportSettings.AboutLinkinput').should('be.visible').and('have.value', origConfig.SupportSettings.AboutLink); // # Clear existing about link and type the new about link\ncy.findByTestId('SupportSettings.AboutLinkinput').clear().type(newAboutLink); // # Save setting\nsaveSetting();\ncy.apiGetConfig().then(function (response) {\n  expect(response.body.SupportSettings.AboutLink).to.equal(newAboutLink);\n});","err":{},"uuid":"3d3900dc-d6da-4e65-bf69-84d8060b02a4","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20329 - Can change Terms of Service Link setting","fullTitle":"Customization SC20329 - Can change Terms of Service Link setting","timedOut":null,"duration":1135,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// * Verify site name's setting name for is visible and matches the text\ncy.findByTestId('SupportSettings.TermsOfServiceLinklabel').scrollIntoView().should('be.visible').and('have.text', 'Terms of Service Link:'); // * Verify the site name input box has default value. The default value depends on the setup before running the test.\ncy.findByTestId('SupportSettings.TermsOfServiceLinkinput').should('have.value', origConfig.SupportSettings.TermsOfServiceLink); // * Verify the site name's help text is visible and matches the text\ncy.findByTestId('SupportSettings.TermsOfServiceLinkhelp-text').find('span').should('be.visible').and('have.text', 'Link to the terms under which users may use your online service. By default, this includes the ' + '\"Mattermost Conditions of Use (End Users)\" explaining the terms under which Mattermost software is ' + 'provided to end users. If you change the default link to add your own terms for using the service you ' + 'provide, your new terms must include a link to the default terms so end users are aware of the Mattermost ' + 'Conditions of Use (End User) for Mattermost software.'); // # Enter a new help link\nvar newValue = 'https://test.com';\ncy.findByTestId('SupportSettings.TermsOfServiceLinkinput').clear().type(newValue); // # Save setting\nsaveSetting(); // Get config again\ncy.apiGetConfig().then(function (response) {\n  var config = response.body; // * Verify the site name is saved, directly via REST API\n  expect(config.SupportSettings.TermsOfServiceLink).to.eq(newValue);\n});","err":{},"uuid":"5cff6f64-0c78-438c-8300-cd6b9066f80f","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false},{"title":"SC20339 - Can change Enable Custom Branding setting","fullTitle":"Customization SC20339 - Can change Enable Custom Branding setting","timedOut":null,"duration":2221,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Make sure necessary field is false\ncy.apiUpdateConfig({\n  TeamSettings: {\n    EnableCustomBrand: false\n  }\n});\ncy.reload();\ncy.findByTestId('TeamSettings.EnableCustomBrand').should('be.visible').within(function () {\n  // * Verify that setting is visible and matches text content\n  cy.get('label:first').should('be.visible').and('have.text', 'Enable Custom Branding: '); // * Verify that help setting is visible and matches text content\n  var content = 'Enable custom branding to show an image of your choice, uploaded below, and some help text, written below, on the login page.';\n  cy.get('.help-text').should('be.visible').and('have.text', content); // # Set Enable Custom Branding to true\n  cy.findByTestId('TeamSettings.EnableCustomBrandtrue').check();\n}); // # Save setting\nsaveSetting(); // * Verify that the value is save, directly via REST API\ncy.apiGetConfig().then(function (response) {\n  expect(response.body.TeamSettings.EnableCustomBrand).to.equal(true);\n}); // # Set Enable Custom Branding to false\ncy.findByTestId('TeamSettings.EnableCustomBrandfalse').check(); // # Save setting\nsaveSetting(); // * Verify that the value is save, directly via REST API\ncy.apiGetConfig().then(function (response) {\n  expect(response.body.TeamSettings.EnableCustomBrand).to.equal(false);\n});","err":{},"uuid":"ff1d9d93-d69b-4e78-ba49-4ae347c6a107","parentUUID":"134e2857-4be3-4971-9d69-98dc6f00d30d","isHook":false,"skipped":false}],"suites":[],"passes":["dd593f9f-519b-430c-a30c-729263436a26","c86618c7-cd6e-4246-b678-84c3b38a229f","b96f4e46-2007-430e-8085-afebe408121c","1e06f35e-84d2-4233-ad3c-162f6ba5d89b","c5297fe3-56ba-4def-8377-90ff287398dd","7d665579-aaa4-4627-bbf9-c4f429c0fb7b","eb66aad2-87ba-4fb5-9af3-52b56cdec948","f8d194cd-9700-4ff2-b901-1c5ec41e8ac9","f70620ee-3b94-445b-8d41-8186d98dd3c9","e21bb825-a31b-4650-8a1f-78c96765e14b","57689f98-efce-4d3f-a8a1-f97167680975","3d3900dc-d6da-4e65-bf69-84d8060b02a4","5cff6f64-0c78-438c-8300-cd6b9066f80f","ff1d9d93-d69b-4e78-ba49-4ae347c6a107"],"failures":[],"pending":[],"skipped":[],"duration":23364,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"ba35cd03-cf5d-4b08-b92e-5724b64aff21","title":"","fullFile":"cypress/integration/team_settings/create_a_team_spec.js","file":"cypress/integration/team_settings/create_a_team_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"355ad767-0f94-428e-a9b8-9ba65644a0fc","title":"Teams Suite","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"TS13872 Create a team","fullTitle":"Teams Suite TS13872 Create a team","timedOut":null,"duration":1074,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"var self = this,\n    args = arguments;\nreturn new Promise(function (resolve, reject) {\n  var gen = fn.apply(self, args);\n  function _next(value) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n  }\n  function _throw(err) {\n    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n  }\n  _next(undefined);\n});","err":{},"uuid":"77769a72-f6f5-4d36-9559-1a6be5d2e9dd","parentUUID":"355ad767-0f94-428e-a9b8-9ba65644a0fc","isHook":false,"skipped":false}],"suites":[],"passes":["77769a72-f6f5-4d36-9559-1a6be5d2e9dd"],"failures":[],"pending":[],"skipped":[],"duration":1074,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"87476e25-678d-4bcc-87f3-6eeabde76eb6","title":"","fullFile":"cypress/integration/team_settings/invite_members_spec.js","file":"cypress/integration/team_settings/invite_members_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"0e50871b-695a-465b-9b9a-681400ad117b","title":"Invite Members","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Invite Members to Team as Member","fullTitle":"Invite Members Invite Members to Team as Member","timedOut":null,"duration":4240,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # function to open and select invite menu item\nopenClickInviteMenuItem(); // * verify Invite Members\nverifyInviteMembersModal(); // # invite existing user\ninviteUser(user1); // * verify Invitation was created successfully\nverifyInvitationSuccess(); // * verify returned to \"InviteMembers\" modal\nverifyInviteMembersModal(); // # close modal\ncloseAndComplete();","err":{},"uuid":"9418864b-4254-4cdc-ac93-db3d82e74290","parentUUID":"0e50871b-695a-465b-9b9a-681400ad117b","isHook":false,"skipped":false},{"title":"Invite Members to Team as SysAdmin","fullTitle":"Invite Members Invite Members to Team as SysAdmin","timedOut":null,"duration":4345,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # login and visit\ncy.apiLogin('sysadmin');\ncy.visit(\"/\".concat(testTeam.name)); // # function to open and select invite menu item\nopenClickInviteMenuItem(); // # function to verify and click \"select members\"\nverifyClickInvitePeopleDialog(); // * verify Invite Members\nverifyInviteMembersModal(); // # invite existing user\ninviteUser(user2); // * verify Invitation was created successfully\nverifyInvitationSuccess(); // * verify returned to \"InviteMembers\" modal\nverifyClickInvitePeopleDialog(); // # close module\ncloseAndComplete();","err":{},"uuid":"09a9367f-6c03-49c3-9782-89a5d29e986a","parentUUID":"0e50871b-695a-465b-9b9a-681400ad117b","isHook":false,"skipped":false}],"suites":[],"passes":["9418864b-4254-4cdc-ac93-db3d82e74290","09a9367f-6c03-49c3-9782-89a5d29e986a"],"failures":[],"pending":[],"skipped":[],"duration":8585,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"adcfca3f-10a4-48f4-9b92-b625da29f251","title":"","fullFile":"cypress/integration/team_settings/remove_team_icon_spec.js","file":"cypress/integration/team_settings/remove_team_icon_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"2f290d9c-1e48-4767-93be-228475865786","title":"Teams Settings","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"TS14632 Remove Team Icon","fullTitle":"Teams Settings TS14632 Remove Team Icon","timedOut":null,"duration":7677,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// function to open the team settings dialog\nopenTeamSettingsDialog(); // verify the settings picture button is visible to click\ncy.findByTestId('inputSettingPictureButton').should('be.visible').click(); // before uploading the picture the save button must be disabled\ncy.findByTestId('saveSettingPicture').should('be.disabled'); // # Upload a file on center view\ncy.fileUpload('[data-testid=\"uploadPicture\"]', 'mattermost-icon.png'); // after uploading the picture the save button must be disabled\ncy.findByTestId('saveSettingPicture').should('not.be.disabled').click(); // close the team settings dialog\ncy.get('#teamSettingsModalLabel > .close').click();\ncy.get(\"#\".concat(team.name, \"TeamButton\")).within(function () {\n  cy.findByTestId('teamIconImage').should('be.visible');\n  cy.findByTestId('teamIconInitial').should('not.exist');\n}); // function to open the team settings dialog\nopenTeamSettingsDialog(); // click on 'X' icon to remove the image\ncy.findByTestId('removeSettingPicture').should('be.visible').click(); // click on the cancel button\ncy.findByTestId('cancelSettingPicture').should('be.visible').click(); // close the team settings dialog\ncy.get('#teamSettingsModalLabel > .close').click(); // verify the team icon image is visible and initial team holder is not visible\ncy.get(\"#\".concat(team.name, \"TeamButton\")).within(function () {\n  cy.findByTestId('teamIconImage').should('be.visible');\n  cy.findByTestId('teamIconInitial').should('not.exist');\n}); // function to open the team settings dialog\nopenTeamSettingsDialog(); // click on 'X' icon to remove the image\ncy.findByTestId('removeSettingPicture').should('be.visible').click(); // click on the save picture button\ncy.findByTestId('saveSettingPicture').click(); // close the team settings dialog\ncy.get('#teamSettingsModalLabel > .close').click(); // after removing the team icon initial team holder is visible but not team icon holder\ncy.get(\"#\".concat(team.name, \"TeamButton\")).within(function () {\n  cy.findByTestId('teamIconImage').should('not.exist');\n  cy.findByTestId('teamIconInitial').should('be.visible');\n});","err":{},"uuid":"40ab2a7c-0595-4c0c-a420-70d2093c71bc","parentUUID":"2f290d9c-1e48-4767-93be-228475865786","isHook":false,"skipped":false}],"suites":[],"passes":["40ab2a7c-0595-4c0c-a420-70d2093c71bc"],"failures":[],"pending":[],"skipped":[],"duration":7677,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"d0f6d618-8b1b-41db-ab6d-7532b0c28e35","title":"","fullFile":"cypress/integration/team_settings/teammates_pagination_spec.js","file":"cypress/integration/team_settings/teammates_pagination_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"5d8e9fe2-c909-47e7-86be-f48d4f56c9ab","title":"Teams Suite","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"TS14868 Team Admin can use Next button to page through list in Manage Members","fullTitle":"Teams Suite TS14868 Team Admin can use Next button to page through list in Manage Members","timedOut":null,"duration":5824,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Click hamburger main menu\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click(); // # Click Manage Members\ncy.get('#sidebarDropdownMenu #manageMembers').should('be.visible').click(); // * Check Manage Members modal dialog\ncy.get('#teamMemberModalLabel').should('be.visible'); // * Check teammate total\ncy.get('#searchableUserListTotal').should('contain', '1 - 50 members of 60 total'); // # Click Next button\ncy.get('#searchableUserListNextBtn').should('be.visible').click(); // * Check teammate list advances by one page\ncy.get('#searchableUserListTotal').should('contain', '51 - 60 members of 60 total'); // # Click Prev button\ncy.get('#searchableUserListPrevBtn').should('be.visible').click(); // * Check teammate list reverses by one page\ncy.get('#searchableUserListTotal').should('contain', '1 - 50 members of 60 total');","err":{},"uuid":"a6a4a26a-9f5a-4308-aa94-8ded269ac491","parentUUID":"5d8e9fe2-c909-47e7-86be-f48d4f56c9ab","isHook":false,"skipped":false}],"suites":[],"passes":["a6a4a26a-9f5a-4308-aa94-8ded269ac491"],"failures":[],"pending":[],"skipped":[],"duration":5824,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"3d7fa68f-a29c-4662-8101-5747f80be646","title":"","fullFile":"cypress/integration/team_settings/teams_spec.js","file":"cypress/integration/team_settings/teams_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"0d34c376-c74c-444b-9a59-55df83562975","title":"Teams Suite","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"TS12995 Cancel out of leaving a team","fullTitle":"Teams Suite TS12995 Cancel out of leaving a team","timedOut":null,"duration":3601,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login and go to /\ncy.apiLogin('user-1');\ncy.visit('/ad-1/channels/town-square'); // * check the team name\ncy.get('#headerTeamName').should('contain', 'eligendi'); // * check the initialUrl\ncy.url().should('include', '/ad-1/channels/town-square'); // # open the drop down menu\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click(); // # click the leave team\ncy.get('#sidebarDropdownMenu #leaveTeam').should('be.visible').click(); // * Check that the \"leave team modal\" opened up\ncy.get('#leaveTeamModal').should('be.visible'); // # click on no\ncy.get('#leaveTeamNo').click(); // * Check that the \"leave team modal\" closed\ncy.get('#leaveTeamModal').should('not.be.visible'); // * check the team name\ncy.get('#headerTeamName').should('contain', 'eligendi'); // * check the finalUrl\ncy.url().should('include', '/ad-1/channels/town-square');","err":{},"uuid":"17f8f8d3-a579-40ae-9cd2-c8cc8456b149","parentUUID":"0d34c376-c74c-444b-9a59-55df83562975","isHook":false,"skipped":false},{"title":"TS13548 Team or System Admin searches and adds new team member","fullTitle":"Teams Suite TS13548 Team or System Admin searches and adds new team member","timedOut":null,"duration":10097,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Login as sysadmin and update config\ncy.apiLogin('sysadmin');\ncy.apiUpdateConfig({\n  GuestAccountsSettings: {\n    Enable: false\n  }\n});\nvar user1 = _users[\"default\"]['user-1'];\nvar sysadmin = _users[\"default\"].sysadmin;\nvar letterCount = 3;\nvar nameStartsWith = user1.firstName.slice(0, letterCount);\nvar teamName = 'Stub team';\nvar max = 9999;\nvar teamURL = \"stub-team-\".concat((0, _utils.getRandomInt)(max).toString()); // # Login as System Admin, update teammate name display preference to \"username\" and visit \"/\"\ncy.apiLogin(sysadmin.username);\ncy.apiSaveTeammateNameDisplayPreference('username');\ncy.visit('/ad-1/channels/town-square'); // # Create team\ncy.createNewTeam(teamName, teamURL); // # Click hamburger menu > Invite People\ncy.get('#sidebarHeaderDropdownButton').should('be.visible').click();\ncy.get('#invitePeople').should('be.visible').and('contain', 'Invite People').find('.MenuItem__help-text').should('have.text', 'Add or invite people to the team');\ncy.get('#invitePeople').click(); // * Check that the Invitation Modal opened up\ncy.findByTestId('invitationModal', {\n  timeout: TIMEOUTS.TINY\n}).should('be.visible');\ncy.findByTestId('inputPlaceholder').should('be.visible').within(function ($el) {\n  // # Type the first letters of a user\n  cy.wrap($el).get('input').type(nameStartsWith, {\n    force: true\n  }); // * Verify user is on the list, then select by clicking on it\n  cy.wrap($el).get('.users-emails-input__menu').children().should('have.length', 1).eq(0).should('contain', \"@\".concat(user1.username)).and('contain', \"\".concat(user1.firstName, \" \").concat(user1.lastName)).click();\n}); // # Click \"Invite Members\" button, then \"Done\" button\ncy.findByText(/Invite Members/).should('be.visible').click();\ncy.findByText(/Done/).should('be.visible').click(); // * As sysadmin, verify system message posts in Town Square and Off-Topic\ncy.getLastPost().wait(TIMEOUTS.TINY).then(function ($el) {\n  cy.wrap($el).get('.user-popover').should('be.visible').and('have.text', 'System');\n  cy.wrap($el).get('.post-message__text-container').should('be.visible').and('contain', 'You joined the team.').and('contain', \"@\".concat(user1.username, \" added to the team by you.\"));\n});\ncy.get('#sidebarItem_off-topic').should('be.visible').click({\n  force: true\n});\ncy.getLastPost().wait(TIMEOUTS.TINY).then(function ($el) {\n  cy.wrap($el).get('.user-popover').should('be.visible').and('have.text', 'System');\n  cy.wrap($el).get('.post-message__text-container').should('be.visible').and('contain', 'You joined the channel.').and('contain', \"@\".concat(user1.username, \" added to the channel by you.\"));\n}); // # Login as user added to Team, update teammate name display preference to \"username\" and reload\ncy.apiLogin(user1.username);\ncy.apiSaveTeammateNameDisplayPreference('username');\ncy.reload(); // # Visit the new team and verify that it's in the correct team view\ncy.visit(\"/\".concat(teamURL, \"/channels/town-square\"));\ncy.get(\"#\".concat(teamURL, \"TeamButton\")).should('have.attr', 'href').and('contain', teamURL); // * As user-1, verify system message posts in Town Square and Off-Topic\ncy.getLastPost().wait(TIMEOUTS.TINY).then(function ($el) {\n  cy.wrap($el).get('.user-popover').should('be.visible').and('have.text', 'System');\n  cy.wrap($el).get('.post-message__text-container').should('be.visible').and('contain', \"@\".concat(sysadmin.username, \" joined the team.\")).and('contain', \"You were added to the team by @\".concat(sysadmin.username, \".\"));\n});\ncy.get('#sidebarItem_off-topic').should('be.visible').click({\n  force: true\n});\ncy.getLastPost().wait(TIMEOUTS.TINY).then(function ($el) {\n  cy.wrap($el).get('.user-popover').should('be.visible').and('have.text', 'System');\n  cy.wrap($el).get('.post-message__text-container').should('be.visible').and('contain', \"@\".concat(sysadmin.username, \" joined the channel.\")).and('contain', \"You were added to the channel by @\".concat(sysadmin.username, \".\"));\n}); // # Remove user from team\nremoveTeamMember(teamURL, user1.username);","err":{},"uuid":"9ddad101-7c7b-403f-9fa7-962044b43bf0","parentUUID":"0d34c376-c74c-444b-9a59-55df83562975","isHook":false,"skipped":false},{"title":"TS14633 Leave all teams","fullTitle":"Teams Suite TS14633 Leave all teams","timedOut":null,"duration":24652,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/team_settings/teams_spec.js/Teams Suite -- TS14633 Leave all teams (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/team_settings/teams_spec.js/Teams Suite -- TS14633 Leave all teams (failed).png\"\n}","code":"cy.apiUpdateConfig({\n  EmailSettings: {\n    RequireEmailVerification: false\n  }\n}); // # Login as new user\ncy.apiCreateAndLoginAsNewUser(); // # Leave all teams\ncy.apiGetTeams().then(function (response) {\n  response.body.forEach(function (team) {\n    cy.visit(\"/\".concat(team.name, \"/channels/town-square\"));\n    cy.get('#headerTeamName').should('be.visible').and('have.text', team.display_name);\n    cy.leaveTeam();\n  });\n}); // * Check that it redirects into team selection page after leaving all teams\ncy.url().should('include', '/select_team'); // # Check that logout is visible and then click to logout\ncy.get('#logout').should('be.visible').click(); // * Ensure user is logged out\ncy.url({\n  timeout: TIMEOUTS.LARGE\n}).should('include', 'login');","err":{"message":"CypressError: Timed out retrying: expected 'https://cypress.test.mattermost.com/stub-team-1714/channels/town-square' to include '/select_team'","estack":"CypressError: Timed out retrying: expected 'https://cypress.test.mattermost.com/stub-team-1714/channels/town-square' to include '/select_team'\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"df756faf-a065-4620-b2b4-ca668c1f0062","parentUUID":"0d34c376-c74c-444b-9a59-55df83562975","isHook":false,"skipped":false}],"suites":[],"passes":["17f8f8d3-a579-40ae-9cd2-c8cc8456b149","9ddad101-7c7b-403f-9fa7-962044b43bf0"],"failures":["df756faf-a065-4620-b2b4-ca668c1f0062"],"pending":[],"skipped":[],"duration":38350,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"e88ed859-8265-40ca-b9c8-4f56bd10d764","title":"","fullFile":"cypress/integration/toast/toast_spec.js","file":"cypress/integration/toast/toast_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"cc099213-ea84-4bd1-9d16-a004b2d79b32","title":"toasts","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"Unread messages toast is shown when visiting a channel with unreads and should disappear if scrolled to bottom","fullTitle":"toasts Unread messages toast is shown when visiting a channel with unreads and should disappear if scrolled to bottom","timedOut":null,"duration":13264,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Add enough messages\nfor (var index = 0; index < 30; index++) {\n  cy.postMessageAs({\n    sender: otherUser,\n    message: \"This is an old message [\".concat(index, \"]\"),\n    channelId: townsquareChannelId\n  });\n}\nvisitTownSquareAndWaitForPageToLoad(); // * find the toast\ncy.get('div.toast').should('be.visible'); // * check that the message is correct\ncy.get('div.toast__message>span').should('be.visible').first().contains('30 new messages');\ncy.get('div.post-list__dynamic').should('be.visible').scrollTo('bottom', {\n  duration: 1000\n}); // * should hide the scroll to new message button as it is at the bottom\ncy.get('div.toast__jump').should('not.be.visible'); // * As time elapsed the toast should be hidden\ncy.get('div.toast').should('be.not.visible');","err":{},"uuid":"1d00b601-4d44-461e-a4fa-574733df8efc","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"should show new message indicator when posts arrive and user is not at bottom","fullTitle":"toasts should show new message indicator when posts arrive and user is not at bottom","timedOut":null,"duration":4111,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad();\nscrollUpAndPostAMessage().then(function () {\n  // * find the toast\n  cy.get('div.toast').should('be.visible'); // * check that the message is correct\n  cy.get('div.toast__message>span').should('be.visible').first().contains('1 new message');\n});","err":{},"uuid":"51b61dc5-ae3e-435e-841a-fcfdd444a6b0","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"New message toast should not have action button when at bottom and hide toast in a sec","fullTitle":"toasts New message toast should not have action button when at bottom and hide toast in a sec","timedOut":null,"duration":5095,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad();\nscrollUpAndPostAMessage().then(function () {\n  // * find the toast\n  cy.get('div.toast').should('be.visible');\n  cy.get('div.post-list__dynamic').should('be.visible').scrollTo('bottom', {\n    duration: 1000\n  }); // * should hide the scroll to new message button as it is at the bottom\n  cy.get('div.toast__jump').should('not.be.visible'); // * As time elapsed the toast should be hidden\n  cy.get('div.toast').should('be.hidden');\n});","err":{},"uuid":"1e67752c-4b1f-4556-9783-55b2bb57e937","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"new message toast should take to new messages line when clicked","fullTitle":"toasts new message toast should take to new messages line when clicked","timedOut":null,"duration":4938,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad(); // # Scroll up so bottom is not visible\nscrollUp(); // # Post few new message\nfor (var index = 0; index < 4; index++) {\n  cy.postMessageAs({\n    sender: otherUser,\n    message: \"This is a new message [\".concat(index, \"]\"),\n    channelId: townsquareChannelId\n  });\n}\ncy.get('.NotificationSeparator').should('not.be.visible');\ncy.get('div.toast__visible div.toast__pointer').should('be.visible').click(); // * should scroll NotificationSeparator into view\ncy.get('.NotificationSeparator').should('be.visible');","err":{},"uuid":"57b9032d-676e-4464-b650-043d5869c75d","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"Unread messages toast should take to bottom when clicked","fullTitle":"toasts Unread messages toast should take to bottom when clicked","timedOut":null,"duration":7109,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad(); // # Scroll up so bottom is not visible\nscrollUp(); // # Add enough messages\nfor (var index = 0; index < 10; index++) {\n  cy.postMessageAs({\n    sender: otherUser,\n    message: \"This is a message for checking action on toast [\".concat(index, \"]\"),\n    channelId: townsquareChannelId\n  });\n} // * find the toast\n\ncy.get('div.toast').should('be.visible');\ncy.get('div.toast__visible div.toast__pointer').should('be.visible').click();\ncy.getLastPostId().then(function (postId) {\n  // * last posted message should be in view\n  cy.get(\"#postMessageText_\".concat(postId, \" > p\")).should('be.visible').contains('This is a message for checking action on toast [9]');\n});","err":{},"uuid":"d37f8408-6c63-488d-a04b-336adb63c8c4","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"new message toast should be removed on clicking remove button","fullTitle":"toasts new message toast should be removed on clicking remove button","timedOut":null,"duration":4387,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad();\nscrollUpAndPostAMessage().then(function () {\n  cy.get('div.toast').should('be.visible'); // # Click on toast dismiss button to close the toast\n  cy.findByTestId('dismissToast').should('be.visible').click();\n  cy.get('div.toast').should('not.be.visible');\n});","err":{},"uuid":"d9b12b65-f612-4204-9ae4-05339086c311","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"Recurring visit to a channel with unreads should have unread toast ","fullTitle":"toasts Recurring visit to a channel with unreads should have unread toast ","timedOut":null,"duration":15262,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad();\nscrollUp();\ncy.get('#sidebarItem_off-topic').should('be.visible').scrollIntoView().click(); // # Add enough messages\nfor (var index = 0; index < 40; index++) {\n  cy.postMessageAs({\n    sender: otherUser,\n    message: \"This is a new message [\".concat(index, \"]\"),\n    channelId: townsquareChannelId\n  });\n}\ncy.go('back'); // # Scroll up so bottom is not visible\nscrollUp(); // # Post a new message\ncy.get('div.toast').should('be.visible');\ncy.findByTestId('dismissToast').should('be.visible').click();\ncy.get('div.toast').should('not.be.visible');","err":{},"uuid":"5a21ad69-6678-44d3-b6cf-e66c8cfc095c","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"New message count should increase with incoming messages","fullTitle":"toasts New message count should increase with incoming messages","timedOut":null,"duration":4715,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad();\nscrollUpAndPostAMessage().then(function () {\n  cy.get('div.toast').should('be.visible');\n  cy.get('div.toast__message>span').should('be.visible').first().contains('1 new message');\n  cy.postMessageAs({\n    sender: otherUser,\n    message: 'This is another new message',\n    channelId: townsquareChannelId\n  }).then(function () {\n    cy.get('div.toast__message>span').should('be.visible').first().contains('2 new message');\n  });\n});","err":{},"uuid":"e29e2c0e-205b-48dc-9519-39e8496700ec","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"New message count should reset when dismissed","fullTitle":"toasts New message count should reset when dismissed","timedOut":null,"duration":4889,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad();\nscrollUpAndPostAMessage();\ncy.get('div.toast').should('be.visible');\ncy.get('div.toast__message>span').should('be.visible').first().contains('1 new message');\ncy.findByTestId('dismissToast').should('be.visible').click();\ncy.get('div.toast').should('not.be.visible');\ncy.postMessageAs({\n  sender: otherUser,\n  message: 'This is another new message',\n  channelId: townsquareChannelId\n}).then(function () {\n  cy.get('div.toast__message>span').should('be.visible').first().contains('1 new message');\n});","err":{},"uuid":"bb9d956a-d236-4ca4-af21-12732f657492","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"Marking channel as unread should make unread toast appear","fullTitle":"toasts Marking channel as unread should make unread toast appear","timedOut":null,"duration":24690,"state":"failed","speed":null,"pass":false,"fail":true,"pending":false,"context":"{\n  \"title\": \"Failing Screenshot: >> screenshots/e2e/cypress/integration/toast/toast_spec.js/toasts -- Marking channel as unread should make unread toast appear (failed).png\",\n  \"value\": \"screenshots/e2e/cypress/integration/toast/toast_spec.js/toasts -- Marking channel as unread should make unread toast appear (failed).png\"\n}","code":"visitTownSquareAndWaitForPageToLoad();\nscrollUp();\ncy.getNthPostId(40).then(function (postId) {\n  cy.get(\"#post_\".concat(postId)).trigger('mouseover');\n  cy.get(\"#post_\".concat(postId, \" .post__dropdown\")).click({\n    force: true\n  }); // # Mark post as unread\n  cy.get(\"#post_\".concat(postId, \" #unread_post_\").concat(postId)).should('be.visible').click(); // # Visit another channel and come back to the same channel again\n  cy.get('#sidebarItem_off-topic').should('be.visible').scrollIntoView().click();\n  cy.get('div.post-list__dynamic').should('be.visible');\n  cy.get('#sidebarItem_town-square').should('be.visible').scrollIntoView().click(); // # Scroll up so bottom is not visible\n  scrollUp(); // # Toast apprears and has the appropriate message\n  cy.get('div.toast').should('be.visible');\n  cy.get('div.toast__message>span').should('be.visible').first().contains('new messages since');\n});","err":{"message":"CypressError: Timed out retrying: Expected to find element: '#post_cty5r7j3hb8xxde1gyodc1s66y .post__dropdown', but never found it.","estack":"CypressError: Timed out retrying: Expected to find element: '#post_cty5r7j3hb8xxde1gyodc1s66y .post__dropdown', but never found it.\n    at cypressErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149934:9)\n    at throwErr (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149867:11)\n    at Object.throwErrByPath (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:149915:3)\n    at retry (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:144197:19)\n    at onFailFn (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:132448:16)\n    at tryCatcher (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:167415:23)\n    at Promise._settlePromiseFromHandler (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165351:31)\n    at Promise._settlePromise (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165408:18)\n    at Promise._settlePromise0 (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165453:10)\n    at Promise._settlePromises (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:165528:18)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueue (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162140:16)\n    at Async../node_modules/bluebird/js/release/async.js.Async._drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162150:10)\n    at Async.drainQueues (https://cypress.test.mattermost.com/__cypress/runner/cypress_runner.js:162024:14)","diff":null},"uuid":"7a3721d4-e1c5-477d-b981-c1ebc76815d6","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"New message line should move if user is scrolled up and new messages arrive","fullTitle":"toasts New message line should move if user is scrolled up and new messages arrive","timedOut":null,"duration":6342,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"visitTownSquareAndWaitForPageToLoad(); // # Scroll to the last post\ncy.get('div.post-list__dynamic').scrollTo('bottom', {\n  duration: 1000\n}); // # Post a new message\ncy.postMessageAs({\n  sender: otherUser,\n  message: 'post1',\n  channelId: townsquareChannelId\n}).then(function () {\n  // * The new messages line should appear above the last post\n  cy.get('.NotificationSeparator').should('exist').parent().parent().next().should('contain', 'post1');\n  scrollUp();\n  cy.postMessageAs({\n    sender: otherUser,\n    message: 'post2',\n    channelId: townsquareChannelId\n  }).then(function () {\n    // * The new messages line should have moved to the last post\n    cy.get('.NotificationSeparator').parent().parent().next().should('contain', 'post2');\n  });\n});","err":{},"uuid":"66645644-63e5-439b-9532-f05f26e98613","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"Archive toast is not shown when visiting a permalink at the bottom","fullTitle":"toasts Archive toast is not shown when visiting a permalink at the bottom","timedOut":null,"duration":5551,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Add one message\ncy.postMessageAs({\n  sender: otherUser,\n  message: 'This is a message for permalink',\n  channelId: townsquareChannelId\n}).then(function (_ref) {\n  var id = _ref.id;\n  visitTownSquareAndWaitForPageToLoad();\n  cy.visit(\"/\".concat(testTeam.name, \"/pl/\").concat(id));\n  cy.findAllByTestId('postView').should('be.visible'); // * Toast should not be present\n  cy.get('div.toast').should('not.be.visible');\n});","err":{},"uuid":"02ecc815-1b90-4232-9a90-a4e5793f022a","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false},{"title":"Archive toast should be shown when visiting a post which is not at bottom","fullTitle":"toasts Archive toast should be shown when visiting a post which is not at bottom","timedOut":null,"duration":12928,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Add one message\ncy.postMessageAs({\n  sender: otherUser,\n  message: 'This is a message for permalink',\n  channelId: townsquareChannelId\n}).then(function (_ref2) {\n  var id = _ref2.id;\n  visitTownSquareAndWaitForPageToLoad(); // # Add 29 posts to create enough space from bottom for showing archive toast\n  for (var index = 0; index < 25; index++) {\n    cy.postMessageAs({\n      sender: otherUser,\n      message: \"# This is an old message [\".concat(index, \"]\"),\n      channelId: townsquareChannelId\n    });\n  } // cy.visit(`/${testTeam.name}/channels/off-topic`);\n\n  cy.get('#sidebarItem_off-topic').should('be.visible').click();\n  cy.visit(\"/\".concat(testTeam.name, \"/pl/\").concat(id));\n  cy.findAllByTestId('postView').should('be.visible'); // * Toast should be present\n  cy.get('div.toast').should('be.visible').contains('Viewing message history');\n});","err":{},"uuid":"03f6801b-ea33-448c-a4bf-c6cafdc2a402","parentUUID":"cc099213-ea84-4bd1-9d16-a004b2d79b32","isHook":false,"skipped":false}],"suites":[],"passes":["1d00b601-4d44-461e-a4fa-574733df8efc","51b61dc5-ae3e-435e-841a-fcfdd444a6b0","1e67752c-4b1f-4556-9783-55b2bb57e937","57b9032d-676e-4464-b650-043d5869c75d","d37f8408-6c63-488d-a04b-336adb63c8c4","d9b12b65-f612-4204-9ae4-05339086c311","5a21ad69-6678-44d3-b6cf-e66c8cfc095c","e29e2c0e-205b-48dc-9519-39e8496700ec","bb9d956a-d236-4ca4-af21-12732f657492","66645644-63e5-439b-9532-f05f26e98613","02ecc815-1b90-4232-9a90-a4e5793f022a","03f6801b-ea33-448c-a4bf-c6cafdc2a402"],"failures":["7a3721d4-e1c5-477d-b981-c1ebc76815d6"],"pending":[],"skipped":[],"duration":113281,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000},{"uuid":"c262a6e6-6f25-4449-a6c5-6e6e172fcbeb","title":"","fullFile":"cypress/integration/websocket/handle_removed_user_spec.js","file":"cypress/integration/websocket/handle_removed_user_spec.js","beforeHooks":[],"afterHooks":[],"tests":[],"suites":[{"uuid":"cc0edcfb-4ea0-43fd-bcf1-bced004ef5ed","title":"Handle removed user - old sidebar","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should be redirected to last channel when a user is removed from their current channel","fullTitle":"Handle removed user - old sidebar should be redirected to last channel when a user is removed from their current channel","timedOut":null,"duration":4178,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('be.visible').should('be.visible').should('contain', teamName); // # Click on Off Topic\ncy.get('.sidebar-item:contains(Off-Topic)').should('be.visible').click(); // * Verify that the channel changed\ncy.url().should('include', \"/\".concat(teamName, \"/channels/off-topic\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Off-Topic'); // # Remove the Guest User from channel\nvar channelId;\ncy.getCurrentChannelId().then(function (res) {\n  channelId = res;\n  return cy.apiGetMe();\n}).then(function (res) {\n  var userId = res.body.id;\n  return cy.removeUserFromChannel(channelId, userId);\n}).then(function () {\n  // * Verify that the channel changed back to Town Square and that Off-Topic has been removed\n  cy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\"));\n  cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square');\n  cy.get('.sidebar-item:contains(Off-Topic)').should('not.exist');\n});","err":{},"uuid":"e5b2cb8e-5f92-416d-a1c8-5701181f4bb9","parentUUID":"cc0edcfb-4ea0-43fd-bcf1-bced004ef5ed","isHook":false,"skipped":false}],"suites":[],"passes":["e5b2cb8e-5f92-416d-a1c8-5701181f4bb9"],"failures":[],"pending":[],"skipped":[],"duration":4178,"root":false,"rootEmpty":false,"_timeout":2000},{"uuid":"50999a7a-76c2-4d12-bd07-817d6c25cded","title":"Handle removed user - new sidebar","fullFile":"","file":"","beforeHooks":[],"afterHooks":[],"tests":[{"title":"should be redirected to last channel when a user is removed from their current channel","fullTitle":"Handle removed user - new sidebar should be redirected to last channel when a user is removed from their current channel","timedOut":null,"duration":3208,"state":"passed","speed":"slow","pass":true,"fail":false,"pending":false,"context":null,"code":"// # Start with a new team\nvar teamName = \"team-\".concat((0, _utils.getRandomInt)(999999));\ncy.createNewTeam(teamName, teamName); // * Verify that we've switched to the new team\ncy.get('#headerTeamName').should('be.visible').should('be.visible').should('contain', teamName); // # Click on Off Topic\ncy.get('.SidebarChannel:contains(Off-Topic)').should('be.visible').click(); // * Verify that the channel changed\ncy.url().should('include', \"/\".concat(teamName, \"/channels/off-topic\"));\ncy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Off-Topic'); // # Remove the Guest User from channel\nvar channelId;\ncy.getCurrentChannelId().then(function (res) {\n  channelId = res;\n  return cy.apiGetMe();\n}).then(function (res) {\n  var userId = res.body.id;\n  return cy.removeUserFromChannel(channelId, userId);\n}).then(function () {\n  // * Verify that the channel changed back to Town Square\n  cy.url().should('include', \"/\".concat(teamName, \"/channels/town-square\"));\n  cy.get('#channelHeaderTitle').should('be.visible').should('contain', 'Town Square');\n});","err":{},"uuid":"749961b8-0d56-40f5-9aa4-422f352d9049","parentUUID":"50999a7a-76c2-4d12-bd07-817d6c25cded","isHook":false,"skipped":false}],"suites":[],"passes":["749961b8-0d56-40f5-9aa4-422f352d9049"],"failures":[],"pending":[],"skipped":[],"duration":3208,"root":false,"rootEmpty":false,"_timeout":2000}],"passes":[],"failures":[],"pending":[],"skipped":[],"duration":0,"root":true,"rootEmpty":true,"_timeout":2000}],"meta":{"mocha":{"version":"7.0.1"},"mochawesome":{"options":{"quiet":true,"reportFilename":"json/cypress/integration/accessibility/accessibility_account_settings_spec.js","saveHtml":false,"saveJson":true,"consoleReporter":"spec","useInlineDiffs":false},"version":"4.1.0"},"marge":{"options":{"id":"default","reportDir":"results/mochawesome-report","reportFilename":"json/cypress/integration/accessibility/accessibility_account_settings_spec.js","quiet":true,"overwrite":false,"html":false,"json":true},"version":"4.1.0"}}}
